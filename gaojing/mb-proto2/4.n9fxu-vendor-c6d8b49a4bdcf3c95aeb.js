try{let Ce=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{},ae=new Ce.Error().stack;ae&&(Ce._sentryDebugIds=Ce._sentryDebugIds||{},Ce._sentryDebugIds[ae]="8bc62be1-ad9f-408d-98ad-fd8fc56ec326",Ce._sentryDebugIdIdentifier="sentry-dbid-8bc62be1-ad9f-408d-98ad-fd8fc56ec326")}catch(Ce){}{let Ce=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{};Ce.SENTRY_RELEASE={id:"21.8.10"}}(self.webpackChunk_mb2024_mb_proto=self.webpackChunk_mb2024_mb_proto||[]).push([[908],{1076:(Ce,ae,n)=>{"use strict";n.d(ae,{Ay:()=>d,X2:()=>p});const s={user:{id:0,user_id:"",user_cid:"",email:"",is_viewer:!1,name:"",mobile:null,avatar:""},org:{name:"",cid:"",logo:null,spaces:[],plan:"",trial_end_on:null,next_billing_on:"",settings:{},permissions:[],limitation:{is_export_watermark:!1,is_org_quit_transfer:!0,is_org_recent:!0,max_mkt_count:0,max_org_log_days:0,max_pic_bytes:0,max_project_count:0,max_project_share_count:0,max_project_template_count:0,max_project_version_count:0,max_recycler_days:0,max_screen_count:0,storage:0},members:[]},space:{cid:"",created_at:"",deleted:!1,name:"",org_cid:"",permissions:[],space_type:"",updated_at:"",user_id:0,is_disable_banned_viewer:!0},folderListMap:new Map,projectListMap:new Map,lang:"zh-CN"};let p=function(D){return D.UpdateState="reducer:update:user",D.UpdateUser="reducer:update:user",D.UpdateOrg="reducer:update:org",D.UpdateSpace="reducer:update:space",D.UpdateFolderListMap="reducer:update:folderListMap",D.UpdateProjectListMap="reducer:update:projectListMap",D}({});const d=function(D,Q){D===void 0&&(D=s);const{type:z,payload:R}=Q;switch(z){case p.UpdateState:return{...D,...R};case p.UpdateUser:return{...D,user:{...D.user,...R}};case p.UpdateOrg:return{...D,org:{...D.org,...R}};case p.UpdateSpace:return{...D,space:{...D.space,...R}};case p.UpdateFolderListMap:return{...D,folderListMap:R};case p.UpdateProjectListMap:return{...D,projectListMap:R};default:return D}}},5649:(Ce,ae,n)=>{"use strict";n.d(ae,{s:()=>k,A:()=>Z});var s=n(95549),p=n(38502),M=n(53732),d=n.n(M),D=n(69173),Q=n.n(D),z=n(91752),R=n(39e3),q=n(23089),N=n(17307),F=n(83199),ie=n(93257),B=n(57479),pe=n(69815),V=n(67787),G=n(69594);const I=(0,V.DU)([".no-pointer-events{pointer-events:none;user-select:none;&.col-resize{cursor:",";}&.row-resize{cursor:",";}}"],G.M.ewResizeActive,G.M.nsResizeActive),v=V.Ay.label.withConfig({displayName:"styles__StyledInputNumber",componentId:"sc-1hqayf3-0"})(['position:relative;display:flex;justify-content:space-between;align-items:center;min-width:2em;border:1px solid transparent;font-family:-apple-system,system-ui,BlinkMacSystemFont,"Segoe UI","Helvetica Neue",Arial,sans-serif;height:28px;font-size:12px;border-radius:6px;overflow:hidden;.title{display:flex;align-items:center;justify-content:center;padding:0 3px 0 5px;width:max-content;height:100%;user-select:none;color:',";&.title-cursor{&.col-resize{cursor:",";}&.row-resize{cursor:",";}}}.left-title{padding:0 13px 0 0;}.normal-right{margin-left:","px;}input{color:",";width:100%;height:100%;margin-left:8px;cursor:default;}.text-align-right{text-align:right;padding-right:2px;}.suffix{position:absolute;top:0;display:flex;align-items:center;height:100%;pointer-events:none;user-select:none;width:100%;color:",";&::before{content:attr(data-value);display:inline-block;margin-right:0.125em;width:fit-content;overflow:hidden;opacity:0;}}.action{position:absolute;top:0;right:0;width:14px;height:100%;text-align:center;visibility:hidden;svg{height:4px;fill:currentColor;fill-rule:evenodd;}button{display:block;margin:0;padding:0;width:100%;height:50%;line-height:0;color:",";&.no-transition{transition:none;}&:hover{color:",";}&:active{color:",";}&[data-action=up] svg{margin:5px 0 2px;}&[data-action=down] svg{margin:2px 0 5px;}}&.caret{width:26px;svg{width:26px;height:26px;margin-right:0;color:",";}button{height:100%;}&.active{visibility:visible;}}}&.is-disabled{> *{color:",";cursor:not-allowed;}}&.is-readOnly{pointer-events:none;.action{visibility:hidden;}}&:hover:not(.has-menu):not(.is-disabled){border:1px solid ",";.action{visibility:visible;color:#c8cdd0;}}&.is-active:not(.has-menu):not(.is-disabled){border:1px solid ",";outline:1px solid ",";outline-offset:-2px;.action{&:not(.caret){visibility:visible;}}}&.is-active-title{border:1px solid ",";outline:1px solid ",";outline-offset:-2px;cursor:pointer;}&.has-menu{border:1px solid transparent;input{width:calc(100% - 26px);border:1px solid transparent;border-radius:4px 0 0 4px;margin-left:0;padding-left:5px;}&:hover:not(.is-active):not(.is-disabled){border:1px solid ",";.action.caret{visibility:visible;background:",";svg.icon{color:",";}}}&:active:not(.is-active):not(.is-disabled){border:1px solid ",";.action.caret{visibility:visible;background:",";svg.icon{color:",";}}}&.is-active{overflow:visible;input{border:1px solid ",";outline:1px solid ",";position:relative;z-index:2;}.action.caret{visibility:visible;color:#c8cdd0;position:relative;z-index:1;svg.icon{color:",";}&:hover{background:",";border-radius:0 4px 4px 0;outline:1px solid ",";}}}}"],T=>T.theme.color_text_L3,G.M.ewResize,G.M.nsResize,T=>31-T.valueLength*6,T=>T.theme.color_text_L1,T=>T.theme.color_text_L2,T=>T.theme.color_text_L3,T=>T.theme.color_text_L2,T=>T.theme.color_text_L2,T=>T.theme.color_text_L3,T=>T.theme.color_text_disabled01,T=>T.theme.color_bg_border_02,T=>T.theme.color_proto,T=>T.theme.color_proto,T=>T.theme.color_proto,T=>T.theme.color_proto,T=>T.theme.color_bg_border_02,T=>T.theme.color_btn_secondary_hover,T=>T.theme.color_text_L1,T=>T.theme.color_bg_border_02,T=>T.theme.color_btn_secondary_active,T=>T.theme.color_text_L1,T=>T.theme.color_proto,T=>T.theme.color_proto,T=>T.theme.color_text_L1,T=>T.theme.color_btn_secondary_hover,T=>T.theme.color_bg_border_02);var S=n(72214);const g=500,f=30,h=(T,X)=>Number(Number(T).toFixed(X));function b(T,X,y){return y===void 0&&(y=0),X?T:h(T!==""&&Q()(Number(T))?Number(T):"",y)}const C=function(T,X){let{shiftKey:y,metaKey:A}=T;return X===void 0&&(X=1),y?X*10:A?X*100:X},L=T=>{let{currentTarget:X}=T;return setTimeout(()=>X.select(),50)};class Z extends p.PureComponent{constructor(X){super(X),(0,s.A)(this,"setElemRef",y=>this.$title=y),(0,s.A)(this,"setLabelRef",y=>this.$label=y),(0,s.A)(this,"setInputRef",y=>this.$input=y),(0,s.A)(this,"onChange",y=>{const{target:{value:A}}=y,{isEditing:se}=this.state;!se&&this.setState({isEditing:!0});const ee=A.trim();this.setValue(ee,y)}),(0,s.A)(this,"correctNumber",y=>{const{value:A,min:se,max:ee,precision:ne,suffix:te,parser:fe}=this.props,De=fe(y,te),Ye=h(Math.min(Math.max(De,se),ee),ne);return isNaN(Ye)?A:Ye}),(0,s.A)(this,"checkValidity",y=>/^\+$/.test(y)?this.canBePositive:/^-$/.test(y)?this.canBeNegative:y===""||isFinite(y)&&this.correctNumber(y)===Number(y)),(0,s.A)(this,"setValue",(y,A,se)=>{A.persist&&A.persist(),this.setState({value:y},se)}),(0,s.A)(this,"setConfirmedValue",(y,A)=>this.setValue(y,A,()=>this.onConfirm(A))),(0,s.A)(this,"getConfirmValue",y=>{const{value:A,precision:se,shouldCorrectOnConfirm:ee,onlyPreview:ne,fontSize:te,fontFamily:fe,isWRichText:De}=this.props,Ye=this.checkValidity(y);if(this.props.isDisabled||this.props.disabled)return A;const Re=this.correctNumber(y),mt=isNaN(Re)?A:Re;let Pe=y===""?A:Ye?/^[+-]$/.test(y)?0:ne?Math.min(Math.max(Number(y),20),400):Number(y):Re===h(y,se)?Re:ee?mt:A||mt;return(!Ye||y==="")&&De&&(Pe=(0,pe.qp)(fe,te)),Pe}),(0,s.A)(this,"onConfirm",y=>{const{attr:A,onConfirm:se}=this.props,{value:ee}=this.state,ne=this.getConfirmValue(ee);return this.setState({value:ne,isEditing:!1},()=>se(ne,A,y,ee))}),(0,s.A)(this,"focusOnInput",y=>{try{const A=y.currentTarget.closest("label").querySelector("input");setTimeout(()=>{A.focus()})}catch(A){console.error(A)}}),(0,s.A)(this,"onStep",async y=>{y.persist(),y.nativeEvent.stopPropagation(),this.handleBeforeChangeValue();const{parser:A,suffix:se}=this.props,{value:ee}=this.state,ne=A(ee,se),{action:te}=y.currentTarget.dataset,fe=C(y,this.props.step)*(te==="up"?1:-1);await this.focusOnInput(y),this.setConfirmedValue(this.correctNumber(ne+fe),y),Object.assign(this,{longPressedTimeout:setTimeout(()=>Object.assign(this,{steppingInterval:setInterval(()=>{const{parser:De,suffix:Ye}=this.props,{value:je}=this.state,Re=De(je,Ye);this.setConfirmedValue(this.correctNumber(Re+fe),y)},f)}),g)})}),(0,s.A)(this,"onRelease",()=>{clearTimeout(this.longPressedTimeout),clearInterval(this.steppingInterval),this.handleAfterChangeValue()}),(0,s.A)(this,"onFocus",y=>{const{attr:A,dontSelectOnFocus:se,onFocus:ee=se?void 0:L}=this.props;this.state.isActive||this.setActive(),ee(y,A)}),(0,s.A)(this,"onKeyDown",y=>{const{key:A,currentTarget:se}=y,{disableKeyboardEvents:ee}=this.props;if(ee&&(A===B._.ArrowUp||A===B._.ArrowDown)){y.preventDefault();return}const ne=A===B._.ArrowUp?"up":A===B._.ArrowDown?"down":A===B._.Enter?"enter":A===B._.Tab?"tab":null,te=se instanceof Element&&se.matches("input");if(ne){if(y.persist&&y.persist(),ne!=="tab"&&y.preventDefault(),te&&ne==="tab")return this.setInactive(),this.setState({isEditing:!1}),this.onConfirm(y);if(te&&ne==="enter"){y.stopPropagation(),this.onConfirm(y),this.setInactive(),this.setState({isEditing:!1}),this.$input.blur();return}if(te){const{parser:fe,suffix:De}=this.props,{value:Ye}=this.state,je=fe(Ye,De),Re=C(y,this.props.step)*(ne==="up"?1:-1);this.handleBeforeChangeValue(),this.setState({isEditing:!1}),this.setConfirmedValue(this.correctNumber(je+Re),y)}}}),(0,s.A)(this,"setActive",()=>{this.setState({isActive:!0}),MB&&MB.f&&(MB.f.isInSetting=!0);const{withToolTip:y,onChangeTooltipsHover:A}=this.props;y&&(this.setState({showTooltip:!1}),A&&A(!1))}),(0,s.A)(this,"setInactive",()=>{this.setState({isActive:!1,isEditing:!1}),MB&&MB.f&&(MB.f.isInSetting=!1)}),(0,s.A)(this,"toggleMenu",()=>this.setState({isMenuOpen:!this.state.isMenuOpen})),(0,s.A)(this,"closeMenu",()=>this.setState({isMenuOpen:!1})),(0,s.A)(this,"onSelect",y=>{y.persist();const{attr:A,onConfirm:se}=this.props,{currentTarget:ee}=y,{value:ne}=ee.dataset;this.setState({value:ne,isEditing:!1},()=>se(ne,A,y)),this.setInactive(),this.closeMenu()}),(0,s.A)(this,"onClickOutside",y=>{const{target:A}=y,{onClickOutside:se}=this.props;se&&!(se!=null&&se(y))||A.closest("label")&&this.$label.contains(A)||A.closest(".SelectOption")||(this.onConfirm(y),this.setInactive(),this.setState({isEditing:!1}))}),(0,s.A)(this,"onBlur",async y=>{await this.onConfirm(y),this.setState({isEditing:!1}),this.props.onBlur(y)}),(0,s.A)(this,"handleRectResize",y=>{y.stopPropagation();const{isDisabled:A,disabled:se,cursorSize:ee,cursorDirection:ne,onResizeMove:te,onResizeEnd:fe,attr:De}=this.props;if(A||se)return;const{left:Ye,right:je,top:Re,bottom:mt}=this.$title.getBoundingClientRect();this.lastRecordedClientX=ee==="col-resize"?(Ye+je)/2:(Re+mt)/2,this.lastRecordedValue=Number(this.state.value),this.setState({isTitleActive:!0}),document.querySelector("html").classList.add("no-pointer-events",ee),sdkStore.combineMergeMark("input-number-"+De),this.handleBeforeChangeValue();const Pe=Y=>{te&&te();const me=(ee==="col-resize"?Y.pageX:Y.pageY)-this.lastRecordedClientX,Ne=this.correctNumber(this.lastRecordedValue+(ne?Number(me):-Number(me)));this.setConfirmedValue(Ne,Y)},J=()=>{fe&&fe(),this.setState({isTitleActive:!1}),document.querySelector("html").classList.remove("no-pointer-events",ee),this.handleAfterChangeValue(),sdkStore.combineMerge("input-number-"+De),document.removeEventListener("mousemove",Pe),document.removeEventListener("mouseup",J)};document.addEventListener("mousemove",Pe),document.addEventListener("mouseup",J)}),(0,s.A)(this,"handleChangeCursor",()=>{const{isDisabled:y,disabled:A}=this.props;y||A||this.setState({isCursor:!this.state.isCursor})}),(0,s.A)(this,"handleAfterChangeValue",()=>{const{onAfterChangeValue:y}=this.props;y()}),(0,s.A)(this,"handleBeforeChangeValue",()=>{const{onBeforeChangeValue:y}=this.props;y()}),(0,s.A)(this,"onInputNumberMouseEnter",y=>{const{onMouseEnter:A,withToolTip:se,onChangeTooltipsHover:ee}=this.props;A(y),this.setState({mouseEntered:!0});const ne=()=>this.setState({showTooltip:!0});se&&(ee?ee(!0,ne):ne())}),(0,s.A)(this,"onInputNumberMouseLeave",y=>{const{onMouseLeave:A,withToolTip:se,onChangeTooltipsHover:ee}=this.props;A(y),this.setState({mouseEntered:!1}),se&&(this.setState({showTooltip:!1}),ee&&ee(!1))}),this.state={prevProps:this.props,value:b(this.props.value,this.props.isNotVerify,this.props.precision),isActive:!1,isMenuOpen:!1,isTitleActive:!1,isCursor:!1,isEditing:!1,showTooltip:!1,mouseEntered:!1},this.lastRecordedClientX=null,this.lastRecordedValue=b(this.props.value,this.props.isNotVerify,this.props.precision),this.toolTipNode=document.getElementById("IBOT_TOOLTIP_ROOT")}static getDerivedStateFromProps(X,y){let{prevProps:A,value:se}=y;return A.value!==X.value||A.isNotVerify!==X.isNotVerify||A.precision!==X.precision?{prevProps:X,value:b(X.value,X.isNotVerify,X.precision)}:null}componentDidMount(){this.props.isSelect&&(this.$input.select(),this.setState({isActive:!0}))}componentDidUpdate(X){!X.isSelect&&this.props.isSelect&&this.$input.select()}componentWillUnmount(){if(!this.props.unMountCallback||!this.state.isActive)return;const{value:X,attr:y,unMountCallback:A}=this.props,{value:se}=this.state,ee=this.getConfirmValue(se);String(X)!==String(ee)&&A&&A(ee,y,new Event("dummy"),se)}get canBePositive(){return this.props.max>0}get canBeNegative(){return this.props.min<0}render(){const{inputClassName:X,menuClassName:y,className:A="",placeholder:se,title:ee,rightTitle:ne,cursorSize:te,suffix:fe,actionButton:De,formatter:Ye,optionList:je,canSlidingAdjustment:Re,readOnly:mt,toolTipContent:Pe,showCaretIcon:J,normalRight:Y,isLongTimeHoverForInput:me=!1}=this.props,{value:Ne,isActive:ke,isMenuOpen:Ge,isTitleActive:Me,isCursor:Ie,isEditing:Je,showTooltip:nt,mouseEntered:yt}=this.state,xt=Ne,bt=this.props.isDisabled||this.props.disabled,wt=je&&je.length>0,r=d()(A,"WorkspaceInputNumber",{"is-disabled":bt,"is-active":ke&&!bt,"is-menu-open":Ge,"is-active-title":Me,"can-sliding-adjustment":Re,"has-menu":wt,"is-readOnly":mt}),ue=se,ve=String(Ne).split(".").join("").length-1,Te=me?F.A:ie.A;return(0,S.jsx)(Te,{content:Pe,direction:"down",children:(0,S.jsxs)(v,{className:r,ref:this.setLabelRef,onMouseDown:wt?void 0:this.setActive,onMouseEnter:this.onInputNumberMouseEnter,onMouseLeave:this.onInputNumberMouseLeave,valueLength:ve,children:[ee&&(0,S.jsx)("span",{className:d()("title",{"title-cursor":Ie},te),ref:this.setElemRef,onMouseDown:this.handleRectResize,onMouseEnter:this.handleChangeCursor,onMouseLeave:this.handleChangeCursor,children:ee}),(0,S.jsx)("input",{className:d()(X,{"text-align-right":Y&&!yt&&!ke}),type:"text",value:Je?xt:Ye(xt,fe),placeholder:ue,ref:this.setInputRef,disabled:bt,onChange:this.onChange,onKeyDown:this.onKeyDown,onKeyUp:this.handleAfterChangeValue,onMouseDown:wt?this.setActive:void 0,onFocus:this.onFocus,onBlur:this.onBlur}),ne&&(0,S.jsx)("span",{className:d()("title","left-title",{"title-cursor":Ie},te),ref:this.setElemRef,onMouseDown:this.handleRectResize,onMouseEnter:this.handleChangeCursor,onMouseLeave:this.handleChangeCursor,children:ne}),De&&(0,S.jsx)(u,{hasMenu:wt,onToggleMenu:this.toggleMenu,onStep:this.onStep,onRelease:this.onRelease,showCaretIcon:J}),wt&&Ge&&(0,S.jsx)(q.V0,{isOpen:Ge,menuClassName:d()("SelectNumberMenu",y),$select:this.$label,optionList:je,value:xt,onChange:this.onSelect,onClose:this.closeMenu}),ke&&(0,S.jsx)(R.A,{target:document,onMouseDown:(0,R.t)(this.onClickOutside,{capture:!0})})]})})}}(0,s.A)(Z,"defaultProps",{unstyled:!1,value:"",placeholder:"",cursorSize:"col-resize",inputClassName:"",menuClassName:"",cursorDirection:!0,step:1,isNotVerify:!1,formatter:(T,X)=>""+T+(X||""),parser:(T,X)=>{const y=T.toString();return X&&y.endsWith(X)?Number(y.slice(0,y.length-X.length)):Number(y)},min:0,max:1/0,isDisabled:!1,disabled:!1,readOnly:!1,actionButton:!0,isSelect:!1,onConfirm:()=>null,onMouseEnter:()=>null,onMouseLeave:()=>null,onAfterChangeValue:()=>null,onBeforeChangeValue:()=>null,onBlur:()=>null,shouldCorrectOnConfirm:!0,precision:0,dontSelectOnFocus:!1,canSlidingAdjustment:!0,isLineHeight:!1,disableKeyboardEvents:!1});const u=(0,p.memo)(T=>{let{hasMenu:X,onToggleMenu:y,onStep:A,onRelease:se,showCaretIcon:ee}=T;return(0,S.jsxs)(p.Fragment,{children:[X?(0,S.jsx)("div",{className:d()("action caret",{active:ee}),children:(0,S.jsx)(z.Ay,{className:"no-transition",type:"text",tabIndex:"-1",onClick:y,children:(0,S.jsx)(N.C,{name:"common/expand@26"})})}):(0,S.jsxs)("div",{className:"action",children:[(0,S.jsx)(z.Ay,{className:"no-transition",type:"text",tabIndex:"-1","data-action":"up",onMouseDown:A,onMouseLeave:se,onMouseUp:se,children:(0,S.jsx)(N.C,{name:"general/triangle_up"})}),(0,S.jsx)(z.Ay,{className:"no-transition",type:"text",tabIndex:"-1","data-action":"down",onMouseDown:A,onMouseLeave:se,onMouseUp:se,children:(0,S.jsx)(N.C,{name:"general/triangle_down"})})]}),(0,S.jsx)(I,{})]})}),k=T=>(0,S.jsx)(Z,{...T,isLongTimeHoverForInput:!0})},5743:(Ce,ae,n)=>{"use strict";n.d(ae,{A:()=>p});var s=n(67787);const p=s.Ay.div.withConfig({displayName:"styles__StyledMainPage",componentId:"sc-8fjrks-0"})(["width:414px;background-color:",";color:",";position:relative;height:212px;&.loading{height:212px;}&.dark{.personal-project-access{.title{span{color:rgba(255,255,255,0.9);}}.content{span{color:rgba(255,255,255,0.9);}}}.access-operation{.open-access-switch > span{color:rgba(255,255,255,0.9);}.item-center > button{background-color:#252626;&:hover{background-color:#666666;}span{color:rgba(255,255,255,0.9);}}}.sharing-footer{background-color:#151515;.sharing-type{span{color:rgba(255,255,255,0.9);}.toolbar-icon-item > svg > path{color:rgba(255,255,255,0.9);}}.sharingV2-click-visible{&:hover{background-color:#666666;}span{color:rgba(255,255,255,0.9);}}}}.access-operation{margin:20px 20px 14px;.open-access-switch{display:flex;align-items:center;margin-bottom:20px;span{font-weight:500;font-size:14px;line-height:20px;color:#333333;margin-right:6px;}}}"],M=>M.theme.color_bg_white,M=>M.theme.color_text_L2)},5995:Ce=>{var ae=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;function n(s){return s.match(ae)||[]}Ce.exports=n},12246:(Ce,ae,n)=>{"use strict";n.d(ae,{l:()=>s});const s=function(p,M,d,D){d===void 0&&(d=""),D===void 0&&(D=!1);let Q;return p?Q={mode:"org",orgCid:p.cid,payEntrance:M,checkoutArea:"proto",checkoutPlace:d||"org_use_vip_mkt"}:Q={mode:D?"org":"solo",isSelectOrg:!!D,payEntrance:M,checkoutArea:"proto",checkoutPlace:d||"solo_use_vip_mkt"},Q}},12603:(Ce,ae,n)=>{"use strict";n.d(ae,{W:()=>s,p:()=>p});let s=function(M){return M.Org="org",M.OrgSpace="space",M.Folder="folder",M.Project="project",M}({}),p=function(M){return M.OrgSpace="orgspace-permission-tip",M.OrgSpaceLimiter="orgspace-limiter-permission-tip",M.RootFolder="root-folder-permission-tip",M.SubFolder="sub-folder-permission-tip",M.Project="project-permission-tip",M}({})},13076:function(Ce){(function(ae,n){Ce.exports=n()})(this,function(){"use strict";return function(ae,n){n.prototype.isSameOrBefore=function(s,p){return this.isSame(s,p)||this.isBefore(s,p)}}})},16335:(Ce,ae,n)=>{"use strict";if(n.d(ae,{$r:()=>F,$z:()=>z,Aq:()=>ie,Cp:()=>V,Jv:()=>v,PJ:()=>g,Uy:()=>N,Wu:()=>D,X:()=>q,Yk:()=>R,ZF:()=>I,a3:()=>Q,je:()=>S,rd:()=>G}),n.j!=15)var s=n(19249);var p=n(18833),M=n(47946);const d=300,D=async function(f){f===void 0&&(f="");const h=1;let b=[];try{const C=await(0,s.Yo)("/api/community/v1/workspace/my_star?page="+h+(f&&"&category="+f)+"&page_size="+d);C&&(b=C==null?void 0:C.market_templates.filter(L=>(L==null?void 0:L.version)!=="v1"))}catch(C){(0,p.$r)()}return b.map(C=>({...C,is_star:!0}))},Q=async f=>{await(0,s.Ds)("/api/community/v1/market_template/star/"+f)},z=async f=>{await(0,s.DW)("/api/community/v1/market_template/star/"+f)},R=async function(f,h){h===void 0&&(h=!0);let b;try{b=await(0,s.DE)("/api/community/v1/market_template/"+f)}catch(C){h&&(0,p.ai)(C)}return b},q=function(f){return f===void 0&&(f=""),(0,s.rh)("/api/community/v1/market_template?is_from_workspace=true&page="+1+f+"&page_size="+d)},N=async()=>{let f;try{f=await(0,s.DE)("/flpak/ww-p2recent")}catch(h){(0,p.$r)()}return f},F=async()=>{try{return await(0,s.DE)("/api/community/v1/hot_icons")}catch(f){(0,p.$r)()}},ie=async()=>{try{return await(0,s.DE)("/api/community/v1/hot_color_icons")}catch(f){(0,p.$r)()}},B=f=>{let{category:h="combo_group",keyword:b=""}=f;return fetchGetJSON("/api/community/v1/es/basic_resource/search_"+h+"?q="+encodeURIComponent(b))},pe={screen_list:"screen",combo_group:"combo",icon_group:"icon",user_combo:"user_combo"},V=f=>{let{projectUpperType:h="",projectUpperCid:b="",itemCid:C=""}=f;return(0,s.Ds)("/api/community/v1/recent_template",{project_upper_type:pe[h]||h,project_upper_cid:b,item_cid:C})},G=async f=>{const{sdkStore:h}=await(0,M.O3)({flpakKey:f});return h},I=async function(f){f===void 0&&(f="mobile");try{return(await(0,s.DE)("/api/market_template/v4/workspace/new_page_types?platform="+f)).types}catch(h){return console.error(h),[]}},v=async function(f){f===void 0&&(f="mobile");try{return await(0,s.DE)("/api/community/v1/workspace/recommend_page?platform="+f)}catch(h){return(0,p.$r)({onClick:b=>b({type:"entry:resources:set:pagePanel:find:update:data",payload:{platformType:f,isReRequest:!0}})}),{}}},S=async f=>{let{platform:h,firstTypeCid:b,secondTypeCid:C=null}=f;const L={first_type_cid:b,second_type_cid:C,platform:h};let Z=new URLSearchParams;Z=Object.assign(Z,L);for(const[u,k]of Object.entries(Z))k?k==="default"?Z.delete(u):Z.set(u,k):Z.delete(u);try{return await(0,s.DE)("/flpak/ww-p2pagemkt?"+Z.toString())}catch(u){return(0,p.$r)({onClick:k=>k({type:"entry:resources:set:pagePanel:find:update:data",payload:{platformType:h,isReRequest:!0}})}),{}}},g=async()=>{try{const{color_icon_groups:f}=await(0,s.DE)("/api/community/v1/color_icon_groups");return f&&f.length>0?f.reduce((h,b)=>(h[b.source_upper_cid]=b,h),{}):{}}catch(f){return(0,p.$r)(),{}}}},16615:(Ce,ae,n)=>{"use strict";n.d(ae,{qk:()=>G,I2:()=>B,ZI:()=>pe});const s={set:function(I,v,S,g){g===void 0&&(g="/");let f="";if(f+=I+"="+encodeURIComponent(v),g&&(f+=";path="+g),S){const h=new Date;h&&(h.setTime(h.getTime()+S*1e3),f+=";expires="+h.toUTCString())}document.cookie=f},get:function(I){const v=document.cookie.split(";");let S="";for(let g=0;g<v.length;g++){const f=v[g].indexOf(I);if(f!==-1){S=v[g].substring(f+I.length+1,v[g].length);break}}return S}},p=function(I,v){if(I!=="visit")return;const S="visit_id",g=60*24*3600;return s.set(S,v,g,"/"),v},M=function(){const I=s.get("visit_id");if(I&&I!="")return I;const v=new Date,S=v.getFullYear().toString().substr(2,2),g=v.getMonth()+1,f=v.getDate(),h=v.getHours(),b=v.getMinutes(),C=v.getSeconds(),L=v.getMilliseconds();let Z=Math.round(Math.random()*Math.random()*1e4).toString();const u=Z.length;u===1?Z=Z+"000":u===2?Z=Z+"00":u===3&&(Z=Z+"0");let k="2_"+S;return k+=g<10?"0"+g:g,k+=f<10?"0"+f:f,k+=h<10?"0"+h:h,k+=b<10?"0"+b:b,k+=C<10?"0"+C:C,L<10?k+="00"+L:L<100?k+="0"+L:k+=L,k+="_"+Z,p("visit",k),k};var d=function(I){return I.WWW="www",I.WWW_TEST="www-test",I.OVERSEA="oversea",I.OVERSEA_TEST="oversea-test",I}(d||{});const D={www:"https://sc.bosyun.cn","www-test":"https://sc.bosyun.cn",oversea:"https://sc.bosyun.net","oversea-test":"https://sc.bosyun.net"},Q="MD_",z="modao",R=()=>{let I=d.WWW;return/^([a-z0-9]+\.)*mockitt\.com$/.test(location.host)&&(I=d.OVERSEA),I},q=()=>{const I=window.sensorsDataAnalytic201505;if(!I)return;const v=R();I.init({name:"sensors",server_url:D[v]+"/sa.gif?project=production",is_track_single_page:!1,use_client_time:!0,show_log:!1,send_type:"beacon",heatmap:{clickmap:"not_collect",scroll_notice_map:"not_collect"}}),I.identify(M(),!0),I.registerPage({product:z}),window.sensors=I},N=function(I){var v;if(window.sensors){I=""+Q+I;for(var S=arguments.length,g=new Array(S>1?S-1:0),f=1;f<S;f++)g[f-1]=arguments[f];(v=window.sensors)==null||v.track(I,...g)}},F=function(){return window.sensors&&window.sensors.setOnceProfile(...arguments)},ie=function(){return window.sensors&&window.sensors.setProfile(...arguments)},B=ENV.NO_TRACK?()=>{}:q,pe=ENV.NO_TRACK?()=>{}:N,V=ENV.NO_TRACK?()=>{}:F,G=ENV.IS_MO?I=>{if(!window.gtag)return console.error("gtag is not a function");window.gtag("config","UA-4839360-64",{user_id:I,transport_type:"beacon"})}:()=>{}},18833:(Ce,ae,n)=>{"use strict";n.d(ae,{$r:()=>q,AG:()=>D,FY:()=>d,K7:()=>R,ai:()=>Q,m0:()=>z});var s=n(19249),p=n(87612),M=n(88856);const d=async(N,F)=>{if((0,p.p)("[alertAsyncBlocked]",N,{url:N.url,status:N.status}),N.status===403||/403/.test(N.message)){var ie;(ie=MB)==null||(ie=ie.messageBucket)==null||ie.send("mobileLoadProjectError",{errMsg:I18N.dPages.cant_edit_desc}),await MB.global.popupHelper.alertAsyncBlocked({title:I18N.dModule.cant_edit,confirmText:I18N.dModule.exit_editing,desc:I18N.dModule.cant_edit_desc}).then(()=>F?F():MB.global.onBackButtonClick())}else if(N.status===401||/401/.test(N.message))R(),await MB.global.popupHelper.alertAsyncBlocked({title:I18N.dModule.err_info_modal.INVALID_COOKIE.title,desc:I18N.dModule.err_info_modal.INVALID_COOKIE.desc,confirmText:I18N.dModule.confirm}).then(()=>F?F():D());else{var B;const pe=String(N.status||N.message||"UNKNOWN").replace(/\s/g,"").slice(0,16);(B=MB)==null||(B=B.messageBucket)==null||B.send("mobileLoadProjectError",{errMsg:window.I18N.dModule.unknown_error.replace(/%s/i,pe)}),await MB.global.popupHelper.alertAsyncBlocked({desc:window.I18N.dModule.unknown_error.replace(/%s/i,pe),isHTML:!0})}},D=async()=>{try{await(0,s.DE)("/api/web/v3/initial"),location.reload()}catch(N){const F=location.origin+"/signin?next="+location.pathname;location.href=F}},Q=N=>{N.status===404&&N.error_type==="MT_NOT_FOUND"&&MB.notice({text:I18N.dModals.template_no_available,type:"error"})},z=async(N,F)=>{N.status===403||/403/.test(N.message)?F():(N.status===401||/401/.test(N.message))&&await MB.global.popupHelper.alertAsyncBlocked({title:I18N.dModule.err_info_modal.INVALID_COOKIE.title,desc:I18N.dModule.err_info_modal.INVALID_COOKIE.desc,confirmText:I18N.dModule.confirm}).then(()=>D())},R=()=>{window.top.postMessage(JSON.stringify({sharingMessage:"sharing:loginInvalid"}),"*")},q=function(N){let{onClick:F}=N===void 0?{}:N;F&&!ENV.IS_MO?MB.notice({text:window.I18N.dModule.network_api_error_1,CustomChildComponent:(0,M.DV)({onClick:F}),type:"error",duration:5e3}):MB.notice({text:window.I18N.dModule.network_api_error,type:"error"})}},18941:(Ce,ae,n)=>{"use strict";n.d(ae,{A:()=>p});var s=n(22756);function p(M,d){M.prototype=Object.create(d.prototype),M.prototype.constructor=M,(0,s.A)(M,d)}},19481:(Ce,ae,n)=>{"use strict";n.d(ae,{FU:()=>d,OO:()=>z,Z8:()=>p,au:()=>Q,lY:()=>D,p_:()=>M,zB:()=>s});const s={OWNER:1e4,SUPERMANAGER:9999,MANAGER:999,MEMBER:99,LIMITER:10,VIEWER:9,BANNED:1,UNKNOWN:0,UNJOINED:-1},p={space_owner:16,space_manager:15,space_member:14,space_viewer:13,space_limiter:12,team_owner:11,team_manager:10,team_member:9,team_viewer:8,project_owner:6,project_manager:5,project_member:4,project_viewer:3,project_ban_viewer:2,project_team_owner:1,team_ban_viewer:1},M={org_owner:s.OWNER,org_manager:s.SUPERMANAGER,org_admin:s.MANAGER,org_member:s.MEMBER,org_viewer:s.VIEWER},d={space_owner:s.MANAGER,space_manager:s.MANAGER,space_member:s.MEMBER,space_viewer:s.VIEWER,space_limiter:s.LIMITER},D={team_owner:s.MANAGER,team_manager:s.MANAGER,team_member:s.MEMBER,team_viewer:s.VIEWER,team_none:s.VIEWER,team_ban_viewer:s.BANNED},Q=Object.assign({project_owner:s.MANAGER,project_team_owner:s.MANAGER,project_manager:s.MANAGER,project_member:s.MEMBER,project_viewer:s.VIEWER,project_none:s.VIEWER,project_ban_viewer:s.BANNED},D),z={space_owner:"project_manager",space_manager:"project_manager",space_member:"project_member",space_viewer:"project_viewer",team_owner:"project_manager",team_manager:"project_manager",team_member:"project_member",team_viewer:"project_viewer",team_ban_viewer:"project_ban_viewer",team_none:"project_viewer",project_owner:"project_manager"},R={space_owner:"team_manager",space_manager:"team_manager",space_member:"team_member",space_viewer:"team_viewer",team_none:"team_viewer",team_owner:"team_manager"}},19631:(Ce,ae,n)=>{var s=n(5995),p=n(60820),M=n(59696),d=n(96411);function D(Q,z,R){return Q=M(Q),z=R?void 0:z,z===void 0?p(Q)?d(Q):s(Q):Q.match(z)||[]}Ce.exports=D},21066:(Ce,ae,n)=>{"use strict";n.d(ae,{m:()=>De,cG:()=>mt,Dr:()=>Ye,aM:()=>je,Ay:()=>fe});var s=n(25582),p=n.n(s),M=n(38502),d=n(69623),D=n(67787),Q=n(53732),z=n.n(Q),R=n(51582);class q{constructor(J,Y){J===void 0&&(J=0),Y===void 0&&(Y=0),this.x=J,this.y=Y}inside(J){const{left:Y,right:me,top:Ne,bottom:ke}=J;return this.x>=Y&&this.x<=me&&this.y>=Ne&&this.y<=ke}}const N=(0,M.createContext)(""),F=Pe=>{if(!Pe)return;const J=Pe.getBoundingClientRect(),Y=Pe.classList.contains("sub-menu"),me=1/.8,Ne=1/(.8*.9);if(Y){const Ge=document.getElementById("root-menu").getBoundingClientRect();Ge.top+(J.top-Ge.top)*me+J.height*Ne>window.innerHeight-28&&Pe.classList.add("top"),Ge.left+(J.left-Ge.left)*me+J.width*Ne>window.innerWidth&&Pe.classList.add("left");return}if(J.left+J.width*me>window.innerWidth-28&&Pe.classList.add("left"),J.height>window.innerHeight){Pe.style.height=window.innerHeight+"px",Pe.style.overflow="auto",Pe.style.overflowX="hidden",Pe.style.marginTop=-J.top+"px";return}J.top+J.height<window.innerHeight||(Pe.style.marginTop=window.innerHeight-(J.top+J.height)+"px")},ie=function(Pe,J,Y,me,Ne,ke){let{subMenuLeftOffset:Ge,subMenuTopOffset:Me}=Ne;if(ke===void 0&&(ke=!1),!Pe||!J)return;const Ie=J.getBoundingClientRect(),Je=J.getBoundingClientRect(),nt=1/.9,{left:yt,top:xt}=Y;Ie.top+Ie.height*nt>window.innerHeight-28?Ie.top-Ie.height*nt>0?(Pe.style.bottom="-4px",Pe.style.top="unset"):Pe.style.marginTop=window.innerHeight-28-(Ie.top+Ie.height*nt)+"px":Pe.style.top=Ie.top-xt-11+"px",Ie.left+Ie.width*nt>window.innerWidth?(Pe.style.right=Ie.left+"px",Pe.style.left="unset"):Pe.style.left=Ie.right-yt-1+12*ke+"px",me==="left"&&(Pe.style.left=-2*Ie.width-12-22*ke+"px"),Ge&&(Pe.style.left=parseInt(Pe.style.left)+Ge+4*ke+"px"),Me&&(Pe.style.top=parseInt(Pe.style.top)+Me+"px"),Pe.style.maxHeight=window.innerHeight-Je.top+"px"},B=function(Pe,J,Y,me,Ne,ke,Ge){let{subMenuLeftOffset:Me,subMenuTopOffset:Ie}=Ne;if(ke===void 0&&(ke=!1),!Pe||!J)return;const Je=Ge.getBoundingClientRect(),nt=J.getBoundingClientRect(),yt=J.getBoundingClientRect(),{left:xt,top:bt}=Y,{top:wt}=Je;Pe.style.top=nt.top-wt-11+"px",Pe.style.left=nt.right-xt-1+12*ke+"px",me==="left"&&(Pe.style.left=-2*nt.width-12-22*ke+"px"),Me&&(Pe.style.left=parseInt(Pe.style.left)+Me+4*ke+"px"),Pe.style.maxHeight=window.innerHeight-yt.top+"px"},pe=(Pe,J)=>{let{x:Y,y:me}=Pe,Ne=!1;for(let ke=0,Ge=J.length-1;ke<J.length;Ge=ke++){let{x:Me,y:Ie}=J[ke],{x:Je,y:nt}=J[Ge];Ie>me!=nt>me&&Y<(Je-Me)*(me-Ie)/(nt-Ie)+Me&&(Ne=!Ne)}return Ne};var V=n(60719);const G=(0,D.AH)(["background:#333;box-shadow:0 2px 8px rgba(0,0,0,0.3);border-radius:4px;color:#fff;border:1px solid #454647;"]),I=D.Ay.div.withConfig({displayName:"styles__StyledMask",componentId:"sc-h83js-0"})(["position:fixed;top:0;left:0;right:0;width:100vw;height:100vh;z-index:199;"]),v=D.Ay.div.withConfig({displayName:"styles__StyledContextMenu",componentId:"sc-h83js-1"})(["position:fixed;z-index:200;&.size-small > ul{min-width:120px;}ul{list-style:none;}& > ul{position:absolute;top:0;left:0;padding:8px 0;min-width:200px;margin:0;",";&.top{top:initial !important;bottom:-8px;}&.left{left:initial;right:100%;}&.top.left{}&::-webkit-scrollbar{display:block;width:6px;height:6px;}&::-webkit-scrollbar-thumb{background-color:rgba(255,255,255,0.25);border-radius:4px;&:hover{background-color:rgba(255,255,255,0.30);}}}"],G),S=D.Ay.ul.withConfig({displayName:"styles__StyledSubMenu",componentId:"sc-h83js-2"})(["position:absolute;min-width:200px;max-height:500px;padding:4px 0;",";opacity:0;pointer-events:none;overflow-x:hidden;margin:0;&:lang(ja){min-width:260px;}&.is-show{opacity:1;pointer-events:auto;}&.inner-sub{overflow-x:unset;}&.is-normal{li.MenuItem{& > a{padding-left:32px;}&.hasIcon{> a{padding-left:15px;}}}}&.is-airy{li.MenuItem{& > a{padding-left:29px;}&.hasIcon{> a{padding-left:12px;}}}}"],G),g=D.Ay.li.withConfig({displayName:"styles__StyledMenuItem",componentId:"sc-h83js-3"})(["position:relative;a{height:28px;padding-left:16px;display:flex;align-items:center;color:#fff;padding-right:10px;& > span{margin-right:0;display:flex;justifyContent:flex-end;flex:1;alignItems:center;.text{flex:1;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;max-width:100%;line-height:20px;}}& > span{white-space:nowrap;margin-right:16px;.invisible{width:20px;height:20px;display:inline-block;color:",";margin-top:-3px;}}.selected-icon{width:8px;margin-right:9px;}.right-arrow{margin-left:auto;margin-right:-4px;display:flex;align-items:center;}img{width:14px;height:14px;opacity:0.8;margin-right:7px;}.fa-caret-right,.shortcut{margin-left:auto;width:12px;text-align:center;margin-right:-2px;}.shortcut{display:flex;align-items:center;color:#999;.mac{font-size:16px;margin-right:2px;}}.shortfont{display:flex;margin-left:auto;kbd{display:inline-block;text-align:center;min-width:12px;color:rgba(255,255,255,0.7);font-family:Inter;&.key-cmd{width:13px;text-align:right;}&:first-child{margin-left:0;}&:last-child{margin-right:0;}}}}&.hasDivider{a{margin-bottom:4px;}}&:not(.disabled).active{a{background:#666;}}&.disabled{*{cursor:not-allowed;}a{color:rgba(255,255,255,0.22);.right-arrow svg > path{fill:rgba(255,255,255,0.22);}.shortfont kbd{color:rgba(255,255,255,0.22);}}}"],V.f.color_text_L2.value_dark),f=D.Ay.li.withConfig({displayName:"styles__StyledMenuItemFont",componentId:"sc-h83js-4"})(["position:relative;a{height:28px;display:flex;align-items:center;color:#fff;& > span{margin-right:0;display:flex;justifyContent:flex-end;flex:1;alignItems:center;&.text{flex:1;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;max-width:100%;line-height:20px;}&.is-svg{height:14px;}}& > span{white-space:nowrap;margin-left:20px;}.selected-icon{width:16px;position:absolute;}.right-arrow{margin-right:8px;display:flex;align-items:center;}img{width:14px;height:14px;opacity:0.8;margin-right:7px;}.fa-caret-right,.shortcut{margin-left:auto;width:12px;text-align:center;margin-right:-2px;}}&:not(.disabled).active{a{background:#666;}}"]);var h=n(72214);function b(Pe,J,Y){return(J=C(J))in Pe?Object.defineProperty(Pe,J,{value:Y,enumerable:!0,configurable:!0,writable:!0}):Pe[J]=Y,Pe}function C(Pe){var J=L(Pe,"string");return typeof J=="symbol"?J:J+""}function L(Pe,J){if(typeof Pe!="object"||!Pe)return Pe;var Y=Pe[Symbol.toPrimitive];if(Y!==void 0){var me=Y.call(Pe,J||"default");if(typeof me!="object")return me;throw new TypeError("@@toPrimitive must return a primitive value.")}return(J==="string"?String:Number)(Pe)}const Z=(0,h.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,h.jsx)("path",{d:"M5.5 5.04031L5.5 10.9597C5.5 11.3789 5.98497 11.612 6.31235 11.3501L10.012 8.39043C10.2622 8.19027 10.2622 7.80973 10.012 7.60957L6.31235 4.64988C5.98497 4.38797 5.5 4.62106 5.5 5.04031Z",fill:"white",fillOpacity:"0.9"})}),u="M1016 416L1016 -1856L328 -1856L328 416ZM512 -320L832 -320L832 -64L512 -64ZM512 -704L576 -704L576 -512L768 -512L768 -640L704 -640L704 -576L640 -576L640 -704L832 -704L832 -448L512 -448ZM512 192L728 64L512 64L512 0L832 0L832 65L617 192L832 192L832 256L512 256ZM512 -1408L704 -1408L704 -1248L832 -1248L832 -1184L512 -1184ZM512 -1536L624 -1536L624 -1632L512 -1632L512 -1696L832 -1696L832 -1632L688 -1632L688 -1536L832 -1536L832 -1472L512 -1472ZM512 -960L640 -960L640 -1056L512 -1056L512 -1120L832 -1120L832 -1056L704 -1056L704 -896L512 -896ZM512 -832L768 -832L768 -992L832 -992L832 -768L512 -768ZM768 -128L768 -256L576 -256L576 -128ZM640 -1248L640 -1344L576 -1344L576 -1248Z",k="M800 -800L800 -1240L1240 -1240L1240 -800Z",T="M860 416L172 416L548 -1856L1236 -1856ZM478 -320L436 -64L756 -64L798 -320ZM542 -704L499 -448L819 -448L862 -704L670 -704L648 -576L712 -576L723 -640L787 -640L766 -512L574 -512L606 -704ZM393 192L383 256L703 256L713 192L498 192L734 65L745 0L425 0L414 64L630 64ZM658 -1408L621 -1184L941 -1184L952 -1248L824 -1248L850 -1408ZM679 -1536L669 -1472L989 -1472L999 -1536L855 -1536L871 -1632L1015 -1632L1026 -1696L706 -1696L695 -1632L807 -1632L791 -1536ZM584 -960L573 -896L765 -896L792 -1056L920 -1056L930 -1120L610 -1120L600 -1056L728 -1056L712 -960ZM563 -832L552 -768L872 -768L909 -992L845 -992L819 -832ZM702 -128L510 -128L531 -256L723 -256ZM760 -1248L696 -1248L711 -1344L775 -1344Z",X="M1016 416L328 416L328 -1856L1016 -1856ZM512 -320L512 -64L832 -64L832 -320ZM512 -704L512 -448L832 -448L832 -704L640 -704L640 -576L704 -576L704 -640L768 -640L768 -512L576 -512L576 -704ZM512 192L512 256L832 256L832 192L617 192L832 65L832 0L512 0L512 64L728 64ZM512 -1408L512 -1184L832 -1184L832 -1248L704 -1248L704 -1408ZM512 -1536L512 -1472L832 -1472L832 -1536L688 -1536L688 -1632L832 -1632L832 -1696L512 -1696L512 -1632L624 -1632L624 -1536ZM512 -960L512 -896L704 -896L704 -1056L832 -1056L832 -1120L512 -1120L512 -1056L640 -1056L640 -960ZM512 -832L512 -768L832 -768L832 -992L768 -992L768 -832ZM768 -128L576 -128L576 -256L768 -256ZM640 -1248L576 -1248L576 -1344L640 -1344Z",y=3;let A=[],se=!1;const ee=new Map,ne=Pe=>{A.push(Pe),A.length>y&&A.shift()},te=Pe=>{Pe.ctrlKey===!0&&Pe.preventDefault()};class fe extends M.PureComponent{constructor(J){super(J),b(this,"setMenuRef",Y=>this.$menu=Y),b(this,"createContextMenuRef",Y=>this.$mountRoot=Y),b(this,"mousewheelHandle",Y=>{const me=Y.deltaX||Y.wheelDeltaX;if(!me||!this.$elem)return;const Ne=this.$elem.scrollLeft+this.$elem.offsetWidth===this.$elem.scrollWidth&&me>0,ke=this.$elem.scrollLeft===0&&me<0;(Ne||ke)&&Y.preventDefault()}),b(this,"handleClose",Y=>{const{onClose:me}=this.props;me&&me(Y)}),b(this,"handleCloseMouse",Y=>{Y.button===2&&this.handleClose(Y)}),b(this,"handleClickMenu",Y=>{const{alwaysOpen:me}=this.props;me||this.handleClose(Y)}),b(this,"handleUpdateState",Y=>this.setState({...Y})),this.$elem=document.createElement("div"),this.state={activePath:[],showSubMenu:!1}}componentDidMount(){document.body.appendChild(this.$elem),!this.props.style&&F(this.$menu),this.$elem&&this.$elem.addEventListener("mousewheel",this.mousewheelHandle),this.$elem&&this.$elem.addEventListener("wheel",te)}componentWillUnmount(){this.$elem&&this.$elem.removeEventListener("mousewheel",this.mousewheelHandle,{capture:!0}),this.$elem&&this.$elem.removeEventListener("wheel",te,{capture:!0}),A=[],se=!1,this.$elem&&document.body.contains(this.$elem)&&document.body.removeChild(this.$elem)}preventDefault(J){J.preventDefault()}render(){const{position:J,children:Y,className:me,style:Ne={}}=this.props,{top:ke,left:Ge}=J,{activePath:Me,showSubMenu:Ie}=this.state;return(0,d.createPortal)((0,h.jsx)(I,{className:"context-menu-mask",onMouseDown:this.handleClose,onClick:this.handleClickMenu,children:(0,h.jsx)(v,{ref:this.createContextMenuRef,style:{top:ke+2,left:Ge+2,...Ne},className:me,onContextMenu:this.preventDefault,children:(0,h.jsx)("ul",{ref:this.setMenuRef,children:(0,h.jsx)(N.Provider,{value:{mountRoot:this.$mountRoot,contextMenuPosition:J,activePath:Me,showSubMenu:Ie,onUpdateState:this.handleUpdateState},children:Y})})})}),this.$elem)}}b(fe,"propTypes",{className:p().string,position:p().object,children:p().oneOfType([p().element,p().array]),style:p().object,onClose:p().func,alwaysOpen:p().bool});class De extends M.PureComponent{constructor(J){super(J),b(this,"setMenuRef",Y=>this.$menu=Y),b(this,"createContextMenuRef",Y=>this.$mountRoot=Y),b(this,"mousewheelHandle",Y=>{const me=Y.deltaX||Y.wheelDeltaX;if(!me||!this.$elem)return;const Ne=this.$elem.scrollLeft+this.$elem.offsetWidth===this.$elem.scrollWidth&&me>0,ke=this.$elem.scrollLeft===0&&me<0;(Ne||ke)&&Y.preventDefault()}),b(this,"handleClose",Y=>{const{onClose:me}=this.props;me&&me(Y)}),b(this,"handleCloseMouse",Y=>{Y.button===2&&this.handleClose(Y)}),b(this,"handleClickMenu",Y=>{const{alwaysOpen:me}=this.props;me||this.handleClose(Y)}),b(this,"handleUpdateState",Y=>this.setState({...Y})),this.$elem=document.createElement("div"),this.state={activePath:[],showSubMenu:!1}}componentDidMount(){document.body.appendChild(this.$elem),this.$elem&&this.$elem.addEventListener("mousewheel",this.mousewheelHandle)}componentWillUnmount(){this.$elem&&this.$elem.removeEventListener("mousewheel",this.mousewheelHandle,{capture:!0}),A=[],se=!1,this.$elem&&document.body.contains(this.$elem)&&document.body.removeChild(this.$elem)}preventDefault(J){J.preventDefault()}render(){const{position:J,children:Y,className:me,style:Ne={}}=this.props,{top:ke,left:Ge}=J,{activePath:Me,showSubMenu:Ie}=this.state;return(0,h.jsx)(v,{ref:this.createContextMenuRef,style:{top:ke+2,left:Ge+2,...Ne},className:me,onContextMenu:this.preventDefault,children:(0,h.jsx)("ul",{ref:this.setMenuRef,children:(0,h.jsx)(N.Provider,{value:{mountRoot:this.$mountRoot,contextMenuPosition:J,activePath:Me,showSubMenu:Ie,onUpdateState:this.handleUpdateState,containerRef:this.$elem,isEmbed:!0},children:Y})})})}}b(De,"propTypes",{className:p().string,position:p().object,children:p().oneOfType([p().element,p().array]),style:p().object,onClose:p().func,alwaysOpen:p().bool});class Ye extends M.PureComponent{constructor(){super(...arguments),b(this,"createMenuItemRef",J=>this.$menuItemRef=J),b(this,"createSubMenuRef",J=>this.$subMenuRef=J),b(this,"handleActiveItem",(J,Y)=>{const{children:me}=this.props;Y({activePath:J,showSubMenu:!!me})}),b(this,"handleMouseEnter",(J,Y,me)=>{const{onMouseEnter:Ne}=this.props;Ne&&Ne(J),se?setTimeout(()=>{if(this.$menuItemRef&&A.length>0){const ke=this.$menuItemRef.getBoundingClientRect();A.slice(-1)[0].inside(ke)&&this.handleActiveItem(Y,me)}},200):this.handleActiveItem(Y,me)}),b(this,"handleMouseLeave",async(J,Y,me,Ne)=>{const{onMouseLeave:ke}=this.props;if(ke&&ke(J),me&&this.$subMenuRef){const Ge=this.$subMenuRef.getBoundingClientRect();if(Ge&&A.length>0){const{left:Me,top:Ie,bottom:Je}=Ge,nt=new q(Me,Ie),yt=new q(Me,Je),xt=[A[0],nt,yt],bt=new q(J.clientX,J.clientY);if(pe(bt,xt)){se=!0;return}}}if(Y){Ne({activePath:Y.dataset.index.split(","),showSubMenu:!0}),se=!1;return}Ne({activePath:[],showSubMenu:!1}),se=!1}),b(this,"handleMouseMove",J=>{const Y=new q(J.clientX,J.clientY);ne(Y)}),b(this,"handleMouseDown",J=>J.stopPropagation()),b(this,"handleGetCanActiveSubMenu",(J,Y,me)=>{let Ne=!1;return Y&&(J&&Y.join("")===me.join("")||Y.slice(0,me.length).join("")===me.join(""))&&(Ne=!0),Ne}),b(this,"handleGetPath",J=>{const{dataIndex:Y,text:me}=this.props,Ne=Y!==void 0?Y:me;return J?J.dataset.index.split(",").concat(Ne):[Ne]}),b(this,"handleClick",J=>{const{disabled:Y,onClick:me,canClick:Ne,children:ke}=this.props;(Ne||!Y)&&me&&me(J),(ke||Y)&&J.stopPropagation()})}render(){const{icon:J,text:Y,children:me,disabled:Ne,hotKeyText:ke,className:Ge,dataType:Me,subMenuClassName:Ie,subMenuDirection:Je,subMenuLeftOffset:nt,subMenuTopOffset:yt,isVisible:xt,isAiry:bt=!1}=this.props;return(0,h.jsx)(N.Consumer,{children:wt=>{const{contextMenuPosition:r,mountRoot:ue,activePath:ve,showSubMenu:Te,parentRef:He,onUpdateState:qe,isEmbed:dt=!1}=wt,It=this.handleGetPath(He),Ft=this.handleGetCanActiveSubMenu(Te,ve,It);return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(g,{ref:this.createMenuItemRef,className:z()("MenuItem",{disabled:Ne,hasIcon:J},Ge,{active:Ft}),"data-type":Me,"data-index":It,onMouseEnter:Vt=>this.handleMouseEnter(Vt,It,qe),onMouseLeave:Vt=>this.handleMouseLeave(Vt,He,Te,qe),onMouseMove:this.handleMouseMove,onMouseDown:this.handleMouseDown,onClick:this.handleClick,children:(0,h.jsxs)("a",{children:[J,(0,h.jsxs)("span",{children:[(0,h.jsx)("span",{className:"text",children:Y}),xt?(0,h.jsx)(R.A,{className:"invisible",name:"eyeinvisible"}):null]}),me&&(0,h.jsx)("div",{className:"right-arrow",children:Z}),ke&&ke.length>0&&(0,h.jsx)("div",{className:"shortfont",children:ke.map((Vt,$t)=>(0,h.jsx)("kbd",{children:Vt},$t))})]})}),me&&Ft&&!Ne&&(0,d.createPortal)((0,h.jsx)(Re,{parentRef:this.$menuItemRef,setRef:this.createSubMenuRef,contextMenuPosition:r,subMenuDirection:Je,subMenuLeftOffset:nt,subMenuTopOffset:yt,className:Ie,mountRoot:ue,isEmbed:dt,isAiry:bt,children:(0,h.jsx)(N.Provider,{value:{parentRef:this.$menuItemRef,mountRoot:ue,contextMenuPosition:r,activePath:ve,showSubMenu:Te,onUpdateState:qe},children:me})}),ue)]})}})}}b(Ye,"propTypes",{icon:p().object,text:p().string.isRequired,className:p().string,disabled:p().bool,canClick:p().bool,children:p().oneOfType([p().element,p().array]),hotKeyText:p().array,onClick:p().func,onMouseEnter:p().func,onMouseLeave:p().func,dataType:p().number,dataIndex:p().oneOfType([p().number,p().string]),subMenuClassName:p().string,subMenuDirection:p().string,subMenuLeftOffset:p().number,subMenuTopOffset:p().number,isVisible:p().bool,isAiry:p().bool}),b(Ye,"defaultProps",{subMenuClassName:""});class je extends M.PureComponent{constructor(J){super(J),b(this,"createMenuItemRef",Me=>this.$menuItemRef=Me),b(this,"createSubMenuRef",Me=>this.$subMenuRef=Me),b(this,"spanRef",Me=>this.$spanRef=Me),b(this,"handleActiveItem",(Me,Ie)=>{const{children:Je}=this.props;Ie({activePath:Me,showSubMenu:!!Je})}),b(this,"handleMouseEnter",(Me,Ie,Je)=>{const{onMouseEnter:nt}=this.props;nt&&nt(Me),se?setTimeout(()=>{if(this.$menuItemRef&&A.length>0){const yt=this.$menuItemRef.getBoundingClientRect();A.slice(-1)[0].inside(yt)&&this.handleActiveItem(Ie,Je)}},200):this.handleActiveItem(Ie,Je)}),b(this,"handleMouseLeave",async(Me,Ie,Je,nt)=>{const{onMouseLeave:yt}=this.props;if(yt&&yt(Me),Je&&this.$subMenuRef){const xt=this.$subMenuRef.getBoundingClientRect();if(xt&&A.length>0){const{left:bt,top:wt,bottom:r}=xt,ue=new q(bt,wt),ve=new q(bt,r),Te=[A[0],ue,ve],He=new q(Me.clientX,Me.clientY);if(pe(He,Te)){se=!0;return}}}if(Ie){nt({activePath:Ie.dataset.index.split(","),showSubMenu:!0}),se=!1;return}nt({activePath:[],showSubMenu:!1}),se=!1}),b(this,"handleMouseMove",Me=>{const Ie=new q(Me.clientX,Me.clientY);ne(Ie)}),b(this,"handleMouseDown",Me=>Me.stopPropagation()),b(this,"handleGetCanActiveSubMenu",(Me,Ie,Je)=>{let nt=!1;return Ie&&(Me&&Ie.join("")===Je.join("")||Ie.slice(0,Je.length).join("")===Je.join(""))&&(nt=!0),nt}),b(this,"handleGetPath",Me=>{const{dataIndex:Ie,text:Je}=this.props,nt=Ie!==void 0?Ie:Je;return Me?Me.dataset.index.split(",").concat(nt):[nt]}),b(this,"handleClick",Me=>{const{disabled:Ie,onClick:Je,canClick:nt,children:yt}=this.props;(nt||!Ie)&&Je&&Je(Me),(yt||Ie)&&Me.stopPropagation()});const{text:Y,fontUrl:me,usePlainText:Ne}=this.props,ke="U="+me+"&T="+Y,Ge=ee.get(ke);Ne?this.state={renderContent:J.text,contentType:"text"}:this.state={renderContent:(Ge==null?void 0:Ge.content)||J.text,contentType:(Ge==null?void 0:Ge.type)||"text"}}async componentDidMount(){const{text:J,fontUrl:Y,usePlainText:me}=this.props;if(me)return;const Ne="U="+Y+"&T="+J;if(!ee.get(Ne)){if(!Y){ee.set(Ne,{type:"text",content:J});return}try{const ke=await(await fetch("/flatkiq/fontsvg/sync.svg?"+Ne)).text();if(ke!==""){const Ge=[...new DOMParser().parseFromString(ke,"text/html").querySelectorAll("path")].map(Me=>Me.getAttribute("d"));if(Ge.find(Me=>Me===u||Me===k||Me===T||Me===X)){ee.set(Ne,{type:"text",content:J});return}Ge.filter(Boolean).length!==J.split("").filter(Me=>Me!==" ").length?ee.set(Ne,{type:"text",content:J}):(ee.set(Ne,{type:"svg",content:ke}),this.setState({renderContent:ke,contentType:"svg"}))}else ee.set(Ne,{type:"text",content:J})}catch(ke){console.error(ke),ee.set(Ne,{type:"text",content:J})}}}render(){const{icon:J,children:Y,disabled:me,className:Ne,dataType:ke,subMenuClassName:Ge,subMenuDirection:Me,subMenuLeftOffset:Ie,subMenuTopOffset:Je,tooltipComponent:nt=null,tooltipWrapper:yt=null}=this.props,{renderContent:xt,contentType:bt}=this.state;return(0,h.jsx)(N.Consumer,{children:wt=>{const{contextMenuPosition:r,mountRoot:ue,activePath:ve,showSubMenu:Te,parentRef:He,onUpdateState:qe,isEmbed:dt=!1}=wt,It=this.handleGetPath(He),Ft=this.handleGetCanActiveSubMenu(Te,ve,It),Vt=(0,h.jsxs)("a",{children:[J,(0,h.jsx)("span",{dangerouslySetInnerHTML:{__html:xt},className:z()("text",{"is-svg":bt==="svg"})}),nt,Y&&(0,h.jsx)("div",{className:"right-arrow",children:Z})]});return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(f,{ref:this.createMenuItemRef,className:z()("MenuItem",{disabled:me,hasIcon:J},Ne,{active:Ft}),"data-type":ke,"data-index":It,onMouseEnter:$t=>this.handleMouseEnter($t,It,qe),onMouseLeave:$t=>this.handleMouseLeave($t,He,Te,qe),onMouseMove:this.handleMouseMove,onMouseDown:this.handleMouseDown,onClick:this.handleClick,children:yt?yt(Vt):Vt}),Y&&Ft&&!me&&(0,d.createPortal)((0,h.jsx)(Re,{parentRef:this.$menuItemRef,setRef:this.createSubMenuRef,contextMenuPosition:r,subMenuDirection:Me,subMenuLeftOffset:Ie,subMenuTopOffset:Je,className:Ge,mountRoot:ue,isEmbed:dt,isNoraml:!1,isAiry:!1,children:(0,h.jsx)(N.Provider,{value:{parentRef:this.$menuItemRef,mountRoot:ue,contextMenuPosition:r,activePath:ve,showSubMenu:Te,onUpdateState:qe},children:Y})}),ue)]})}})}}b(je,"defaultProps",{subMenuClassName:""});class Re extends M.PureComponent{constructor(J){super(J),b(this,"createRef",Y=>{const{setRef:me}=this.props;me(Y),this.subMenu=Y}),this.state={isTransform:!1}}componentDidMount(){this.setState({isTransform:!0});const{parentRef:J,contextMenuPosition:Y,subMenuDirection:me,subMenuLeftOffset:Ne,subMenuTopOffset:ke,isAiry:Ge,isEmbed:Me,mountRoot:Ie}=this.props;Me?B(this.subMenu,J,Y,me,{subMenuLeftOffset:Ne,subMenuTopOffset:ke},Ge,Ie):ie(this.subMenu,J,Y,me,{subMenuLeftOffset:Ne,subMenuTopOffset:ke},Ge)}render(){const{children:J,isAiry:Y,className:me,isNoraml:Ne=!0}=this.props,{isTransform:ke}=this.state;return(0,h.jsx)(S,{className:z()("SubMenu",{"is-show":ke},{"is-airy":Y},{"is-normal":Ne},me),ref:this.createRef,children:J})}}b(Re,"propTypes",{children:p().oneOfType([p().element,p().array]),className:p().string,parentRef:p().node,contextMenuPosition:p().object,setRef:p().func,subMenuDirection:p().string,subMenuLeftOffset:p().number,subMenuTopOffset:p().number,isAiry:p().bool});const mt=D.Ay.div.withConfig({displayName:"ContextMenu__Divider",componentId:"sc-1802crt-0"})(["margin:8px 0;border-top:1px solid #454546;"])},22460:(Ce,ae,n)=>{"use strict";n.d(ae,{O:()=>M});var s=n(67787),p=n(47507);const M=s.Ay.div.withConfig({displayName:"styles__StyledButton",componentId:"sc-166yiuz-0"})(["border-radius:6px;display:inline-block;justify-content:center;align-items:center;font-family:inherit;font-size:14px;font-weight:500;line-height:18px;user-select:none;cursor:pointer;.btn-icon-text-container{display:flex;justify-content:center;align-items:center;}.btn-icon{display:flex;justify-content:center;align-items:center;.btn-icon-container{margin-right:4px;width:16px;height:16px;overflow:hidden;}}&[class*='is-disabled']{cursor:not-allowed;opacity:0.4;}&[class*='type-linear']{color:",";background:",";border:1px solid ",";&:hover:not([class*='is-disabled']){background:",";}&:active:not([class*='is-disabled']){background:",";}}&[class*='type-primary']{color:",";background:",";border:1px solid transparent;&:hover:not([class*='is-disabled']){background:",";}&:active:not([class*='is-disabled']){background:",";}}&[class*='type-secondary']{color:",";background:",";border:1px solid ",";&:hover:not([class*='is-disabled']){background:",";border:1px solid ",";}&:active:not([class*='is-disabled']){background:",";border:1px solid transparent;}}&[class*='type-link']{border:1px solid transparent;padding:0;color:",";&:hover:not([class*='is-disabled']){color:",";}&:active:not([class*='is-disabled']){color:",";}&.link-gray{color:",";&:hover{color:",";}&:active{color:",";}}}&[class*='type-danger']{background:",";color:",";border:1px solid transparent;&:hover:not([class*='is-disabled']){background:",";}&:active:not([class*='is-disabled']){background:",";}}&[class*='size-tiny']{padding:4px 8px;max-height:24px;font-size:12px;line-height:14px;.btn-icon-text-container{min-width:46px;}&[class*='type-link']{padding:0;}}&[class*='size-common']{padding:6px 12px;max-height:32px;.btn-icon-text-container{min-width:54px;}&[class*='type-link']{padding:0;}}&[class*='size-medium']{padding:6px 16px;max-height:32px;.btn-icon-text-container{min-width:60px;}&[class*='type-link']{padding:0;}}&[class*='size-large']{padding:8px 16px;max-height:36px;.btn-icon-text-container{min-width:76px;}&[class*='type-link']{padding:0;}.btn-icon-container{margin-right:6px;}}&[class*='corner-smooth']{border-radius:6px;}&[class*='corner-soft']{border-radius:4px;}&[class*='corner-round']{border-radius:calc(infinity * 1px);}&[class*='only-icon']{padding:0;border:none;background:transparent;.btn-icon-text-container{min-width:0;}.btn-icon-container{margin-right:0;svg > *{fill:",";}}&:hover:not([class*='is-disabled']){background:none;.btn-icon-container{svg > *{fill:",";}}}&:active:not([class*='is-disabled']){background:none;.btn-icon-container{svg > *{fill:",";}}}}"],p.q.color_text_L2,p.q.color_bg_normal,p.q.color_split_line,p.q.color_bg_btn_normal_hover,p.q.color_bg_btn_normal_active,p.q.color_text_white,p.q.color_btn_primary_normal,p.q.color_btn_primary_hover,p.q.color_btn_primary_click,p.q.color_text_L2,p.q.color_bg_secondary_btn,p.q.color_btn_secondary_border_normal,p.q.color_btn_secondary_hover,p.q.color_btn_secondary_border_hover,p.q.color_btn_secondary_click,p.q.color_btn_primary_normal,p.q.color_btn_primary_hover,p.q.color_btn_primary_click,p.q.color_text_L2,p.q.color_text_L3,p.q.color_text_L1,p.q.color_btn_danger_normal,p.q.color_text_white,p.q.color_btn_danger_hover,p.q.color_btn_danger_click,p.q.color_text_L2,p.q.color_text_L3,p.q.color_text_L1)},22756:(Ce,ae,n)=>{"use strict";n.d(ae,{A:()=>s});function s(p,M){return s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(d,D){return d.__proto__=D,d},s(p,M)}},23089:(Ce,ae,n)=>{"use strict";n.d(ae,{it:()=>D,V0:()=>N,mq:()=>q});var s=n(38502),p=n(48986),M=n(67787);const d=(0,M.Ay)(p.Ay).withConfig({displayName:"styled__StyledWorkspaceSelectProto",componentId:"sc-32xdp1-0"})(["&.WorkspaceSelect{padding:0px;border-radius:4px;button{width:auto;display:flex;padding:0 6px;align-items:center;color:",";}.caret{flex-shrink:0;width:26px;display:flex;justify-content:center;align-items:center;padding:0;color:",";svg{width:26px;height:26px;}}&:not(.is-disabled):not(.readonly):hover{border-color:",";button{width:calc(100% - 26px);}.caret{padding:0;color:",";}}&.is-open{border-color:transparent;}}"],F=>F.theme.color_text_L1,F=>F.theme.color_text_L3,F=>F.theme.color_bg_border_02,F=>F.theme.color_text_L1),D="select-menu-width-108",Q=(0,M.DU)(["#IBOT_SELECT_MENU_ROOT{.SelectMenuPortal{.menu-animation-select{margin-left:-15px;}.WorkspaceSelectMenu{padding:8px;border-radius:8px;color:",";background:",";box-shadow:",";&.is-open{border:1px solid ",";border-radius:8px;width:176px;max-width:176px;padding:8px;background-color:",";box-shadow:",";.SelectOption{&:not(.empty-msg):not(.is-disabled):hover{background:",";}}}> .divider{border-bottom:1px solid ",";margin:5px;}.SelectOption{border-radius:4px;height:28px;line-height:28px;&.is-active{color:",";}&:not(.empty-msg):not(.is-disabled):not(.is-active):hover{background-color:",";color:",";}}}.menu-animation-select .SelectGroup > .title{color:",";}}.autoFillPanelSelectScreenMenu{margin-left:-138px;margin-top:26px;width:175px;}.bdr-width-input-menu{width:88px;}.arrow-setting-menu{width:78px;}.","{width:108px;}}"],F=>F.theme.color_text_L1,F=>F.theme.color_bg_white,F=>F.theme.shadow_m,F=>F.theme.color_bg_border_01,F=>F.theme.color_bg_white,F=>F.theme.shadow_m,F=>F.theme.color_btn_secondary_hover,F=>F.theme.color_bg_border_01,F=>F.theme.color_text_L1,F=>F.theme.color_btn_secondary_hover,F=>F.theme.color_text_L1,F=>F.theme.color_text_L3,D);var z=n(17307),R=n(72214);class q extends s.PureComponent{render(){return(0,R.jsxs)(R.Fragment,{children:[(0,R.jsx)(d,{...this.props,arrowSvg:(0,R.jsx)(z.C,{className:"triangle-icon",name:"common/expand@26"})}),(0,R.jsx)(Q,{})]})}}class N extends s.PureComponent{render(){return(0,R.jsxs)(R.Fragment,{children:[(0,R.jsx)(p.eB,{...this.props}),(0,R.jsx)(Q,{})]})}}},24469:(Ce,ae,n)=>{var s=n(35954),p={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"},M=s(p);Ce.exports=M},25234:(Ce,ae,n)=>{"use strict";n.d(ae,{Oc:()=>D,Qi:()=>q,jf:()=>Q,jn:()=>z,lV:()=>V,tA:()=>R,z9:()=>F});var s=n(38502),p=n(97974),M=n(17307),d=n(72214);const D=(0,s.memo)(G=>{let{type:I="linear",className:v,disabled:S=!1,size:g="common",corner:f="smooth",forceTheme:h,children:b,onClick:C}=G;return(0,d.jsx)(p.Yr,{type:I,className:v,disabled:S,size:g,corner:f,forceTheme:h,onClick:C,children:b})}),Q=n.j!=15?(0,s.memo)(G=>{let{type:I="linear",className:v,disabled:S=!1,size:g="common",corner:f="smooth",icon:h,children:b,forceTheme:C,onClick:L}=G;return(0,d.jsx)(p.hE,{type:I,className:v,disabled:S,size:g,corner:f,icon:h,forceTheme:C,onClick:L,children:b})}):null,z=(0,s.memo)(G=>{let{className:I,children:v,disabled:S=!1,onClick:g}=G;return(0,d.jsx)(p.Yr,{type:"primary",size:"common",className:I,disabled:S,onClick:g,children:v})}),R=G=>{let{className:I,children:v,disabled:S=!1,onClick:g}=G;return(0,d.jsx)(p.Yr,{type:"secondary",size:"common",className:I,disabled:S,onClick:g,children:v})},q=(0,s.memo)(G=>{let{className:I,children:v,disabled:S=!1,onClick:g}=G;return(0,d.jsx)(p.Yr,{type:"danger",size:"common",className:I,disabled:S,onClick:g,children:v})}),N=null,F=n.j!=15?(0,s.memo)(G=>{let{className:I,children:v,disabled:S=!1,onClick:g}=G;return(0,d.jsx)(p.Yr,{type:"link",className:I,disabled:S,onClick:g,children:v})}):null,ie=null,B=null,pe=null,V=n.j!=15?(0,s.memo)(G=>{let{className:I,isLoading:v=!1,children:S,disabled:g=!1,corner:f="soft",onClick:h}=G;return(0,d.jsx)(p.hE,{type:"secondary",size:"tiny",corner:f,className:I,icon:v?(0,d.jsx)(M.C,{name:"general/loading",className:"btn-loading"}):null,disabled:g,onClick:h,children:S})}):null},25942:(Ce,ae)=>{"use strict";var n;n={value:!0};var s=Object.assign||function(Q){for(var z=1;z<arguments.length;z++){var R=arguments[z];for(var q in R)Object.prototype.hasOwnProperty.call(R,q)&&(Q[q]=R[q])}return Q},p=function(){var z=null,R={},q=function(pe){var V=R[pe.type];return V&&V(z,pe)},N=function(pe){if(typeof pe.getState!="function"||typeof pe.dispatch!="function")throw new Error("[ReduxEntry][middleware] invalid reduxMiddlewareStore");if(z!==null)throw new Error("[ReduxEntry][middleware] already set reduxMiddlewareStore");return z=pe,function(V){return function(G){return q(G)===!0||V(G)}}},F=function(pe,V){if(typeof pe!="string")throw new Error("[ReduxEntry][setEntry] non-string actionType: "+pe);if(typeof V!="function")throw new Error("[ReduxEntry][setEntry] non-function entryFunction: "+pe+", "+V);R[pe]&&console.warn("[ReduxEntry][setEntry] possible unexpected entry overwrite: "+pe),R[pe]=V},ie=function(pe){return Object.keys(pe).forEach(function(V){return F(V,pe[V])})};return{middleware:N,setEntry:F,setEntryMap:ie}},M=function(z){if(z===void 0)throw new Error("[ReduxEntry][createStateStore] initialState expected");return{getState:function(){return z},setState:function(q){return z=q},wrapEntry:function(q){return function(N,F){return q(z,N,F)}}}},d=function(z,R){var q=R.getState,N=R.setState;return function(F,ie){var B=ie.type,pe=ie.payload;return B===z&&N(pe),q()}},D=function(z,R){var q=R.getState,N=R.setState;return function(F,ie){var B=ie.type,pe=ie.payload;return B===z&&N(s({},q(),pe)),q()}};ae.RZ=p,ae.J$=M,ae.Tf=d,n=D},29152:(Ce,ae,n)=>{"use strict";n.d(ae,{IE:()=>Q,M0:()=>N,WR:()=>d,XW:()=>ie,_B:()=>B,cb:()=>pe,hG:()=>I,iF:()=>F,il:()=>q,kG:()=>R,oV:()=>G,q7:()=>S,wA:()=>D,yZ:()=>V});var s=n(12211),p=n(76844),M=n(12603);const d=g=>{var f;return(f=g.projectAccess.user)==null?void 0:f.user_id},D=g=>g.projectAccess.org,Q=g=>{var f;return((f=g.projectAccess.org)==null?void 0:f.cid)||""},z=g=>{var f;return((f=g.projectAccess.org)==null?void 0:f.members)||[]},R=g=>{var f;return((f=g.projectAccess.org)==null?void 0:f.permissions)||[]},q=g=>g.projectAccess.space,N=g=>g.projectAccess.space.cid,F=g=>g.projectAccess.space.permissions||[],ie=g=>g.projectAccess.folderListMap||new Map,B=g=>g.projectAccess.projectListMap||new Map,pe=(0,s.Mz)(d,R,(g,f)=>(0,p.oE)({userId:g,orgPermissions:f})),V=(0,s.Mz)(d,F,(g,f)=>(0,p.sq)({userId:g,spacePermissions:f})),G=(0,s.Mz)(F,g=>{const f=(0,p.Rc)(g);return g.reduce((h,b)=>{const{user_id:C}=b,L=(0,p.CF)({userId:C,permissionsMap:f,permissionScope:M.W.OrgSpace});return h.set(Number(C),L)},new Map)}),I=(0,s.Mz)(F,g=>g.filter(h=>h.role==="space_limiter").reduce((h,b)=>{const{user_id:C}=b;return h.set(Number(C),b)},new Map)),v=(0,s.Mz)(z,g=>g.reduce((f,h)=>{const{user_id:b,user_cid:C,email:L,mobile:Z}=h;return b&&C?f.set(Number(b)||b,{...h}):(L&&f.set(L,{...h}),Z&&f.set(Z,{...h}),f)},new Map)),S=(0,s.Mz)(R,v,(g,f)=>g.reduce((h,b)=>{const{user_id:C,unsign_remark:L}=b,Z=C||L,u=f.get(Z)||{},k=(0,p.Sc)(b);return h.set(Z,{...u,permission:k})},new Map))},33236:(Ce,ae,n)=>{"use strict";n.d(ae,{l:()=>M,r:()=>p});var s=n(67787);const p=(0,s.DU)(["::-webkit-scrollbar-track{background-color:transparent;}::-webkit-scrollbar{width:4px;height:4px;border-radius:4px;}::-webkit-scrollbar-thumb{background-color:",";border-radius:4px;&:hover{background-color:",";}}::-webkit-scrollbar-corner{background-color:transparent;}.widget.panel{::-webkit-scrollbar-thumb{background-color:#d2d2d8;&:hover{background-color:",";}}}"],d=>d.theme.color_bg_border_02,d=>d.theme.color_background_split_hover,d=>d.theme.color_background_split_hover),M=(0,s.DU)([".ModalPortal,.CoreModalPortal,.OverlayPortal{min-width:initial !important;}"])},35428:(Ce,ae,n)=>{"use strict";n.d(ae,{_:()=>M});var s=n(5209);const p=d=>{let{exposure_reason:D}=d;try{saTrack("trial_watermark_exposure",{exposure_reason:D})}catch(Q){console.log(Q.message)}},M=d=>{let{click_button:D}=d;try{(0,s.kH)("trial_watermark_click",{click_button:D})}catch(Q){console.log(Q.message)}}},35603:(Ce,ae,n)=>{"use strict";n.d(ae,{A:()=>C,d:()=>ie});var s=n(18250),p=n.n(s),M=n(63986),d=n.n(M),D=n(38502),Q=n(69623),z=n(25582),R=n.n(z),q=n(27992),N=n(69368);const F=9;function ie(Z){let{$opener:u,$menuBase:k,menuX:T="left",menuY:X="bottom",menuBaseStyle:y={},inflexible:A=!1,shouldSetMaxHeight:se=!1}=Z;if(!u||!k)return{};const ee=k.querySelector("*"),ne={styleFor$menuBase:{},styleFor$menu:{}},te=Je=>Object.assign(ne.styleFor$menuBase,Je),fe=Je=>Object.assign(ne.styleFor$menu,Je),{offsetHeight:De}=ee,Ye=y.width||u.offsetWidth,je=y.height||u.offsetHeight,Re=u.getBoundingClientRect(),{top:mt,bottom:Pe,left:J}=Object.assign({top:Re.top,right:Re.right,bottom:Re.bottom,left:Re.left},y);te({top:mt+"px",left:J+"px",width:Ye+"px",height:je+"px"});const{innerHeight:Y}=window,me=10,Ne=Y-10,ke=X==="top"?1/3:2/3,Ge=Y*ke,Me=mt+je/2,Ie=mt+je;return(A&&X==="bottom"||!A&&Ge>=Me)&&Ie+De+F<Y?(ne.isDownward=!0,se&&Pe+De>Ne&&fe({maxHeight:Ne-Pe+"px"})):(ne.isDownward=!1,se&&mt-De<me&&fe({maxHeight:mt-me+"px"})),Object.assign(k.style,ne.styleFor$menuBase),Object.assign(ee.style,ne.styleFor$menu),ne}var B=n(67787);const pe=B.Ay.label.withConfig({displayName:"styled__StyledDropDown",componentId:"sc-665wv9-0"})(["&.is-disabled{opacity:0.5;> button{cursor:not-allowed;}}"]),V=B.Ay.div.withConfig({displayName:"styled__StyledDropDownMenu",componentId:"sc-665wv9-1"})(["position:absolute;margin:0.25em 0;width:-moz-fit-content;width:-webkit-fit-content;width:fit-content;min-width:7em;font-size:12px;filter:drop-shadow(0 2px 10px rgba(39,54,78,0.12)) drop-shadow(4px 12px 40px rgba(39,54,78,0.12));pointer-events:none;opacity:0;transition:0.2s ease-in-out;transition-property:transform,opacity;transform-origin:50% 0;transform:scale(0.9);&.is-open{pointer-events:initial;opacity:1;transform:scale(1);}&.x-left{left:0;}&.x-right{left:initial;right:0;}&.x-center{left:50%;transform:scale(0.9) translateX(-50%);&.is-open{transform:scale(1) translateX(-50%);}}&.is-downward{top:100%;bottom:initial;}&.is-upward{top:initial;bottom:100%;}&.arrowed{margin-top:0.75em;margin-bottom:0.75em;&.x-left.x-arrow-based{left:50%;margin-left:-14px;}&.x-right.x-arrow-based{left:initial;right:50%;margin-right:-14px;}}.arrow{position:absolute;top:0;left:calc(50% - 0.5em);width:1em;height:0.375em;font-size:14px;line-height:0;fill:currentColor;fill-rule:evenodd;color:#fff;svg{position:absolute;width:auto;height:5px;transform:translateY(-100%);}}&.dark .arrow{color:rgba(30,41,46,.9);}&.x-left .arrow{left:0.5em;right:initial;}&.x-right .arrow{left:initial;right:0.5em;}&.is-upward .arrow{transform:rotate(180deg);top:initial;bottom:0;}.content{padding:0.75em 0.5em;min-height:32px;background-color:#fff;border-radius:4px;}&.dark .content{background-color:rgba(30,41,46,.9);color:#fff;}ul.MenuList{margin:0;padding:0;list-style:none;text-align:center;color:#5b6b73;li{line-height:32px;border-radius:2px;cursor:pointer;&:not(.is-disabled):hover{background-color:#f6f7f8;}&.is-active{color:#298df8;}&.is-disabled{cursor:not-allowed;opacity:0.5;}}}"]),G=B.Ay.div.withConfig({displayName:"styled__StyledDropDownBase",componentId:"sc-665wv9-2"})(["position:fixed;z-index:1100;pointer-events:none;"]);var I=n(72214);function v(Z,u,k){return(u=S(u))in Z?Object.defineProperty(Z,u,{value:k,enumerable:!0,configurable:!0,writable:!0}):Z[u]=k,Z}function S(Z){var u=g(Z,"string");return typeof u=="symbol"?u:u+""}function g(Z,u){if(typeof Z!="object"||!Z)return Z;var k=Z[Symbol.toPrimitive];if(k!==void 0){var T=k.call(Z,u||"default");if(typeof T!="object")return T;throw new TypeError("@@toPrimitive must return a primitive value.")}return(u==="string"?String:Number)(Z)}const f="IBOT_DROPDOWN_MENU_ROOT",h=document.getElementById(f)||Object.assign(document.createElement("div"),{id:f}),b=document.body;b.contains(h)||b.appendChild(h);class C extends D.PureComponent{constructor(){super(...arguments),v(this,"state",{prevProps:this.props,isOpen:this.props.isOpen,$opener:null,currentMenuListItemIdx:this.props.currentMenuListItemIdx}),v(this,"leaveTimeoutList",[]),v(this,"createMenuRef",u=>this.$menuRef=u),v(this,"toggle",u=>this.setState({isOpen:p()(u)?u:!this.state.isOpen})),v(this,"open",()=>this.toggle(!0)),v(this,"close",()=>this.toggle(!1)),v(this,"onMouseEnter",()=>{const{shouldOpenOnHover:u}=this.props;u&&(clearTimeout(this.closeTimeout),Object.assign(this,{hoverTimeout:setTimeout(this.open,this.props.hoverDelay)}))}),v(this,"onMouseLeave",()=>{const{shouldOpenOnHover:u}=this.props;u&&clearTimeout(this.hoverTimeout)}),v(this,"onMouseMove",u=>{var k;let{clientX:T,clientY:X}=u;const{shouldOpenOnHover:y,hoverDelay:A,hoverCloseDelay:se}=this.props,{$opener:ee}=this.state;if(!y)return;clearTimeout(this.hoverTimeout);const ne=document.elementFromPoint(T,X),te=!ee.contains(ne),fe=!((k=this.$menuRef)!=null&&(k=k.menuBaseRef)!=null&&(k=k.current)!=null&&k.contains(ne));fe?te&&fe&&this.leaveTimeoutList.push(setTimeout(this.close,se!==void 0?se:Math.max(A,300))):(this.leaveTimeoutList.map(clearTimeout),Object.assign(this,{leaveTimeoutList:[]}))}),v(this,"set$opener",u=>this.setState({$opener:u})),v(this,"onSelect",u=>{let{currentTarget:k}=u;const{menuList:T,onSelect:X,shouldCloseOnSelect:y}=this.props;if(typeof X!="function")return;const A=k.dataset.idx,se=T[A],ee=typeof se=="string"?se:se&&se.value;X(A,ee),this.setState({currentMenuListItemIdx:A}),y&&this.close()})}static getDerivedStateFromProps(u,k){let{prevProps:T,isOpen:X}=k;return d()(u,T)?null:p()(u.isOpen)?{prevProps:u,isOpen:u.isOpen}:{prevProps:u}}componentDidUpdate(u,k){let{isOpen:T}=k;const{onOpen:X,onClose:y,onToggle:A}=this.props,{isOpen:se}=this.state;T!==se&&(se?(X(),A(!0)):(y(),A(!1)))}render(){const{className:u,opener:k,openerType:T,openerClassName:X,shouldCloseOnClickOutside:y}=this.props,{isOpen:A,$opener:se,currentMenuListItemIdx:ee}=this.state,ne=this.props.isDisabled||this.props.disabled,te=(0,N.Hn)(["Dropdown",A&&"is-open",ne&&"is-disabled",u]),fe={onClick:this.toggle,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave,onMouseMove:this.onMouseEnter,disabled:ne,className:X};return(0,I.jsxs)(pe,{ref:this.set$opener,className:te,children:[T!=="button"&&(0,D.isValidElement)(k)?(0,D.cloneElement)(k,fe):(0,I.jsx)("button",{type:"button",...fe,children:k}),(0,I.jsx)(L,{ref:this.createMenuRef,...this.props,isOpen:A,$opener:se,onSelect:this.onSelect,onClose:this.close,shouldCloseOnClickOutside:y,currentMenuListItemIdx:ee}),A&&(0,I.jsx)(q.A,{target:document,onMouseMove:this.onMouseMove})]})}}v(C,"positionMenu",ie),v(C,"propTypes",{isOpen:R().bool,mode:R().oneOf(["light","dark"]),opener:R().node,openerType:R().oneOf(["button","custom"]),className:R().string,portalClassName:R().string,menuBaseClassName:R().string,openerClassName:R().string,menuClassName:R().string,menuBaseStyle:R().shape({top:R().number,right:R().number,bottom:R().number,width:R().number,height:R().number}),menu:R().node,menuList:R().arrayOf(R().oneOfType([R().node,R().shape({label:R().node,value:R().any,isDisabled:R().bool})])),currentMenuListItemIdx:R().oneOfType([R().number,R().string]),shouldPreventScrollingPropagation:R().bool,shouldOpenOnHover:R().bool,shouldCloseOnClickOutside:R().bool,hoverDelay:R().oneOfType([R().number,R().string]),hoverCloseDelay:R().oneOfType([R().number,R().string]),arrowed:R().bool,inflexible:R().bool,menuX:R().oneOf(["left","center","right"]),menuY:R().oneOf(["top","bottom"]),menuBasedX:R().bool,isDisabled:R().bool,disabled:R().bool,onSelect:R().func,shouldCloseOnSelect:R().bool,onOpen:R().func.isRequired,onClose:R().func.isRequired,onToggle:R().func.isRequired}),v(C,"defaultProps",{arrowed:!1,openerType:"button",mode:"light",shouldPreventScrollingPropagation:!0,shouldCloseOnSelect:!0,shouldOpenOnHover:!1,shouldCloseOnClickOutside:!0,hoverDelay:200,menuX:"center",menuY:"bottom",inflexible:!1,menuBasedX:!1,onOpen:()=>null,onClose:()=>null,onToggle:()=>null});class L extends D.PureComponent{constructor(){super(...arguments),v(this,"state",{isDownward:this.props.position==="bottom"}),v(this,"portal",(0,N.ep)(h,(0,N.Hn)(["DropdownMenuPortal",this.props.portalClassName]))),v(this,"menuBaseRef",(0,D.createRef)()),v(this,"onResizeWindow",()=>this.props.isOpen&&this.position()),v(this,"onClickOutside",u=>{let{target:k}=u;const{$opener:T,onClose:X,shouldCloseOnClickOutside:y}=this.props;if(!y)return;const A=!h.contains(k),se=k.closest("label"),ee=se&&se.contains(T),ne=!!(0,N.$)(".SelectMenu.is-open");A&&!ee&&!ne&&X()}),v(this,"position",()=>{const{$opener:u,menuX:k,menuY:T,menuBaseStyle:X,inflexible:y}=this.props,{menuBaseRef:{current:A}}=this,{isDownward:se}=ie({$menuBase:A,$opener:u,menuX:k,menuY:T,menuBaseStyle:X,inflexible:y});this.setState({isDownward:se})})}componentDidMount(){const{isOpen:u,shouldPreventScrollingPropagation:k}=this.props,{menuBaseRef:{current:T}}=this;u&&setTimeout(this.position),k&&(0,N.sA)((0,N.$)(".content",T)),window.addEventListener("resize",this.onResizeWindow)}componentDidUpdate(u){let{isOpen:k}=u;const{isOpen:T}=this.props;!k&&T&&this.position()}componentWillUnmount(){this.portal&&this.portal.remove(),window.removeEventListener("resize",this.onResizeWindow)}render(){const{portal:u,menu:k}=this;return(0,Q.createPortal)(k,u)}get menu(){const{isOpen:u,mode:k,menuBaseClassName:T,menuClassName:X,menu:y,menuList:A,arrowed:se,menuX:ee,menuBasedX:ne,currentMenuListItemIdx:te,onSelect:fe}=this.props,{isDownward:De}=this.state,Ye=(0,N.Hn)(["DropdownMenu",k,u&&"is-open",De?"is-downward":"is-upward","x-"+ee,se&&"arrowed "+(ne?"x-menu-based":"x-arrow-based"),X]);return(0,I.jsx)(G,{ref:this.menuBaseRef,className:(0,N.Hn)(["DropdownMenuBase",T]),children:(0,I.jsxs)(V,{className:Ye,children:[se&&(0,I.jsx)("span",{className:"arrow",dangerouslySetInnerHTML:{__html:N.t4.mr}}),(0,I.jsx)("div",{className:"content",children:A?(0,I.jsx)("ul",{className:"MenuList",children:A.map((je,Re)=>(0,I.jsx)("li",{role:"option","data-idx":Re,className:(0,N.Hn)([je.isDisabled&&"is-disabled",Re===Number(te)&&"is-active"]),onClick:je.isDisabled?void 0:fe,children:je.label||je},Re))}):y}),u&&(0,I.jsx)(q.A,{target:document,onClick:(0,q.t)(this.onClickOutside,{capture:!0})}),u&&(0,I.jsx)(q.A,{target:document,onScroll:(0,q.t)(this.position,{capture:!0})})]})})}}v(L,"propTypes",{...C.propTypes,isOpen:R().bool,$opener:R().instanceOf(Element),onSelect:R().func,onClose:R().func})},35954:Ce=>{function ae(n){return function(s){return n==null?void 0:n[s]}}Ce.exports=ae},37810:(Ce,ae,n)=>{"use strict";n.d(ae,{A:()=>R});var s=n(95549),p=n(38502),M=n(19952),d=n(25582),D=n.n(d),Q=n(72214);class z extends p.PureComponent{constructor(N){super(N),(0,s.A)(this,"freshCanvas",()=>{const F=this.canvasWrapperRef.current,{height:ie,width:B,text:pe,foreground:V,background:G}=this.props,I=(0,M.j)({height:ie,width:B,text:pe,foreground:V,background:G});F.hasChildNodes()?F.replaceChild(I,F.firstChild):F.appendChild(I)}),this.canvasWrapperRef=(0,p.createRef)()}componentDidMount(){this.freshCanvas()}componentDidUpdate(){this.freshCanvas()}render(){const{className:N}=this.props;return(0,Q.jsx)("div",{className:N,ref:this.canvasWrapperRef})}}z.propTypes={width:D().number,height:D().number,text:D().string.isRequired,foreground:D().string,background:D().string,className:D().string},z.defaultProps={width:150,height:150};const R=z},37862:(Ce,ae,n)=>{var s=n(70168),p=n(43293);function M(d){return s(d)&&d.nodeType===1&&!p(d)}Ce.exports=M},39303:(Ce,ae,n)=>{"use strict";n.d(ae,{A:()=>d});var s=n(79458),p=n(67787);const d=(0,p.Ay)(s.ft).withConfig({displayName:"ThemeLoading",componentId:"sc-1f7bkn3-0"})(["svg g g:first-child g path:last-child{stroke:",";}svg g g:last-child g path:last-child{stroke:",";}"],D=>D.theme.color_btn_secondary_active,D=>D.theme.color_text_disabled01)},41440:(Ce,ae,n)=>{var s=n(43293);function p(M){return s(M)?void 0:M}Ce.exports=p},41946:(Ce,ae,n)=>{var s=n(73597),p=s(function(M,d,D){return M+(D?"_":"")+d.toLowerCase()});Ce.exports=p},43293:(Ce,ae,n)=>{var s=n(41678),p=n(41413),M=n(70168),d="[object Object]",D=Function.prototype,Q=Object.prototype,z=D.toString,R=Q.hasOwnProperty,q=z.call(Object);function N(F){if(!M(F)||s(F)!=d)return!1;var ie=p(F);if(ie===null)return!0;var B=R.call(ie,"constructor")&&ie.constructor;return typeof B=="function"&&B instanceof B&&z.call(B)==q}Ce.exports=N},45308:(Ce,ae,n)=>{var s=n(71602);function p(M){var d=M==null?0:M.length;return d?s(M,1):[]}Ce.exports=p},45525:(Ce,ae,n)=>{var s=n(32554),p=n(86789),M=n(48605),d=n(68151),D=n(31493),Q=n(41440),z=n(85378),R=n(24235),q=1,N=2,F=4,ie=z(function(B,pe){var V={};if(B==null)return V;var G=!1;pe=s(pe,function(v){return v=d(v,B),G||(G=v.length>1),v}),D(B,R(B),V),G&&(V=p(V,q|N|F,Q));for(var I=pe.length;I--;)M(V,pe[I]);return V});Ce.exports=ie},46710:(Ce,ae,n)=>{"use strict";n.d(ae,{HZ:()=>M,rA:()=>D});var s=n(51785),p=n(83123);const M=Q=>{const z={pt_total_seats:10,pt_bindings:[],ptlt_total_seats:0,ptlt_bindings:[],bx_total_seats:10,bx_bindings:[],bxlt_total_seats:0,bxlt_bindings:[],aippt_total_seats:0,aippt_bindings:[],total_viewer_seats:100,viewer_seats_taken:0},{pt_total_seats:R=0,pt_bindings:q=[],ptlt_total_seats:N=0,ptlt_bindings:F=[],bxlt_bindings:ie=[],bxlt_total_seats:B=0,bx_total_seats:pe=0,bx_bindings:V=[],aippt_total_seats:G=0,aippt_bindings:I=[]}=Q||z;return{plTotalSeats:N,pTotalSeats:R,pBindings:q||[],plBindings:F||[],blTotalSeats:B,bTotalSeats:pe,bBindings:V||[],blBindings:ie||[],aiPptTotalSeats:G,aiPptBindings:I||[]}},d=(Q,z)=>{const{pBindings:R,plBindings:q,bBindings:N}=M(Q),F=q.includes(z),ie=R.includes(z),B=N.includes(z);return{isPLSeat:F,isPSeat:ie,isBSeat:B}},D=(Q,z)=>{if(!Q)return{protoSeat:!1,bomxSeat:!1};if(Q.otype==="personal")return{protoSeat:!0,bomxSeat:!0};const R=s.tz.InitialOrg(Q),q=R.planSdk.getIsDefaultFreeOrg(),N=R.planSdk.getOrgStatus()===p._E.Trial;if(q||N)return{protoSeat:!0,bomxSeat:!0};const{pTotalSeats:F,bTotalSeats:ie,plTotalSeats:B}=M(Q),{isPLSeat:pe,isPSeat:V,isBSeat:G}=d(Q,z);return{protoSeat:F>0||B>0?pe||V:!0,bomxSeat:ie>0?G:!0}}},47507:(Ce,ae,n)=>{"use strict";n.d(ae,{q:()=>p});const s={common_white:"#FFFFFF",common_black:"#000000",primary_blue_01:"#126ACA",primary_blue_02:"#1684FC",primary_blue_03:"#459DFD",primary_blue_04:"#8AC1FD",primary_blue_05:"#B9DAFE",primary_blue_06:"#D0E6FE",primary_blue_07:"#E8F3FF",primary_blue_08:"#F5F8FD",primary_gray_01:"#19191A",primary_gray_02:"#555557",primary_gray_03:"#7D8CA5",primary_gray_04:"#9EA9BC",primary_gray_05:"#BEC5D2",primary_gray_06:"#D2D9E4",primary_gray_07:"#E1E6EF",primary_gray_08:"#F0F2F7",primary_gray_09:"#F3F5F9",primary_red_01:"#DD4747",primary_red_02:"#F85050",primary_red_03:"#F97373",primary_red_04:"#FDC2C2",primary_red_05:"#FEE5E5"},p={color_btn_primary_normal:s.primary_blue_02,color_btn_primary_hover:s.primary_blue_03,color_btn_primary_click:s.primary_blue_01,color_btn_primary_disable:s.primary_blue_05,color_btn_secondary_click:s.primary_blue_06,color_btn_secondary_normal:s.primary_blue_08,color_btn_secondary_hover:s.primary_blue_07,color_btn_outline_click:s.primary_gray_07,color_btn_outline_normal:s.common_white,color_btn_outline_hover:s.primary_gray_08,color_bg_normal:s.common_white,color_bg_card:s.primary_blue_08,color_bg_menu_click:s.primary_blue_06,color_bg_card_hover:s.primary_gray_07,color_bg_menu_hover:s.primary_blue_07,color_bg_input_hover:s.primary_gray_08,color_bg_input_normal:s.primary_gray_09,color_bg_item_gray:s.primary_gray_08,color_bg_item_hover:s.primary_gray_09,color_bg_fill_common_blue:s.primary_blue_02,color_bg_menu_drag_border:s.primary_blue_06,color_bg_card_hover_fusion_gray:s.primary_gray_06,color_bg_card_hover_fusion_blue:s.primary_blue_05,color_bg_card_hover_fusion:s.primary_gray_06,color_bg_secondary_btn:s.primary_blue_08,color_bg_btn_normal_hover:s.primary_gray_08,color_bg_btn_normal_active:s.primary_gray_07,color_bg_icon_gray:s.primary_gray_04,color_bg_icon_hover:s.primary_gray_03,color_text_L1:s.primary_gray_01,color_text_L2:s.primary_gray_02,color_text_L3:s.primary_gray_03,color_text_L4:s.primary_gray_04,color_text_L5:s.primary_blue_02,color_text_white:s.common_white,color_text_blue:s.primary_blue_02,color_text_blue_hover:s.primary_blue_01,color_text_blue_active:s.primary_blue_03,color_text_disable_01:s.primary_gray_05,color_tab_line:s.primary_gray_06,color_split_line:s.primary_gray_07,color_border_blue_common:s.primary_blue_02,color_btn_border_normal:s.primary_blue_05,color_btn_border_disable:s.primary_blue_07,color_btn_secondary_border_normal:s.primary_blue_06,color_btn_secondary_border_hover:s.primary_blue_07,color_btn_danger_normal:s.primary_red_02,color_btn_danger_hover:s.primary_red_03,color_btn_danger_click:s.primary_red_01,color_btn_danger_disable:s.primary_red_04,color_bg_modal_item_header:s.primary_gray_09,color_bg_light_red:s.primary_red_05,color_alarm_common:s.primary_red_02}},47946:(Ce,ae,n)=>{"use strict";n.d(ae,{pX:()=>jo,O3:()=>Vs,tr:()=>fs,ur:()=>Ao});var s={};if(n.r(s),n.d(s,{Decoder:()=>Tn,Encoder:()=>es,PacketType:()=>ut,protocol:()=>Xs}),n.j!=15)var p=n(76805);if(n.j!=15)var M=n(60892);const d=Object.create(null);d.open="0",d.close="1",d.ping="2",d.pong="3",d.message="4",d.upgrade="5",d.noop="6";const D=Object.create(null);Object.keys(d).forEach(a=>{D[d[a]]=a});const Q={type:"error",data:"parser error"},z=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",R=typeof ArrayBuffer=="function",q=a=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(a):a&&a.buffer instanceof ArrayBuffer,N=(a,t,o)=>{let{type:m,data:U}=a;return z&&U instanceof Blob?t?o(U):F(U,o):R&&(U instanceof ArrayBuffer||q(U))?t?o(U):F(new Blob([U]),o):o(d[m]+(U||""))},F=(a,t)=>{const o=new FileReader;return o.onload=function(){const m=o.result.split(",")[1];t("b"+(m||""))},o.readAsDataURL(a)};function ie(a){return a instanceof Uint8Array?a:a instanceof ArrayBuffer?new Uint8Array(a):new Uint8Array(a.buffer,a.byteOffset,a.byteLength)}let B;function pe(a,t){if(z&&a.data instanceof Blob)return a.data.arrayBuffer().then(ie).then(t);if(R&&(a.data instanceof ArrayBuffer||q(a.data)))return t(ie(a.data));N(a,!1,o=>{B||(B=new TextEncoder),t(B.encode(o))})}const V="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",G=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let a=0;a<V.length;a++)G[V.charCodeAt(a)]=a;const I=a=>{let t=new Uint8Array(a),o,m=t.length,U="";for(o=0;o<m;o+=3)U+=V[t[o]>>2],U+=V[(t[o]&3)<<4|t[o+1]>>4],U+=V[(t[o+1]&15)<<2|t[o+2]>>6],U+=V[t[o+2]&63];return m%3===2?U=U.substring(0,U.length-1)+"=":m%3===1&&(U=U.substring(0,U.length-2)+"=="),U},v=a=>{let t=a.length*.75,o=a.length,m,U=0,de,Le,Ee,Ue;a[a.length-1]==="="&&(t--,a[a.length-2]==="="&&t--);const Ze=new ArrayBuffer(t),Be=new Uint8Array(Ze);for(m=0;m<o;m+=4)de=G[a.charCodeAt(m)],Le=G[a.charCodeAt(m+1)],Ee=G[a.charCodeAt(m+2)],Ue=G[a.charCodeAt(m+3)],Be[U++]=de<<2|Le>>4,Be[U++]=(Le&15)<<4|Ee>>2,Be[U++]=(Ee&3)<<6|Ue&63;return Ze},S=typeof ArrayBuffer=="function",g=(a,t)=>{if(typeof a!="string")return{type:"message",data:h(a,t)};const o=a.charAt(0);return o==="b"?{type:"message",data:f(a.substring(1),t)}:D[o]?a.length>1?{type:D[o],data:a.substring(1)}:{type:D[o]}:Q},f=(a,t)=>{if(S){const o=v(a);return h(o,t)}else return{base64:!0,data:a}},h=(a,t)=>{switch(t){case"blob":return a instanceof Blob?a:new Blob([a]);case"arraybuffer":default:return a instanceof ArrayBuffer?a:a.buffer}},b="",C=(a,t)=>{const o=a.length,m=new Array(o);let U=0;a.forEach((de,Le)=>{N(de,!1,Ee=>{m[Le]=Ee,++U===o&&t(m.join(b))})})},L=(a,t)=>{const o=a.split(b),m=[];for(let U=0;U<o.length;U++){const de=g(o[U],t);if(m.push(de),de.type==="error")break}return m};function Z(){return new TransformStream({transform(a,t){pe(a,o=>{const m=o.length;let U;if(m<126)U=new Uint8Array(1),new DataView(U.buffer).setUint8(0,m);else if(m<65536){U=new Uint8Array(3);const de=new DataView(U.buffer);de.setUint8(0,126),de.setUint16(1,m)}else{U=new Uint8Array(9);const de=new DataView(U.buffer);de.setUint8(0,127),de.setBigUint64(1,BigInt(m))}a.data&&typeof a.data!="string"&&(U[0]|=128),t.enqueue(U),t.enqueue(o)})}})}let u;function k(a){return a.reduce((t,o)=>t+o.length,0)}function T(a,t){if(a[0].length===t)return a.shift();const o=new Uint8Array(t);let m=0;for(let U=0;U<t;U++)o[U]=a[0][m++],m===a[0].length&&(a.shift(),m=0);return a.length&&m<a[0].length&&(a[0]=a[0].slice(m)),o}function X(a,t){u||(u=new TextDecoder);const o=[];let m=0,U=-1,de=!1;return new TransformStream({transform(Le,Ee){for(o.push(Le);;){if(m===0){if(k(o)<1)break;const Ue=T(o,1);de=(Ue[0]&128)===128,U=Ue[0]&127,U<126?m=3:U===126?m=1:m=2}else if(m===1){if(k(o)<2)break;const Ue=T(o,2);U=new DataView(Ue.buffer,Ue.byteOffset,Ue.length).getUint16(0),m=3}else if(m===2){if(k(o)<8)break;const Ue=T(o,8),Ze=new DataView(Ue.buffer,Ue.byteOffset,Ue.length),Be=Ze.getUint32(0);if(Be>Math.pow(2,21)-1){Ee.enqueue(Q);break}U=Be*Math.pow(2,32)+Ze.getUint32(4),m=3}else{if(k(o)<U)break;const Ue=T(o,U);Ee.enqueue(g(de?Ue:u.decode(Ue),t)),m=0}if(U===0||U>a){Ee.enqueue(Q);break}}}})}const y=4;function A(a){if(a)return se(a)}function se(a){for(var t in A.prototype)a[t]=A.prototype[t];return a}A.prototype.on=A.prototype.addEventListener=function(a,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+a]=this._callbacks["$"+a]||[]).push(t),this},A.prototype.once=function(a,t){function o(){this.off(a,o),t.apply(this,arguments)}return o.fn=t,this.on(a,o),this},A.prototype.off=A.prototype.removeListener=A.prototype.removeAllListeners=A.prototype.removeEventListener=function(a,t){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var o=this._callbacks["$"+a];if(!o)return this;if(arguments.length==1)return delete this._callbacks["$"+a],this;for(var m,U=0;U<o.length;U++)if(m=o[U],m===t||m.fn===t){o.splice(U,1);break}return o.length===0&&delete this._callbacks["$"+a],this},A.prototype.emit=function(a){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),o=this._callbacks["$"+a],m=1;m<arguments.length;m++)t[m-1]=arguments[m];if(o){o=o.slice(0);for(var m=0,U=o.length;m<U;++m)o[m].apply(this,t)}return this},A.prototype.emitReserved=A.prototype.emit,A.prototype.listeners=function(a){return this._callbacks=this._callbacks||{},this._callbacks["$"+a]||[]},A.prototype.hasListeners=function(a){return!!this.listeners(a).length};const ee=typeof self<"u"?self:typeof window<"u"?window:Function("return this")();function ne(a){for(var t=arguments.length,o=new Array(t>1?t-1:0),m=1;m<t;m++)o[m-1]=arguments[m];return o.reduce((U,de)=>(a.hasOwnProperty(de)&&(U[de]=a[de]),U),{})}const te=ee.setTimeout,fe=ee.clearTimeout;function De(a,t){t.useNativeTimers?(a.setTimeoutFn=te.bind(ee),a.clearTimeoutFn=fe.bind(ee)):(a.setTimeoutFn=ee.setTimeout.bind(ee),a.clearTimeoutFn=ee.clearTimeout.bind(ee))}const Ye=1.33;function je(a){return typeof a=="string"?Re(a):Math.ceil((a.byteLength||a.size)*Ye)}function Re(a){let t=0,o=0;for(let m=0,U=a.length;m<U;m++)t=a.charCodeAt(m),t<128?o+=1:t<2048?o+=2:t<55296||t>=57344?o+=3:(m++,o+=4);return o}function mt(a){let t="";for(let o in a)a.hasOwnProperty(o)&&(t.length&&(t+="&"),t+=encodeURIComponent(o)+"="+encodeURIComponent(a[o]));return t}function Pe(a){let t={},o=a.split("&");for(let m=0,U=o.length;m<U;m++){let de=o[m].split("=");t[decodeURIComponent(de[0])]=decodeURIComponent(de[1])}return t}class J extends Error{constructor(t,o,m){super(t),this.description=o,this.context=m,this.type="TransportError"}}class Y extends A{constructor(t){super(),this.writable=!1,De(this,t),this.opts=t,this.query=t.query,this.socket=t.socket}onError(t,o,m){return super.emitReserved("error",new J(t,o,m)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(t){this.readyState==="open"&&this.write(t)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(t){const o=g(t,this.socket.binaryType);this.onPacket(o)}onPacket(t){super.emitReserved("packet",t)}onClose(t){this.readyState="closed",super.emitReserved("close",t)}pause(t){}createUri(t,o){return o===void 0&&(o={}),t+"://"+this._hostname()+this._port()+this.opts.path+this._query(o)}_hostname(){const t=this.opts.hostname;return t.indexOf(":")===-1?t:"["+t+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(t){const o=mt(t);return o.length?"?"+o:""}}const me="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),Ne=64,ke={};let Ge=0,Me=0,Ie;function Je(a){let t="";do t=me[a%Ne]+t,a=Math.floor(a/Ne);while(a>0);return t}function nt(a){let t=0;for(Me=0;Me<a.length;Me++)t=t*Ne+ke[a.charAt(Me)];return t}function yt(){const a=Je(+new Date);return a!==Ie?(Ge=0,Ie=a):a+"."+Je(Ge++)}for(;Me<Ne;Me++)ke[me[Me]]=Me;let xt=!1;try{xt=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch(a){}const bt=xt;function wt(a){const t=a.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!t||bt))return new XMLHttpRequest}catch(o){}if(!t)try{return new ee[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch(o){}}function r(){}function ue(){}const ve=function(){return new wt({xdomain:!1}).responseType!=null}();class Te extends Y{constructor(t){if(super(t),this.polling=!1,typeof location<"u"){const m=location.protocol==="https:";let U=location.port;U||(U=m?"443":"80"),this.xd=typeof location<"u"&&t.hostname!==location.hostname||U!==t.port}const o=t&&t.forceBase64;this.supportsBinary=ve&&!o,this.opts.withCredentials&&(this.cookieJar=void 0)}get name(){return"polling"}doOpen(){this.poll()}pause(t){this.readyState="pausing";const o=()=>{this.readyState="paused",t()};if(this.polling||!this.writable){let m=0;this.polling&&(m++,this.once("pollComplete",function(){--m||o()})),this.writable||(m++,this.once("drain",function(){--m||o()}))}else o()}poll(){this.polling=!0,this.doPoll(),this.emitReserved("poll")}onData(t){const o=m=>{if(this.readyState==="opening"&&m.type==="open"&&this.onOpen(),m.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(m)};L(t,this.socket.binaryType).forEach(o),this.readyState!=="closed"&&(this.polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this.poll())}doClose(){const t=()=>{this.write([{type:"close"}])};this.readyState==="open"?t():this.once("open",t)}write(t){this.writable=!1,C(t,o=>{this.doWrite(o,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const t=this.opts.secure?"https":"http",o=this.query||{};return this.opts.timestampRequests!==!1&&(o[this.opts.timestampParam]=yt()),!this.supportsBinary&&!o.sid&&(o.b64=1),this.createUri(t,o)}request(t){return t===void 0&&(t={}),Object.assign(t,{xd:this.xd,cookieJar:this.cookieJar},this.opts),new He(this.uri(),t)}doWrite(t,o){const m=this.request({method:"POST",data:t});m.on("success",o),m.on("error",(U,de)=>{this.onError("xhr post error",U,de)})}doPoll(){const t=this.request();t.on("data",this.onData.bind(this)),t.on("error",(o,m)=>{this.onError("xhr poll error",o,m)}),this.pollXhr=t}}class He extends A{constructor(t,o){super(),De(this,o),this.opts=o,this.method=o.method||"GET",this.uri=t,this.data=o.data!==void 0?o.data:null,this.create()}create(){var t;const o=ne(this.opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");o.xdomain=!!this.opts.xd;const m=this.xhr=new wt(o);try{m.open(this.method,this.uri,!0);try{if(this.opts.extraHeaders){m.setDisableHeaderCheck&&m.setDisableHeaderCheck(!0);for(let U in this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(U)&&m.setRequestHeader(U,this.opts.extraHeaders[U])}}catch(U){}if(this.method==="POST")try{m.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(U){}try{m.setRequestHeader("Accept","*/*")}catch(U){}(t=this.opts.cookieJar)===null||t===void 0||t.addCookies(m),"withCredentials"in m&&(m.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(m.timeout=this.opts.requestTimeout),m.onreadystatechange=()=>{var U;m.readyState===3&&((U=this.opts.cookieJar)===null||U===void 0||U.parseCookies(m)),m.readyState===4&&(m.status===200||m.status===1223?this.onLoad():this.setTimeoutFn(()=>{this.onError(typeof m.status=="number"?m.status:0)},0))},m.send(this.data)}catch(U){this.setTimeoutFn(()=>{this.onError(U)},0);return}typeof document<"u"&&(this.index=He.requestsCount++,He.requests[this.index]=this)}onError(t){this.emitReserved("error",t,this.xhr),this.cleanup(!0)}cleanup(t){if(!(typeof this.xhr>"u"||this.xhr===null)){if(this.xhr.onreadystatechange=ue,t)try{this.xhr.abort()}catch(o){}typeof document<"u"&&delete He.requests[this.index],this.xhr=null}}onLoad(){const t=this.xhr.responseText;t!==null&&(this.emitReserved("data",t),this.emitReserved("success"),this.cleanup())}abort(){this.cleanup()}}if(He.requestsCount=0,He.requests={},typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",qe);else if(typeof addEventListener=="function"){const a="onpagehide"in ee?"pagehide":"unload";addEventListener(a,qe,!1)}}function qe(){for(let a in He.requests)He.requests.hasOwnProperty(a)&&He.requests[a].abort()}const dt=typeof Promise=="function"&&typeof Promise.resolve=="function"?t=>Promise.resolve().then(t):(t,o)=>o(t,0),It=ee.WebSocket||ee.MozWebSocket,Ft=!0,Vt="arraybuffer",$t=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class Rn extends Y{constructor(t){super(t),this.supportsBinary=!t.forceBase64}get name(){return"websocket"}doOpen(){if(!this.check())return;const t=this.uri(),o=this.opts.protocols,m=$t?{}:ne(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(m.headers=this.opts.extraHeaders);try{this.ws=Ft&&!$t?o?new It(t,o):new It(t):new It(t,o,m)}catch(U){return this.emitReserved("error",U)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=t=>this.onClose({description:"websocket connection closed",context:t}),this.ws.onmessage=t=>this.onData(t.data),this.ws.onerror=t=>this.onError("websocket error",t)}write(t){this.writable=!1;for(let o=0;o<t.length;o++){const m=t[o],U=o===t.length-1;N(m,this.supportsBinary,de=>{const Le={};Ft||(m.options&&(Le.compress=m.options.compress),this.opts.perMessageDeflate&&(typeof de=="string"?Buffer.byteLength(de):de.length)<this.opts.perMessageDeflate.threshold&&(Le.compress=!1));try{Ft?this.ws.send(de):this.ws.send(de,Le)}catch(Ee){}U&&dt(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.close(),this.ws=null)}uri(){const t=this.opts.secure?"wss":"ws",o=this.query||{};return this.opts.timestampRequests&&(o[this.opts.timestampParam]=yt()),this.supportsBinary||(o.b64=1),this.createUri(t,o)}check(){return!!It}}class un extends Y{get name(){return"webtransport"}doOpen(){typeof WebTransport=="function"&&(this.transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name]),this.transport.closed.then(()=>{this.onClose()}).catch(t=>{this.onError("webtransport error",t)}),this.transport.ready.then(()=>{this.transport.createBidirectionalStream().then(t=>{const o=X(Number.MAX_SAFE_INTEGER,this.socket.binaryType),m=t.readable.pipeThrough(o).getReader(),U=Z();U.readable.pipeTo(t.writable),this.writer=U.writable.getWriter();const de=()=>{m.read().then(Ee=>{let{done:Ue,value:Ze}=Ee;Ue||(this.onPacket(Ze),de())}).catch(Ee=>{})};de();const Le={type:"open"};this.query.sid&&(Le.data='{"sid":"'+this.query.sid+'"}'),this.writer.write(Le).then(()=>this.onOpen())})}))}write(t){this.writable=!1;for(let o=0;o<t.length;o++){const m=t[o],U=o===t.length-1;this.writer.write(m).then(()=>{U&&dt(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var t;(t=this.transport)===null||t===void 0||t.close()}}const Nn={websocket:Rn,webtransport:un,polling:Te},pn=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,In=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function mn(a){if(a.length>2e3)throw"URI too long";const t=a,o=a.indexOf("["),m=a.indexOf("]");o!=-1&&m!=-1&&(a=a.substring(0,o)+a.substring(o,m).replace(/:/g,";")+a.substring(m,a.length));let U=pn.exec(a||""),de={},Le=14;for(;Le--;)de[In[Le]]=U[Le]||"";return o!=-1&&m!=-1&&(de.source=t,de.host=de.host.substring(1,de.host.length-1).replace(/;/g,":"),de.authority=de.authority.replace("[","").replace("]","").replace(/;/g,":"),de.ipv6uri=!0),de.pathNames=jn(de,de.path),de.queryKey=tn(de,de.query),de}function jn(a,t){const o=/\/{2,9}/g,m=t.replace(o,"/").split("/");return(t.slice(0,1)=="/"||t.length===0)&&m.splice(0,1),t.slice(-1)=="/"&&m.splice(m.length-1,1),m}function tn(a,t){const o={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(m,U,de){U&&(o[U]=de)}),o}class hn extends A{constructor(t,o){o===void 0&&(o={}),super(),this.binaryType=Vt,this.writeBuffer=[],t&&typeof t=="object"&&(o=t,t=null),t?(t=mn(t),o.hostname=t.host,o.secure=t.protocol==="https"||t.protocol==="wss",o.port=t.port,t.query&&(o.query=t.query)):o.host&&(o.hostname=mn(o.host).host),De(this,o),this.secure=o.secure!=null?o.secure:typeof location<"u"&&location.protocol==="https:",o.hostname&&!o.port&&(o.port=this.secure?"443":"80"),this.hostname=o.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=o.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=o.transports||["polling","websocket","webtransport"],this.writeBuffer=[],this.prevBufferLen=0,this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},o),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=Pe(this.opts.query)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingTimeoutTimer=null,typeof addEventListener=="function"&&(this.opts.closeOnBeforeunload&&(this.beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this.beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this.offlineEventListener=()=>{this.onClose("transport close",{description:"network connection lost"})},addEventListener("offline",this.offlineEventListener,!1))),this.open()}createTransport(t){const o=Object.assign({},this.opts.query);o.EIO=y,o.transport=t,this.id&&(o.sid=this.id);const m=Object.assign({},this.opts,{query:o,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[t]);return new Nn[t](m)}open(){let t;if(this.opts.rememberUpgrade&&hn.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1)t="websocket";else if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}else t=this.transports[0];this.readyState="opening";try{t=this.createTransport(t)}catch(o){this.transports.shift(),this.open();return}t.open(),this.setTransport(t)}setTransport(t){this.transport&&this.transport.removeAllListeners(),this.transport=t,t.on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",o=>this.onClose("transport close",o))}probe(t){let o=this.createTransport(t),m=!1;hn.priorWebsocketSuccess=!1;const U=()=>{m||(o.send([{type:"ping",data:"probe"}]),o.once("packet",Xe=>{if(!m)if(Xe.type==="pong"&&Xe.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",o),!o)return;hn.priorWebsocketSuccess=o.name==="websocket",this.transport.pause(()=>{m||this.readyState!=="closed"&&(Be(),this.setTransport(o),o.send([{type:"upgrade"}]),this.emitReserved("upgrade",o),o=null,this.upgrading=!1,this.flush())})}else{const we=new Error("probe error");we.transport=o.name,this.emitReserved("upgradeError",we)}}))};function de(){m||(m=!0,Be(),o.close(),o=null)}const Le=Xe=>{const we=new Error("probe error: "+Xe);we.transport=o.name,de(),this.emitReserved("upgradeError",we)};function Ee(){Le("transport closed")}function Ue(){Le("socket closed")}function Ze(Xe){o&&Xe.name!==o.name&&de()}const Be=()=>{o.removeListener("open",U),o.removeListener("error",Le),o.removeListener("close",Ee),this.off("close",Ue),this.off("upgrading",Ze)};o.once("open",U),o.once("error",Le),o.once("close",Ee),this.once("close",Ue),this.once("upgrading",Ze),this.upgrades.indexOf("webtransport")!==-1&&t!=="webtransport"?this.setTimeoutFn(()=>{m||o.open()},200):o.open()}onOpen(){if(this.readyState="open",hn.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush(),this.readyState==="open"&&this.opts.upgrade){let t=0;const o=this.upgrades.length;for(;t<o;t++)this.probe(this.upgrades[t])}}onPacket(t){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",t),this.emitReserved("heartbeat"),this.resetPingTimeout(),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"ping":this.sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong");break;case"error":const o=new Error("server error");o.code=t.data,this.onError(o);break;case"message":this.emitReserved("data",t.data),this.emitReserved("message",t.data);break}}onHandshake(t){this.emitReserved("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this.upgrades=this.filterUpgrades(t.upgrades),this.pingInterval=t.pingInterval,this.pingTimeout=t.pingTimeout,this.maxPayload=t.maxPayload,this.onOpen(),this.readyState!=="closed"&&this.resetPingTimeout()}resetPingTimeout(){this.clearTimeoutFn(this.pingTimeoutTimer),this.pingTimeoutTimer=this.setTimeoutFn(()=>{this.onClose("ping timeout")},this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}onDrain(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const t=this.getWritablePackets();this.transport.send(t),this.prevBufferLen=t.length,this.emitReserved("flush")}}getWritablePackets(){if(!(this.maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let o=1;for(let m=0;m<this.writeBuffer.length;m++){const U=this.writeBuffer[m].data;if(U&&(o+=je(U)),m>0&&o>this.maxPayload)return this.writeBuffer.slice(0,m);o+=2}return this.writeBuffer}write(t,o,m){return this.sendPacket("message",t,o,m),this}send(t,o,m){return this.sendPacket("message",t,o,m),this}sendPacket(t,o,m,U){if(typeof o=="function"&&(U=o,o=void 0),typeof m=="function"&&(U=m,m=null),this.readyState==="closing"||this.readyState==="closed")return;m=m||{},m.compress=m.compress!==!1;const de={type:t,data:o,options:m};this.emitReserved("packetCreate",de),this.writeBuffer.push(de),U&&this.once("flush",U),this.flush()}close(){const t=()=>{this.onClose("forced close"),this.transport.close()},o=()=>{this.off("upgrade",o),this.off("upgradeError",o),t()},m=()=>{this.once("upgrade",o),this.once("upgradeError",o)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?m():t()}):this.upgrading?m():t()),this}onError(t){hn.priorWebsocketSuccess=!1,this.emitReserved("error",t),this.onClose("transport error",t)}onClose(t,o){(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")&&(this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),typeof removeEventListener=="function"&&(removeEventListener("beforeunload",this.beforeunloadEventListener,!1),removeEventListener("offline",this.offlineEventListener,!1)),this.readyState="closed",this.id=null,this.emitReserved("close",t,o),this.writeBuffer=[],this.prevBufferLen=0)}filterUpgrades(t){const o=[];let m=0;const U=t.length;for(;m<U;m++)~this.transports.indexOf(t[m])&&o.push(t[m]);return o}}hn.protocol=y;const Gs=hn.protocol;function Dt(a,t,o){t===void 0&&(t="");let m=a;o=o||typeof location<"u"&&location,a==null&&(a=o.protocol+"//"+o.host),typeof a=="string"&&(a.charAt(0)==="/"&&(a.charAt(1)==="/"?a=o.protocol+a:a=o.host+a),/^(https?|wss?):\/\//.test(a)||(typeof o<"u"?a=o.protocol+"//"+a:a="https://"+a),m=mn(a)),m.port||(/^(http|ws)$/.test(m.protocol)?m.port="80":/^(http|ws)s$/.test(m.protocol)&&(m.port="443")),m.path=m.path||"/";const de=m.host.indexOf(":")!==-1?"["+m.host+"]":m.host;return m.id=m.protocol+"://"+de+":"+m.port+t,m.href=m.protocol+"://"+de+(o&&o.port===m.port?"":":"+m.port),m}const Ys=typeof ArrayBuffer=="function",_n=a=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(a):a.buffer instanceof ArrayBuffer,ys=Object.prototype.toString,$s=typeof Blob=="function"||typeof Blob<"u"&&ys.call(Blob)==="[object BlobConstructor]",Qs=typeof File=="function"||typeof File<"u"&&ys.call(File)==="[object FileConstructor]";function Bn(a){return Ys&&(a instanceof ArrayBuffer||_n(a))||$s&&a instanceof Blob||Qs&&a instanceof File}function Fn(a,t){if(!a||typeof a!="object")return!1;if(Array.isArray(a)){for(let o=0,m=a.length;o<m;o++)if(Fn(a[o]))return!0;return!1}if(Bn(a))return!0;if(a.toJSON&&typeof a.toJSON=="function"&&arguments.length===1)return Fn(a.toJSON(),!0);for(const o in a)if(Object.prototype.hasOwnProperty.call(a,o)&&Fn(a[o]))return!0;return!1}function qn(a){const t=[],o=a.data,m=a;return m.data=En(o,t),m.attachments=t.length,{packet:m,buffers:t}}function En(a,t){if(!a)return a;if(Bn(a)){const o={_placeholder:!0,num:t.length};return t.push(a),o}else if(Array.isArray(a)){const o=new Array(a.length);for(let m=0;m<a.length;m++)o[m]=En(a[m],t);return o}else if(typeof a=="object"&&!(a instanceof Date)){const o={};for(const m in a)Object.prototype.hasOwnProperty.call(a,m)&&(o[m]=En(a[m],t));return o}return a}function an(a,t){return a.data=kn(a.data,t),delete a.attachments,a}function kn(a,t){if(!a)return a;if(a&&a._placeholder===!0){if(typeof a.num=="number"&&a.num>=0&&a.num<t.length)return t[a.num];throw new Error("illegal attachments")}else if(Array.isArray(a))for(let o=0;o<a.length;o++)a[o]=kn(a[o],t);else if(typeof a=="object")for(const o in a)Object.prototype.hasOwnProperty.call(a,o)&&(a[o]=kn(a[o],t));return a}const Js=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],Xs=5;var ut;(function(a){a[a.CONNECT=0]="CONNECT",a[a.DISCONNECT=1]="DISCONNECT",a[a.EVENT=2]="EVENT",a[a.ACK=3]="ACK",a[a.CONNECT_ERROR=4]="CONNECT_ERROR",a[a.BINARY_EVENT=5]="BINARY_EVENT",a[a.BINARY_ACK=6]="BINARY_ACK"})(ut||(ut={}));class es{constructor(t){this.replacer=t}encode(t){return(t.type===ut.EVENT||t.type===ut.ACK)&&Fn(t)?this.encodeAsBinary({type:t.type===ut.EVENT?ut.BINARY_EVENT:ut.BINARY_ACK,nsp:t.nsp,data:t.data,id:t.id}):[this.encodeAsString(t)]}encodeAsString(t){let o=""+t.type;return(t.type===ut.BINARY_EVENT||t.type===ut.BINARY_ACK)&&(o+=t.attachments+"-"),t.nsp&&t.nsp!=="/"&&(o+=t.nsp+","),t.id!=null&&(o+=t.id),t.data!=null&&(o+=JSON.stringify(t.data,this.replacer)),o}encodeAsBinary(t){const o=qn(t),m=this.encodeAsString(o.packet),U=o.buffers;return U.unshift(m),U}}function wn(a){return Object.prototype.toString.call(a)==="[object Object]"}class Tn extends A{constructor(t){super(),this.reviver=t}add(t){let o;if(typeof t=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");o=this.decodeString(t);const m=o.type===ut.BINARY_EVENT;m||o.type===ut.BINARY_ACK?(o.type=m?ut.EVENT:ut.ACK,this.reconstructor=new ts(o),o.attachments===0&&super.emitReserved("decoded",o)):super.emitReserved("decoded",o)}else if(Bn(t)||t.base64)if(this.reconstructor)o=this.reconstructor.takeBinaryData(t),o&&(this.reconstructor=null,super.emitReserved("decoded",o));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+t)}decodeString(t){let o=0;const m={type:Number(t.charAt(0))};if(ut[m.type]===void 0)throw new Error("unknown packet type "+m.type);if(m.type===ut.BINARY_EVENT||m.type===ut.BINARY_ACK){const de=o+1;for(;t.charAt(++o)!=="-"&&o!=t.length;);const Le=t.substring(de,o);if(Le!=Number(Le)||t.charAt(o)!=="-")throw new Error("Illegal attachments");m.attachments=Number(Le)}if(t.charAt(o+1)==="/"){const de=o+1;for(;++o&&!(t.charAt(o)===","||o===t.length););m.nsp=t.substring(de,o)}else m.nsp="/";const U=t.charAt(o+1);if(U!==""&&Number(U)==U){const de=o+1;for(;++o;){const Le=t.charAt(o);if(Le==null||Number(Le)!=Le){--o;break}if(o===t.length)break}m.id=Number(t.substring(de,o+1))}if(t.charAt(++o)){const de=this.tryParse(t.substr(o));if(Tn.isPayloadValid(m.type,de))m.data=de;else throw new Error("invalid payload")}return m}tryParse(t){try{return JSON.parse(t,this.reviver)}catch(o){return!1}}static isPayloadValid(t,o){switch(t){case ut.CONNECT:return wn(o);case ut.DISCONNECT:return o===void 0;case ut.CONNECT_ERROR:return typeof o=="string"||wn(o);case ut.EVENT:case ut.BINARY_EVENT:return Array.isArray(o)&&(typeof o[0]=="number"||typeof o[0]=="string"&&Js.indexOf(o[0])===-1);case ut.ACK:case ut.BINARY_ACK:return Array.isArray(o)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class ts{constructor(t){this.packet=t,this.buffers=[],this.reconPack=t}takeBinaryData(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){const o=an(this.reconPack,this.buffers);return this.finishedReconstruction(),o}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}function nn(a,t,o){return a.on(t,o),function(){a.off(t,o)}}const qs=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class xs extends A{constructor(t,o,m){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=t,this.nsp=o,m&&m.auth&&(this.auth=m.auth),this._opts=Object.assign({},m),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const t=this.io;this.subs=[nn(t,"open",this.onopen.bind(this)),nn(t,"packet",this.onpacket.bind(this)),nn(t,"error",this.onerror.bind(this)),nn(t,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(){for(var t=arguments.length,o=new Array(t),m=0;m<t;m++)o[m]=arguments[m];return o.unshift("message"),this.emit.apply(this,o),this}emit(t){if(qs.hasOwnProperty(t))throw new Error('"'+t.toString()+'" is a reserved event name');for(var o=arguments.length,m=new Array(o>1?o-1:0),U=1;U<o;U++)m[U-1]=arguments[U];if(m.unshift(t),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(m),this;const de={type:ut.EVENT,data:m};if(de.options={},de.options.compress=this.flags.compress!==!1,typeof m[m.length-1]=="function"){const Ue=this.ids++,Ze=m.pop();this._registerAckCallback(Ue,Ze),de.id=Ue}const Le=this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable;return this.flags.volatile&&(!Le||!this.connected)||(this.connected?(this.notifyOutgoingListeners(de),this.packet(de)):this.sendBuffer.push(de)),this.flags={},this}_registerAckCallback(t,o){var m=this,U;const de=(U=this.flags.timeout)!==null&&U!==void 0?U:this._opts.ackTimeout;if(de===void 0){this.acks[t]=o;return}const Le=this.io.setTimeoutFn(()=>{delete this.acks[t];for(let Ue=0;Ue<this.sendBuffer.length;Ue++)this.sendBuffer[Ue].id===t&&this.sendBuffer.splice(Ue,1);o.call(this,new Error("operation has timed out"))},de),Ee=function(){m.io.clearTimeoutFn(Le);for(var Ue=arguments.length,Ze=new Array(Ue),Be=0;Be<Ue;Be++)Ze[Be]=arguments[Be];o.apply(m,Ze)};Ee.withError=!0,this.acks[t]=Ee}emitWithAck(t){for(var o=arguments.length,m=new Array(o>1?o-1:0),U=1;U<o;U++)m[U-1]=arguments[U];return new Promise((de,Le)=>{const Ee=(Ue,Ze)=>Ue?Le(Ue):de(Ze);Ee.withError=!0,m.push(Ee),this.emit(t,...m)})}_addToQueue(t){var o=this;let m;typeof t[t.length-1]=="function"&&(m=t.pop());const U={id:this._queueSeq++,tryCount:0,pending:!1,args:t,flags:Object.assign({fromQueue:!0},this.flags)};t.push(function(de){if(U!==o._queue[0])return;if(de!==null)U.tryCount>o._opts.retries&&(o._queue.shift(),m&&m(de));else if(o._queue.shift(),m){for(var Ee=arguments.length,Ue=new Array(Ee>1?Ee-1:0),Ze=1;Ze<Ee;Ze++)Ue[Ze-1]=arguments[Ze];m(null,...Ue)}return U.pending=!1,o._drainQueue()}),this._queue.push(U),this._drainQueue()}_drainQueue(t){if(t===void 0&&(t=!1),!this.connected||this._queue.length===0)return;const o=this._queue[0];o.pending&&!t||(o.pending=!0,o.tryCount++,this.flags=o.flags,this.emit.apply(this,o.args))}packet(t){t.nsp=this.nsp,this.io._packet(t)}onopen(){typeof this.auth=="function"?this.auth(t=>{this._sendConnectPacket(t)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(t){this.packet({type:ut.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},t):t})}onerror(t){this.connected||this.emitReserved("connect_error",t)}onclose(t,o){this.connected=!1,delete this.id,this.emitReserved("disconnect",t,o),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(t=>{if(!this.sendBuffer.some(m=>String(m.id)===t)){const m=this.acks[t];delete this.acks[t],m.withError&&m.call(this,new Error("socket has been disconnected"))}})}onpacket(t){if(t.nsp===this.nsp)switch(t.type){case ut.CONNECT:t.data&&t.data.sid?this.onconnect(t.data.sid,t.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case ut.EVENT:case ut.BINARY_EVENT:this.onevent(t);break;case ut.ACK:case ut.BINARY_ACK:this.onack(t);break;case ut.DISCONNECT:this.ondisconnect();break;case ut.CONNECT_ERROR:this.destroy();const m=new Error(t.data.message);m.data=t.data.data,this.emitReserved("connect_error",m);break}}onevent(t){const o=t.data||[];t.id!=null&&o.push(this.ack(t.id)),this.connected?this.emitEvent(o):this.receiveBuffer.push(Object.freeze(o))}emitEvent(t){if(this._anyListeners&&this._anyListeners.length){const o=this._anyListeners.slice();for(const m of o)m.apply(this,t)}super.emit.apply(this,t),this._pid&&t.length&&typeof t[t.length-1]=="string"&&(this._lastOffset=t[t.length-1])}ack(t){const o=this;let m=!1;return function(){if(!m){m=!0;for(var U=arguments.length,de=new Array(U),Le=0;Le<U;Le++)de[Le]=arguments[Le];o.packet({type:ut.ACK,id:t,data:de})}}}onack(t){const o=this.acks[t.id];typeof o=="function"&&(delete this.acks[t.id],o.withError&&t.data.unshift(null),o.apply(this,t.data))}onconnect(t,o){this.id=t,this.recovered=o&&this._pid===o,this._pid=o,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(t=>this.emitEvent(t)),this.receiveBuffer=[],this.sendBuffer.forEach(t=>{this.notifyOutgoingListeners(t),this.packet(t)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(t=>t()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:ut.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(t){return this.flags.compress=t,this}get volatile(){return this.flags.volatile=!0,this}timeout(t){return this.flags.timeout=t,this}onAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(t),this}prependAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(t),this}offAny(t){if(!this._anyListeners)return this;if(t){const o=this._anyListeners;for(let m=0;m<o.length;m++)if(t===o[m])return o.splice(m,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(t),this}prependAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(t),this}offAnyOutgoing(t){if(!this._anyOutgoingListeners)return this;if(t){const o=this._anyOutgoingListeners;for(let m=0;m<o.length;m++)if(t===o[m])return o.splice(m,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(t){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const o=this._anyOutgoingListeners.slice();for(const m of o)m.apply(this,t.data)}}}function Sn(a){a=a||{},this.ms=a.min||100,this.max=a.max||1e4,this.factor=a.factor||2,this.jitter=a.jitter>0&&a.jitter<=1?a.jitter:0,this.attempts=0}Sn.prototype.duration=function(){var a=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),o=Math.floor(t*this.jitter*a);a=(Math.floor(t*10)&1)==0?a-o:a+o}return Math.min(a,this.max)|0},Sn.prototype.reset=function(){this.attempts=0},Sn.prototype.setMin=function(a){this.ms=a},Sn.prototype.setMax=function(a){this.max=a},Sn.prototype.setJitter=function(a){this.jitter=a};class zn extends A{constructor(t,o){var m;super(),this.nsps={},this.subs=[],t&&typeof t=="object"&&(o=t,t=void 0),o=o||{},o.path=o.path||"/socket.io",this.opts=o,De(this,o),this.reconnection(o.reconnection!==!1),this.reconnectionAttempts(o.reconnectionAttempts||1/0),this.reconnectionDelay(o.reconnectionDelay||1e3),this.reconnectionDelayMax(o.reconnectionDelayMax||5e3),this.randomizationFactor((m=o.randomizationFactor)!==null&&m!==void 0?m:.5),this.backoff=new Sn({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(o.timeout==null?2e4:o.timeout),this._readyState="closed",this.uri=t;const U=o.parser||s;this.encoder=new U.Encoder,this.decoder=new U.Decoder,this._autoConnect=o.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(t){return arguments.length?(this._reconnection=!!t,this):this._reconnection}reconnectionAttempts(t){return t===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=t,this)}reconnectionDelay(t){var o;return t===void 0?this._reconnectionDelay:(this._reconnectionDelay=t,(o=this.backoff)===null||o===void 0||o.setMin(t),this)}randomizationFactor(t){var o;return t===void 0?this._randomizationFactor:(this._randomizationFactor=t,(o=this.backoff)===null||o===void 0||o.setJitter(t),this)}reconnectionDelayMax(t){var o;return t===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=t,(o=this.backoff)===null||o===void 0||o.setMax(t),this)}timeout(t){return arguments.length?(this._timeout=t,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(t){if(~this._readyState.indexOf("open"))return this;this.engine=new hn(this.uri,this.opts);const o=this.engine,m=this;this._readyState="opening",this.skipReconnect=!1;const U=nn(o,"open",function(){m.onopen(),t&&t()}),de=Ee=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",Ee),t?t(Ee):this.maybeReconnectOnOpen()},Le=nn(o,"error",de);if(this._timeout!==!1){const Ee=this._timeout,Ue=this.setTimeoutFn(()=>{U(),de(new Error("timeout")),o.close()},Ee);this.opts.autoUnref&&Ue.unref(),this.subs.push(()=>{this.clearTimeoutFn(Ue)})}return this.subs.push(U),this.subs.push(Le),this}connect(t){return this.open(t)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const t=this.engine;this.subs.push(nn(t,"ping",this.onping.bind(this)),nn(t,"data",this.ondata.bind(this)),nn(t,"error",this.onerror.bind(this)),nn(t,"close",this.onclose.bind(this)),nn(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(t){try{this.decoder.add(t)}catch(o){this.onclose("parse error",o)}}ondecoded(t){dt(()=>{this.emitReserved("packet",t)},this.setTimeoutFn)}onerror(t){this.emitReserved("error",t)}socket(t,o){let m=this.nsps[t];return m?this._autoConnect&&!m.active&&m.connect():(m=new xs(this,t,o),this.nsps[t]=m),m}_destroy(t){const o=Object.keys(this.nsps);for(const m of o)if(this.nsps[m].active)return;this._close()}_packet(t){const o=this.encoder.encode(t);for(let m=0;m<o.length;m++)this.engine.write(o[m],t.options)}cleanup(){this.subs.forEach(t=>t()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close"),this.engine&&this.engine.close()}disconnect(){return this._close()}onclose(t,o){this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",t,o),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const t=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const o=this.backoff.duration();this._reconnecting=!0;const m=this.setTimeoutFn(()=>{t.skipReconnect||(this.emitReserved("reconnect_attempt",t.backoff.attempts),!t.skipReconnect&&t.open(U=>{U?(t._reconnecting=!1,t.reconnect(),this.emitReserved("reconnect_error",U)):t.onreconnect()}))},o);this.opts.autoUnref&&m.unref(),this.subs.push(()=>{this.clearTimeoutFn(m)})}}onreconnect(){const t=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",t)}}const Ln={};function ns(a,t){typeof a=="object"&&(t=a,a=void 0),t=t||{};const o=Dt(a,t.path||"/socket.io"),m=o.source,U=o.id,de=o.path,Le=Ln[U]&&de in Ln[U].nsps,Ee=t.forceNew||t["force new connection"]||t.multiplex===!1||Le;let Ue;return Ee?Ue=new zn(m,t):(Ln[U]||(Ln[U]=new zn(m,t)),Ue=Ln[U]),o.query&&!t.query&&(t.query=o.queryKey),Ue.socket(o.path,t)}if(Object.assign(ns,{Manager:zn,Socket:xs,io:ns,connect:ns}),n.j!=15)var ss=n(51326);if(n.j!=15)var St=n(47437);if(n.j!=15)var sn=n(87612);if(n.j!=15)var bs=n(27814);const os=n.j!=15?2*1e3:null,rs=n.j!=15?24*1e3:null,Un=n.j!=15?48*1e3:null,Wn=()=>{},eo=()=>({destroy:Wn,reset:Wn,emitAsync:to,emitLossy:Wn,getIsConnected:()=>!0,getSocketId:()=>"",getReadyPromise:()=>Promise.resolve(),getOffsetMsec:()=>0,DUMMY:!0}),to=async(a,t)=>({type:a,payload:t,isDummy:!0}),no=a=>{let{query:{uId:t,fURL:o=globalThis.location.href.slice(0,128),uTag:m=St.CH,vTag:U=bs.r,rKey:de},lossyListenerMap:Le={},queueListenerMap:Ee={},socketUrl:Ue=globalThis.location.origin,socketPath:Ze=St.$r,usePolling:Be=!1}=a;if(!t||!de)throw new Error("SKT bad query");const Xe=(0,ss.I6)();let we,Se=(0,p.wT)(),ze=0,$e=null;const pt=()=>{we!==void 0&&(we.close(),we=void 0,Se=(0,p.wT)(),Mt=!1,$e&&clearTimeout($e),$e=null)},Tt=()=>{pt();const it=new zn(Ue,{path:Ze,query:{uId:t,fURL:o,uTag:m,vTag:U,rKey:de},transports:Be?["polling","websocket"]:["websocket"],timeout:Un,reconnectionDelay:Math.round((os+rs)/2),reconnectionDelayMax:Un,randomizationFactor:(rs-os)/(rs+os),closeOnBeforeunload:!1}).socket(St.I4);it.on("connect_error",Ve=>{console.log("[socket] connect_error",Ve),Ve.message.includes(St.uB)&&(pt(),Xe.dispatchEvent({type:St.VU,payload:{error:Ve}})),Xe.dispatchEvent({type:St.Ei,payload:{error:Ve}})}),it.on("connect",async()=>{console.log("[socket] connect");{const Ve=Date.now(),st=await(0,p.hq)(Zt(St.Ip),10*1e3,St.Ip).catch(async rt=>{throw(0,M.et)(Tt,2*1e3),console.warn(St.Ip,rt),Se.reject(rt),rt}),et=Date.now();ze=st-(Ve+et)*.5}$e=(0,M.et)(()=>{!we||!we.connected||Mt||Tt()},(1+Math.random())*30*60*1e3),console.log("[socket] ready"),Xe.dispatchEvent({type:St.zS}),Se.resolve()});{let Ve=Promise.resolve();const st=(et,rt)=>{const ht=Ve.then(et);return Ve=ht.then(Wn,Bt=>{(0,sn.p)("SKT-QA-"+rt,Bt)}),ht};Xe.clear();for(const[et,rt]of Object.entries(Le))it.on(et,ht=>rt({type:et,payload:ht})),Xe.addEventListener(et,ht=>{let{payload:Bt}=ht;return rt({type:et,payload:Bt})});for(const[et,rt]of Object.entries(Ee))it.on(et,ht=>st(()=>rt({type:et,payload:ht}),et)),Xe.addEventListener(et,ht=>{let{payload:Bt}=ht;return st(()=>rt({type:et,payload:Bt}),et)})}we=it};let Mt=!1;const Zt=async(Kt,it)=>{Mt=!0;const{error:Ve,result:st}=await(0,p.hq)(new Promise(et=>we.emit(Kt,it,et)),42*1e3,"SKT-USR "+Kt).finally(()=>{Mt=!1});if(Ve!==void 0)throw Object.assign(new Error(typeof Ve=="object"&&Ve.message||"SKT-USR "+Kt),Ve);return st},Ut=(Kt,it)=>{we.volatile.emit(Kt,it)};return Tt(),{destroy:pt,reset:Tt,emitAsync:Zt,emitLossy:Ut,getIsConnected:()=>we&&we.connected||!1,getSocketId:()=>we&&we.id||"",getReadyPromise:()=>Se.promise,getOffsetMsec:()=>ze}};var yn=n(41011),Qt=n(29158),Cn=n(26812),Rt=n(196);if(n.j!=15)var jt=n(69415);if(n.j!=15)var zt=n(86033);var xn=n(8984);const An=0,vs={cDebugMin:An,cCmtPack:An+1,cCmtThread:An+2,cCmtContent:An+3,cDebugMax:35},Mn=(0,xn.W)("cmt-type",vs),_s=Mn.pack("cCmtPack"),Hn=Mn.pack("cCmtThread"),ws=Mn.pack("cCmtContent"),Ss=new Set(["cCmtPack","cCmtThread","cCmtContent"]),so=new Set([_s,Hn,ws]);if(n.j!=15)var Cs=n(40093);const oo={unstyled:0,"header-one":1,"header-two":2,"header-three":3,"ordered-list-item":4,"unordered-list-item":5,atomic:6},Ms=(0,xn.W)("DraftBlockType",oo),Ns={left:0,center:1,right:2,justify:3},Vn=(0,xn.W)("DraftAlignment",Ns),ro={LINK:0,IMAGE:1},Is=(0,xn.W)("DraftEntityMapType",ro),io={MUTABLE:0,IMMUTABLE:1,SEGMENTED:2},is=(0,xn.W)("DraftEntityMapMutability",io),js={_blank:0,_self:1},Es=(0,xn.W)("DraftLinkTargetOption",js),ao=a=>{const t={};return Object.keys(a).forEach(o=>{const{type:m,mutability:U,data:de}=a[o],Le=[Is.pack(m),is.pack(U)],Ee=[];m==="LINK"?(Le.push(Es.pack(de.targetOption)),Ee.push(de.url||"")):m==="IMAGE"&&(Le.push((0,jt.c5)(de.width),Vn.pack(de.alignment)),Ee.push(de.src||"",de.alt||"")),t["e/"+o]=[Le.join(zt.xi),...Ee]}),t},lo=a=>{const t={};for(const o of Object.keys(a)){if(!o.startsWith("e/"))continue;const m=o.split("e/")[1],[U,...de]=a[o],[Le,Ee,Ue,Ze]=U.split(zt.xi),Be=Is.parse(Le),Xe=is.parse(Ee);t[m]=Be==="LINK"?{type:Be,mutability:Xe,data:{url:de[0],targetOption:Es.parse(Ue)}}:{type:Be,mutability:Xe,data:{src:de[0],alt:de[1],width:(0,jt._3)(Ue),alignment:Vn.parse(Ze)}}}return t},ks=a=>{const t={};return Object.keys(a).forEach(o=>{const{text:m,type:U,depth:de,inlineStyleRanges:Le,entityRanges:Ee,data:{textAlign:Ue,textIndent:Ze,paraSpacing:Be}}=a[o],Xe=[Ms.packDef(U,"unstyled"),(0,jt.c5)(de),Ue?Vn.pack(Ue):"",Ze!==void 0?(0,jt.c5)(Ze):"",Be!==void 0?(0,Rt.ZI)(Be):""];t["b/"+o]=[Xe.join(zt.xi),m,Le.map(we=>{let{offset:Se,length:ze,style:$e}=we;return ln(Se,ze,$e)}),Ee.map(we=>{let{offset:Se,length:ze,key:$e}=we;return co(Se,ze,$e)})]}),t},co=(a,t,o)=>""+(0,jt.c5)(a)+zt.xi+(0,jt.c5)(t)+zt.xi+(0,jt.c5)(o),uo=a=>{const t=a.indexOf(zt.xi),o=a.indexOf(zt.xi,t+1);return[(0,jt._3)(a.slice(0,t)),(0,jt._3)(a.slice(t+1,o)),(0,jt._3)(a.slice(o+1))]},ln=(a,t,o)=>""+(0,jt.c5)(a)+zt.xi+(0,jt.c5)(t)+zt.xi+o,po=a=>{const t=a.indexOf(zt.xi),o=a.indexOf(zt.xi,t+1);return[(0,jt._3)(a.slice(0,t)),(0,jt._3)(a.slice(t+1,o)),a.slice(o+1)]},_t=a=>{const t={};for(const o of Object.keys(a)){if(!o.startsWith("b/"))continue;const m=o.split("b/")[1],[U,de,Le,Ee]=a[o],[Ue,Ze,Be,Xe,we]=U.split(zt.xi),Se={};Be!==""&&(Se.textAlign=Vn.parse(Be)),Xe!==""&&(Se.textIndent=(0,jt._3)(Xe)),we!==""&&we!==void 0&&(Se.paraSpacing=(0,Rt.bp)(we)),t[m]={text:de,type:Ms.parse(Ue),depth:(0,jt._3)(Ze),inlineStyleRanges:Le.map(ze=>{const[$e,pt,Tt]=po(ze);return{offset:$e,length:pt,style:Tt}}),entityRanges:Ee.map(ze=>{const[$e,pt,Tt]=uo(ze);return{offset:$e,length:pt,key:Tt}}),data:Se}}return t},Ts=a=>{let{message:t}=a;const{blocks:o={},entityMap:m={}}=t;return{...ks(o),...ao(m)}},Zn=a=>({message:{blocks:_t(a),entityMap:lo(a)}}),as=a=>({T:Mn.pack(a.type),IC:[(0,jt.c5)(a.index),(0,jt.vH)(a.ctime)].join(zt.xi)}),ls=a=>{const[t,o]=a.IC.split(zt.xi);return{type:Mn.parse(a.T),index:(0,jt._3)(t),ctime:(0,jt.TT)(o)}},Ls=a=>({...as(a),R:a.refKey}),ho=a=>({...ls(a),refKey:a.R}),As=a=>({...as(a),...Ts(a),xy:(0,Rt.x3)(a.x,a.y),wh:(0,Rt.x3)(a.w,a.h),z:(0,Rt.ZI)(a.z),userInfo:a.userInfo,userId:(0,Rt.ZI)(a.userId),mtime:(0,jt.vH)(a.mtime),isCompleted:(0,Cs.rK)(a.isCompleted),canvasVec2:a.canvasVec2?{x:(0,Rt.ZI)(a.canvasVec2.x),y:(0,Rt.ZI)(a.canvasVec2.y)}:a.canvasVec2,canvasCid:a.canvasCid,threadType:a.threadType}),Os=a=>{const[t,o]=(0,Rt.fm)(a.xy),[m,U]=(0,Rt.fm)(a.wh),de=a.canvasVec2?(0,Rt.bp)(a.canvasVec2.x):void 0,Le=a.canvasVec2?(0,Rt.bp)(a.canvasVec2.y):void 0,Ee=(0,Rt.bp)(a.z);return{...ls(a),...Zn(a),x:t,y:o,w:m,h:U,z:Ee,mtime:(0,jt.TT)(a.mtime),userInfo:a.userInfo,userId:(0,Rt.bp)(a.userId),isCompleted:(0,Cs.Vf)(a.isCompleted),canvasCid:a.canvasCid,threadType:a.threadType,canvasVec2:de&&Le?{x:de,y:Le}:void 0}},Kn=a=>({...as(a),...Ts(a),mtime:(0,jt.vH)(a.mtime),userInfo:a.userInfo}),Ps=a=>({...ls(a),...Zn(a),mtime:(0,jt.TT)(a.mtime),userInfo:a.userInfo}),mo=a=>{try{switch(a.T){case void 0:return a;case _s:return ho(a);case Hn:return Os(a);case ws:return Ps(a);default:throw new Error("invalid attr: "+a.T+" -> "+Mn.parse(a.T))}}catch(t){throw(0,sn.p)("toP2CHA badDat",t,a),t}},Ds=a=>{try{switch(a.type){case void 0:return a;case"cCmtPack":return Ls(a);case"cCmtThread":return As(a);case"cCmtContent":return Kn(a);default:throw new Error("invalid attr: "+a.type)}}catch(t){throw(0,sn.p)("toP2CCA badDat",t,a),t}};if(n.j!=15)var go=n(43972);const Rs=(a,t)=>{const o=Ee=>{const Ue=a(Ee);return Ue===void 0?[]:Ue.sub.map(Ze=>a(Ze))},m=(0,go.MX)(Ee=>Ee.sub.map(Ue=>a(Ue))),U=(Ee,Ue)=>{const Ze=a(Ee);Ze!==void 0&&(Ue(Ze)||Ze.sub.length!==0&&m(Ze,Ue))};return{getHotItem:a,getSubHotItemList:o,walkHotItemSubtree:U,isTrashed:Ee=>(0,Qt.DM)(Ee,t.getFlatTree()),__devHotTree:function(Ee){Ee===void 0&&(Ee=Qt.gT);const Ue=new Map,Ze=Be=>{let Xe=Ue.get(Be);return Xe===void 0&&Ue.set(Be,Xe={}),Xe};return U(Ee,Be=>{Ze(Be.sup)[Be.key]=Be.hotAttr,Be.sub.length!==0&&(Ze(Be.sup)[Be.key+" SUB"]=Ze(Be.key))}),Ze(a(Ee).sup)}}};if(n.j!=15)var Bs=n(97529);if(n.j!=15)var cs=n(78235);var fo=n(62124),qt=n(25037);if(n.j!=15)var yo=n(89989);const xo=(a,t,o)=>{const m=we=>{if(we===void 0||we.length===0)return;const Se=new Set;for(const $e of we)Se.add($e.key),$e.type==="I"&&Se.add($e.keySup);const ze=(0,Qt.CF)([...Se].filter(Qt.xe),o.getFlatTree());a({type:yo.a,payload:ze})},U=we=>{const Se=[],ze=we(Se);return m(o.applyDiff(Se)),ze},de=we=>U(Se=>{const ze=[],$e=we(ze);for(const pt of ze)pt.type==="update"?Ze(pt.hotItem,Se):pt.type==="delete"&&Be(pt.key,Se);return $e}),Le=function(){const we=[],Se=[];let ze,$e=!1;for(var pt=arguments.length,Tt=new Array(pt),Mt=0;Mt<pt;Mt++)Tt[Mt]=arguments[Mt];for(const Zt of Tt){ze=Zt(we);const Ut=o.applyDiff(we);Ut!==void 0&&(Se.push(...Ut),$e?o.combineLastUndo():$e=!0)}return m(Se),ze},Ee=function(){for(var we=arguments.length,Se=new Array(we),ze=0;ze<we;ze++)Se[ze]=arguments[ze];const $e=Se.map(pt=>Tt=>{const Mt=[],Zt=pt(Mt);for(const Ut of Mt)Ut.type==="update"?Ze(Ut.hotItem,Tt):Ut.type==="delete"&&Be(Ut.key,Tt);return Zt});return Le(...$e)},Ue=(we,Se)=>{for(const ze of Object.keys(we)){const $e=we[ze],pt=Se[ze];$e!==pt&&(0,Bs.sw)($e)&&(0,Bs.sw)(pt)&&JSON.stringify($e)===JSON.stringify(pt)&&(we[ze]=pt)}},Ze=(we,Se)=>{const ze=(0,Qt.PV)(we.key,o.getFlatTree());if(ze===void 0)Se.push({type:qt.UF,key:we.key,keySup:we.sup}),Se.push({type:qt.qC,key:we.key,attrDiff:Ds(we.hotAttr)});else{ze.sup!==we.sup&&Se.push({type:qt.UF,key:we.key,keySup:we.sup});const $e=Ds(we.hotAttr);Ue($e,ze.attr);const pt=(0,fo.m)($e,ze.attr);pt!==void 0&&Se.push({type:qt.qC,key:we.key,attrDiff:pt})}},Be=(we,Se)=>{o.getFlatItem(we)&&Se.push({type:qt.UF,key:we,keySup:Qt.Ri})},Xe=(we,Se,ze)=>{o.getFlatItem(we)&&o.getFlatItem(Se)&&ze.push({type:qt.UF,key:we,keySup:Se})};return{_edit:U,_editAction:de,_editBatch:Le,_editActionBatch:Ee,onRemotePatchList:we=>{const Se=[];for(const ze of we){const $e=o.applyDiffRemote(ze.diffList,ze.clock);$e!==void 0&&Se.push(...$e)}m(Se)},updateHotItem:we=>U(Se=>{Ze(we,Se)}),updateHotItemBatch:we=>U(Se=>{for(const ze of we)Ze(ze,Se)}),deleteHotItem:we=>U(Se=>{Be(we,Se)}),deleteHotItemBatch:we=>U(Se=>{for(const ze of we)Be(ze,Se)}),moveHotItem:(we,Se)=>U(ze=>{Xe(we,Se,ze)}),moveHotItemBatch:we=>U(Se=>{for(const[ze,$e]of we)Xe(ze,$e,Se)}),editHotItemBatch:we=>U(Se=>{for(const ze of we)ze.type==="update"?Ze(ze.hotItem,Se):ze.type==="delete"&&Be(ze.key,Se)}),updateHotAttrMerge:(we,Se)=>U(ze=>{const $e=t(we);if($e===void 0)throw new Error("no item: "+we);Ze((0,cs.MK)($e,"hotAttr",{...$e.hotAttr,...Se}),ze)}),updateHotAttrKV:(we,Se,ze)=>U($e=>{const pt=t(we);if(pt===void 0)throw new Error("no item: "+we);Ze((0,cs.MK)(pt,"hotAttr",(0,cs.MK)(pt.hotAttr,Se,ze)),$e)}),canUndo:o.canUndo,canRedo:o.canRedo,combineMergeMark:o.combineMergeMark,combineMerge:o.combineMerge,undo:()=>{m(o.undo())},redo:()=>{m(o.redo())}}};var Gn=n(96737);const bo=a=>{const t=(0,ss.wz)(),o=t.subscribe,m=t.unsubscribe,U=Fs(a),de=Rs(U,a),Le=()=>vo(a.getFlatTree),Ee=xo(t.send,U,a),{_edit:Ue,_editAction:Ze,_editBatch:Be,_editActionBatch:Xe,...we}=Ee;return{subscribe:o,unsubscribe:m,...de,createRoCmtStore:Le,...we}},Fs=a=>t=>{const o=a.getFlatTree().get(t);if(o===void 0)return;const m=a.getOCI(o);return m.hotItem===void 0&&(m.hotItem={key:o.key,sup:o.sup,sub:o.sub,hotAttr:mo(o.attr)}),m.hotItem},vo=a=>{const t=(0,Gn.b$)(a(),(0,yn.aF)({})),o=()=>t.getFlatTree()!==a(),m=()=>t.sync(a()),U=Fs(t),de=Rs(U,t);return{hasUpdate:o,syncUpdate:m,...de}};var _o=n(83557),ds=n(8445);if(n.j!=15)var wo=n(80730);if(n.j!=15)var So=n(32182);var bn=n(51933),Yn=n(62732),On=n(55338);const us=a=>{const[t,o,m]=a,U=async()=>(0,Yn.BT)(On.r,t.tre),de=async function(Be){Be===void 0&&(Be=-1);const Xe=[];for(const{pbx:we,t10s:Se}of o){if(Se<Be)continue;const ze=(0,So.CE)(await On.r.gunzipU8AAsync(new Uint8Array(we)));for(const $e of(0,bn.Pb)(ze))Xe.push($e)}for(const{pch:we,t10s:Se}of m)Se<Be||Xe.push(we);return Xe},Le=async function(Be){Be===void 0&&(Be=-1);const Xe=[];for(const we of await de(Be))Xe.push((0,qt.iz)(we));return Xe},Ee=async function(Be){Be===void 0&&(Be=-1);const Xe=[];for(const we of await de(Be)){const{clock:Se,diffList:ze}=(0,qt.iz)(we);Xe.push([(0,yn._r)(Se).slice(5),ze,we])}return Xe};return{getParsedTre:U,getPchList:de,getPatchList:Le,getReadablePatchList:Ee,filterReadablePatchList:async function(Be,Xe){return Xe===void 0&&(Xe=-1),(await Ee(Xe)).filter(we=>{let[,,Se]=we;return Se.includes(Be)})},getMergedReadablePatchList:async function(Be,Xe){Be===void 0&&(Be=-1),Xe===void 0&&(Xe=16);const we=[];let Se={timePrefix:"",countDI:0,countDA:0,userIdSet:new Set};const ze=$e=>{Se.timePrefix!==$e&&(Se.timePrefix!==""&&we.push(Se.timePrefix.slice(5)+"..Z I*"+(Se.countDI||"-")+" A*"+(Se.countDA||"-")+" ["+[...Se.userIdSet].join(",")+"]"),Se={timePrefix:$e,countDI:0,countDA:0,userIdSet:new Set})};for(const{clock:[$e,pt],diffList:Tt}of await Le(Be)){const Mt=new Date($e).toISOString().slice(0,Xe);ze(Mt),Se.userIdSet.add(pt);for(const{type:Zt}of Tt)Zt===qt.UF?Se.countDI++:Se.countDA++}return ze(""),we},flpak:a}},ps=a=>Math.floor(a/10/1e3),hs=a=>{const[t]=(0,qt.cx)(a);return ps(t)},Co=a=>{let[t,o,m]=a;return m.length!==0?m[m.length-1].t10s:o.length!==0?o[o.length-1].t10s:t.t10s};if(n.j!=15)var ms=n(8113);const gn=(a,t,o)=>{let m=!1,U=0,de=0;const Le=new Map;let Ee=[],Ue,Ze,Be,Xe;const we=Ve=>{let[st,,et]=Ve;if(st!==a)return!1;const rt=(0,bn.vZ)(et);for(const ht of rt)Ee.push([ht,hs(ht),!1]);return Be!==void 0&&Be(rt.map(ht=>(0,qt.iz)(ht))),!0},Se=async(Ve,st)=>{if(Ze!==void 0)throw new Error("no re-init flatStore");Ue=Ve,Xe=st;const et=await Xe(a);{const Lt="INSP-INIT-FLPAK";location.hash.includes(Lt)&&Object.assign(globalThis,{[Lt+"/"+a]:{...us(et),__flpakKey:a,__name:t}})}U=Co(et);const rt=(0,Gn.OR)(),ht=await(0,Yn.TN)(On.r,et,(Lt,Fe)=>(0,bn.qG)(Lt,Fe,rt.mutateTFAAFNB));let Bt=Qt.xL;{const Lt="BYPASS-FLPAK";location.hash.includes(Lt)&&(Bt=Fe=>console.warn("["+Lt+"|vFT]",Fe))}for(const[Lt,Fe,ct]of Ee)!ct&&U>=Fe||(0,bn.qG)(ht,Lt,rt.mutateTFAAFNB);Ze=(0,Gn.b$)(ht,Ve,(Lt,Fe,ct)=>{if(m&&console.log("flat|onPatch",{diffList:Lt,clock:Fe,isLocal:ct}),Ee.push([(0,qt.AO)({diffList:Lt,clock:Fe}),ps(Fe[0]),ct]),ct)return;const[Gt,en,Pn,fn]=Fe;de=Math.max(de,Gt);const cn=(0,yn.au)(en,Pn);if(Ue.selfCCK===cn)throw new Error("unexpected selfCck: "+cn);const Dn=Le.get(cn)||-1;Dn>fn&&console.warn("bad editId for cck: "+cn+", last: "+Dn+", new: "+fn),Le.set(cn,fn)},(Lt,Fe)=>{console.warn("flat|requestResync",{error:Lt,message:Fe})}),Be=Lt=>{for(const Fe of Lt)Ze.applyDiffRemote(Fe.diffList,Fe.clock)};const Wt=rt.getFixDiffList(ht);Wt.length&&(Ze.applyDiff(Wt),Ze.resetUndo()),o===!0&&Bt(ht)},ze=Ve=>{Be=Ve},$e=()=>Ue,pt=()=>Ze,Tt=async function(Ve){if(Ve===void 0&&(Ve=""),o===!0)try{if(!Ze||!U||!Ut())return;const st=Ze.getFlatTree(),[et,rt]=await(0,Yn.Vz)(On.r,st);await(0,ms.hp)("//FSS/"+t+"/"+a,new Blob([rt],{type:"application/octet-stream"}),{message:Ve,treRawSize:et,treSize:rt.byteLength})}catch(st){console.warn("saveSOS",Ve,st)}},Mt=async()=>{if(o===!0)try{const Ve=await(0,ms.Ey)("//FSS/"+t+"/"+a);if(Ve.length){console.warn("[loadSOS] found "+Ve.length+" record");const{data:st,extra:et}=Ve[0];console.warn("[loadSOS] load record from "+new Date(et.time).toISOString());const rt=await(0,wo.WL)(st),ht=await(0,Yn.BT)(On.r,rt);return console.warn("[loadSOS] record tree: "+ht.slowSize()),{tree:ht,...et}}}catch(Ve){console.warn("loadSOS",Ve)}},Zt=async()=>{if(o===!0)try{return await(0,ms.EP)("//FSS/"+t+"/"+a)}catch(Ve){console.warn("freeSOS",Ve)}},Ut=()=>{if(o!==!0)return!1;for(const[,,Ve]of Ee)if(Ve)return!0;return!1};return{flpakKey:a,name:t,__setIsDev:Ve=>{m=Ve},onRemotePayloadSave:we,bind:Se,useExtORPL:ze,getClockStore:$e,getFlatStore:pt,saveSOS:Tt,loadSOS:Mt,freeSOS:Zt,hasPatch:Ut,preSettlePatch:()=>{if(o!==!0)return[];const Ve=[];for(const[st,,et]of Ee)et&&Ve.push(st);return Ve},postSettlePatch:Ve=>{o===!0&&(Ee=Ee.filter(st=>{let[et,rt,ht]=st;return!ht||!Ve.includes(et)}))}}},zo=(a,t,o)=>{let m,U;return{flpakKey:a,name:"[DUMMY]"+t,__setIsDev:de=>{},onRemotePayloadSave:de=>{let[Le,,Ee]=de;return!1},bind:async(de,Le)=>{if(U!==void 0)throw new Error("no re-init flatStore");m=de,U=(0,Gn.b$)((0,Qt.Id)(),de)},useExtORPL:de=>{},getClockStore:()=>m,getFlatStore:()=>U,saveSOS:async de=>{},loadSOS:async()=>{},freeSOS:async()=>0,hasPatch:()=>!1,preSettlePatch:()=>[],postSettlePatch:de=>{}}};if(n.j!=15)var Mo=n(45246);const zs=n.j!=15?Rt.x3:null,No=n.j!=15?Rt.fm:null,Us=a=>{const t=new Map;let o=!1,m=!1,U,de,Le=()=>"";const Ee=()=>{t.clear(),Be()};let Ue=0;const Ze=it=>{const Ve={socketId:it,index:Ue++,lastCurAt:0,cur:void 0,lastStatAt:0,stat:void 0};return t.set(it,Ve),o=!0,Ve},Be=(0,p.Ds)(async()=>{if(await(0,M.Y_)(2*1e3),U===void 0)return;const it=[];for(const{socketId:rt,lastStatAt:ht}of t.values())ht!==0&&it.push(rt);for(const[rt,ht,Bt]of await U([a,it])){const Wt=t.get(rt)||Ze(rt);Wt.lastStatAt=Date.now(),Wt.stat=[ht,Bt]}const[Ve,st,et]=Se;Ve&&de&&de([a,Ve,zs(st,et)])},it=>{console.warn("_tPS",it)}).trigger,Xe=it=>{let[Ve,st,et]=it;const[rt,ht]=No(et),Bt=[rt,ht,st],Wt=t.get(Ve)||Ze(Ve);Wt.lastCurAt=Date.now(),Wt.cur=Bt,Wt.lastStatAt===0?Be():m=!0},we=it=>{let[Ve,st]=it;const et=t.has(st);Ve===0&&et&&(t.delete(st),o=!0)};let Se=["",NaN,NaN],ze=0;const $e=function(it){it===void 0&&(it=Se[0]);const Ve=Le();if(Ve==="")return!1;for(const{socketId:st,cur:et}of t.values())if(et&&et[2]===it&&st!==Ve)return!0;return!1},pt=function(it,Ve,st){Ve===void 0&&(Ve=Rt.Ni),st===void 0&&(st=Rt.Ni),!(Se[0]===it&&Se[1]===Ve&&Se[2]===st)&&(Se[0]!==it&&(ze=1),!(!ze&&(t.size<2||!$e(it)))&&(Se=[it,Ve,st],ze&&ze--,de&&de([a,it,zs(Ve,st)])))},Tt=async(it,Ve,st)=>{if(U!==void 0)throw new Error("no re-init fetchCurStat");U=it,de=Ve,Le=st},Mt=()=>{const it=Le(),Ve=[];if(it==="")return Ve;for(const{socketId:st,stat:et}of t.values()){if(et===void 0)continue;const[rt,ht]=et;it===st?Ve.unshift([st,rt,ht]):Ve.push([st,rt,ht])}return Ve},Zt=it=>{const Ve=Le(),st=[];if(Ve==="")return st;for(const{socketId:et,index:rt,cur:ht,stat:Bt}of t.values()){if(Ve===et||ht===void 0||Bt===void 0)continue;const[Wt,Lt,Fe]=ht;if(Fe!==it||Wt===Rt.Ni)continue;const[ct,Gt]=Bt;st.push([rt,Wt,Lt,ct,Gt])}return st},Ut=()=>o?(o=!1,!0):!1,Kt=()=>m?(m=!1,!0):!1;return{flpakKey:a,__curStatMap:t,onSocketConnect:Ee,onRemoteCur:Xe,onRemoteSocket:we,hasOtherUser:$e,tryPackCur:pt,bind:Tt,getRoomStat:Mt,getSocketStat:Mt,getCurStat:Zt,pollRoomChg:Ut,pollCurChg:Kt,pollChange:Kt}},Io=a=>{const t=()=>{},o=Be=>{let[Xe,we,Se]=Be},m=Be=>{let[Xe,we]=Be},U=Be=>!1,de=(Be,Xe,we)=>{},Le=async(Be,Xe,we)=>{},Ee=()=>[],Ue=Be=>[],Ze=()=>!1;return{flpakKey:a,onSocketConnect:t,onRemoteCur:o,onRemoteSocket:m,hasOtherUser:U,tryPackCur:de,bind:Le,getRoomStat:Ee,getSocketStat:Ee,getCurStat:Ue,pollRoomChg:Ze,pollCurChg:Ze,pollChange:Ze}},Ws=()=>{};let Hs=!1;const jo=a=>{Hs=a},Eo="dat",ko="cmt",To="mkt:dat",Lo="sclib:dat",Ao=async a=>{let{flpakKey:t,userId:o,uTag:m,token:U,passwd:de,isDummyCmt:Le=!1,isAllowDat:Ee=!1,isAllowCmt:Ue=!1,isAllowCur:Ze=!1,afterStoreCreate:Be=Ws,__fetchFlpakAsync:Xe=ds.TP,onTransferError:we=Ws}=a;const Se=gn(t,Eo,Ee),ze=(Le?zo:gn)((0,Mo.J6)(t),ko,Ue),$e=(Ze?Us:Io)(t);await Be({fssDat:Se});const pt=async(Fe,ct)=>{await Se.saveSOS("OTE|"+Fe+"|"+ct),await we(Fe,ct)},Tt=(0,St.LZ)({flpakKey:t,needDat:!!Ee,needCmt:!!Ue,needCur:!!Ze}),Mt=!o||!Tt?eo():no({query:{uId:String(o),uTag:m,rKey:Tt},usePolling:Hs,lossyListenerMap:{[St.NX]:Fe=>{const{payload:ct}=Fe;$e.onRemoteCur(ct)}},queueListenerMap:{[St.VU]:Fe=>{const{error:ct}=Fe;console.log("flat-ws drop-client",ct),pt("4XX",ct)},[St.Ei]:Fe=>{const{error:ct}=Fe;console.log("flat-ws error",ct),pt("5XX",ct)},[St.zS]:()=>{console.log("flat-ws (re)connected"),$e.onSocketConnect()},[St.sP]:Fe=>{const{payload:ct}=Fe;Se.onRemotePayloadSave(ct)||ze.onRemotePayloadSave(ct)||console.warn("drop save payload:",ct)},[St.$7]:Fe=>{const{payload:ct}=Fe;console.log("flat-ws room cursor:",ct),$e.onRemoteSocket(ct)}}});await Mt.getReadyPromise();const Zt=async(Fe,ct,Gt)=>{try{return await Xe(Fe,{token:U,passwd:de,skipTTre:String(ct||""),skipTPbxList:(Gt||[]).join("")})}catch(en){const Pn=gs(en);throw $n(en)!=="Fch"&&(0,sn.p)("fFS "+$n(en),en),await pt(Pn,en),en}};await Promise.all([Se.bind((0,yn.aF)({userId:o,mtimeOffset:Mt.getOffsetMsec()}),Zt).catch(Fe=>{throw(0,sn.p)("bindDat",Fe),Fe}),ze.bind((0,yn.aF)({userId:o,mtimeOffset:Mt.getOffsetMsec()}),Zt).catch(Fe=>{throw(0,sn.p)("bindCmt",Fe),Fe}),$e.bind(async Fe=>{try{if(Mt.getIsConnected())return await Mt.emitAsync(St.Am,Fe)}catch(ct){await(0,M.Y_)(42*1e3)}return[]},Fe=>Mt.getIsConnected()&&Mt.emitLossy(St.pL,Fe),Mt.getSocketId).catch(Fe=>{throw(0,sn.p)("bindCur",Fe),Fe})]);const Ut=new Error("[tracked-error]"),Kt=async Fe=>{if(!Fe.hasPatch())return;const ct=Fe.preSettlePatch(),Gt=(0,bn.ok)((0,bn.oG)(ct));for(let en=0,Pn=Gt.length;en<Pn;en++){const fn=Gt[en];try{await Mt.emitAsync(St.s5,[Fe.flpakKey,fn.length,(0,bn.iM)(fn)])}catch(cn){const Dn=gs(cn);throw Dn==="5XX"&&(0,sn.p)("saveFss "+$n(cn),cn,Fe.name,Fe.flpakKey,en+1+"/"+Pn,fn),await pt(Dn,cn),Ut}}Fe.postSettlePatch(ct)},it=(0,p.Ds)(async()=>(0,p.g7)(async()=>{await Kt(Se),await Kt(ze),await Se.freeSOS()},5*60*1e3,"lFFss.lA"),Fe=>{if(Fe===Ut)return;const ct=gs(Fe);(0,sn.p)("lFFss "+$n(Fe),Fe),Promise.resolve(pt(ct,Fe)).catch(Gt=>{(0,sn.p)("lFFss "+ct+" Err",Gt)})}),Ve=(0,p.Ds)(async()=>{it.trigger(),await it.getRunningPromise();for(let Fe=0;Fe++<16;)!$e.hasOtherUser()&&await(0,M.Y_)(1e3)});setInterval(Ve.trigger,2*1e3),Ze&&setInterval(()=>$e.onSocketConnect(),20*60*1e3);const st=Se.getFlatStore(),et=(0,Cn.uq)(Se.getFlatStore());Se.useExtORPL(et.onRemotePatchList);const rt=bo(ze.getFlatStore());ze.useExtORPL(rt.onRemotePatchList);const ht=()=>Se.hasPatch()||ze.hasPatch(),Bt=(0,p.B1)(async()=>(0,p.JN)(async()=>{let Fe=0;for(;ht();)await(0,M.Y_)(Math.min(Fe,5)*1e3),it.trigger(),await it.getRunningPromise(),Fe++})),Wt=()=>globalThis.MB.getSelectionItems()[0].key,Lt=(0,p.J9)($e.tryPackCur,125);return{fssDat:Se,fssCmt:ze,cssCur:$e,flatSocket:Mt,flatStore:st,sdkStore:et,cmtStore:rt,sendCur:Lt,hasSave:ht,saveAsync:Bt,theTree:function(Fe){return Fe===void 0&&(Fe=Qt.gT),console.log((0,Qt.Wr)(st.getFlatTree(),Fe))},hotTree:function(Fe){return Fe===void 0&&(Fe=Qt.gT),console.log(et.__devHotTree(Fe))},slctTree:function(Fe){return Fe===void 0&&(Fe=Wt()),console.log(et.__devHotTree(Fe))},upTree:function(Fe,ct){return Fe===void 0&&(Fe=Wt()),ct===void 0&&(ct=Qt.gT),console.log(et.findUpHotItemList(Fe,ct))},newFFT:async function(Fe,ct,Gt){return Gt===void 0&&(Gt=ct.name+"-\u4FEE\u590D\u6570\u636E"),(0,_o.Nc)(Fe,ct.team_cid,{...ct,name:Gt})},cmtTree:function(Fe){return Fe===void 0&&(Fe=Qt.gT),console.log(rt.__devHotTree(Fe))}}},gs=a=>{const t=a&&a.status;return t>=400&&t<500?"4XX":String(a).toLowerCase().includes("timeout")?"Tot":"5XX"},$n=a=>{const t=a&&a.status,o=[];t>=400&&o.push(String(t));const m=String(a).toLowerCase();return m.includes("timeout")&&o.push("Tot"),m.includes("fetch")&&o.push("Fch"),o.join("")||"Err"},Vs=async a=>{let{flpakKey:t}=a;const o=gn(t,To,!1),m=async(de,Le,Ee)=>(0,ds.TP)(de,{skipTTre:String(Le||""),skipTPbxList:(Ee||[]).join("")});return await o.bind((0,yn.aF)({}),m),{sdkStore:(0,Cn.uq)(o.getFlatStore())}},fs=async a=>{let{flpakKey:t}=a;const o=gn(t,Lo,!1),m=async(de,Le,Ee)=>(0,ds.O0)(de,{skipTTre:String(Le||""),skipTPbxList:(Ee||[]).join("")});return await o.bind((0,yn.aF)({}),m),{sdkStore:(0,Cn.uq)(o.getFlatStore())}}},48986:(Ce,ae,n)=>{"use strict";n.d(ae,{eB:()=>Re,Ay:()=>je});var s=n(38502),p=n(69623),M=n(25582),d=n.n(M),D=n(27992),Q=n(28322),z=n.n(Q),R=n(89775),q=n.n(R),N=n(63986),F=n.n(N),ie=n(37862),B=n.n(ie),pe=n(68677),V=n(69368),G=n(69173),I=n.n(G),v=n(74937),S=n.n(v);const g=9;function f(J){let{$opener:Y,$menuBase:me,menuBaseStyle:Ne={},inflexible:ke=!1,shouldSetMaxHeight:Ge=!1,$menuContainer:Me,$fontTip:Ie}=J;if(!Y||!me)return;const Je=me.querySelector("*"),yt=((0,V.$)("li[role=option].is-active",Je)||(0,V.$)("li[role=option]",Je)||(0,V.$)("li[role=empty-msg]",Je)).getBoundingClientRect(),xt=Je.getBoundingClientRect(),bt={styleFor$menuBase:{},styleFor$menu:{},styleFor$menuContainer:{},styleFor$fontTip:{}},wt=tn=>Object.assign(bt.styleFor$menuBase,tn),r=tn=>Object.assign(bt.styleFor$menu,tn),ue=tn=>Object.assign(bt.styleFor$menuContainer,tn),ve=tn=>Object.assign(bt.styleFor$fontTip,tn),{offsetHeight:Te}=Je,He=Ne.width||Y.offsetWidth,qe=Ne.height||Y.offsetHeight,dt=Y.getBoundingClientRect(),{top:It,bottom:Ft,left:Vt}=Object.assign({top:dt.top,right:dt.right,bottom:dt.bottom,left:dt.left},Ne);wt({top:It+"px",left:Vt+"px",width:He+"px",height:qe+"px"});const{innerHeight:$t}=window,Rn=10,un=$t-10,Nn=It+qe;let pn=0,In=0;const mn=(yt.top-xt.top)/.8;k(xt,yt)?pn=-Math.min(mn,It):(In=yt.bottom/.8-xt.bottom/.8,pn=-mn+In);let jn=0;return Ie&&(jn=Ie.getBoundingClientRect().height),Nn+Te+g+pn+jn<$t?(bt.isDownward=!0,k(xt,yt)?(ue({top:pn+"px"}),Ie&&ve({top:pn+xt.height/.8+"px",width:xt.width/.8+"px"})):(ue({top:pn+"px"}),Me.scrollTop=In,Ie&&ve({top:pn+xt.height/.8+"px",width:xt.width/.8+"px"})),Ge&&Ft+Te>un&&r({maxHeight:un-Ft+"px"})):(bt.isDownward=!1,Ge&&It-Te<Rn&&r({maxHeight:It-Rn+"px"})),Object.assign(me.style,bt.styleFor$menuBase),Object.assign(Je.style,bt.styleFor$menu),Object.assign(Me.style,bt.styleFor$menuContainer),Ie&&Object.assign(Ie.style,bt.styleFor$fontTip),bt}function h(J,Y){return S()(J)||I()(J)||(0,s.isValidElement)(J)?J:J[Y||"label"]?J[Y||"label"]:void 0}function b(J){return S()(J)||I()(J)?String(J):J.value||J.label?String(J.value||J.label):void 0}function C(J){return S()(J)||I()(J)?String(J):J.ItemIcon?String(J.ItemIcon):void 0}function L(J){return S()(J)||I()(J)?String(J):J.shortcutKey?String(J.shortcutKey):void 0}function Z(J,Y){return!!Y&&b(J)===String(Y)}const u='<svg width="10" height="10" ><path d="M5 5.255l1.87-2.043a.623.623 0 0 1 .936 0 .77.77 0 0 1 0 1.022L5.468 6.788a.623.623 0 0 1-.936 0L2.194 4.234a.77.77 0 0 1 0-1.022.623.623 0 0 1 .935 0L5 5.255z" /></svg>';function k(J,Y){return Y.top/.8>=J.top/.8&&Y.bottom/.8<=J.bottom/.8}var T=n(67787);const X=T.Ay.label.withConfig({displayName:"styles__StyledSelect",componentId:"sc-tgxfzg-0"})(["position:relative;display:inline-flex;align-items:center;max-width:100%;min-width:3em;height:28px;font-size:12px;color:#5b6b73;cursor:pointer;button{display:block;height:100%;color:#1F292E;text-align:start;cursor:inherit;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;padding-left:8px;line-height:26px;}.caret{padding:0 11px;color:#7D8694;height:100%;display:inline-flex;align-items:center;svg{width:10px;height:10px;fill:currentColor;transition:transform 0.2s ease-out;}}&{padding-left:5px;border:1px solid transparent;border-radius:2px;}&.is-open{border-color:transparent;.caret{margin-left:auto;visibility:visible;svg{transform:rotate(180deg);}}}&:not(.is-disabled):not(.readonly):hover{border:1px solid transparent;.caret{padding:0 11px;}}&.is-disabled{cursor:not-allowed;opacity:0.6;}&.readonly{cursor:default;}"]),y=T.Ay.div.withConfig({displayName:"styles__StyledSelectMenu",componentId:"sc-tgxfzg-1"})(["position:fixed;pointer-events:none;z-index:1100;.WorkspaceSelectMenu{position:absolute;padding:8px 0;display:block;max-width:20em;min-width:100%;min-height:30px;max-height:300px;overflow-x:hidden;overflow-y:auto;list-style:none;box-shadow:0 2px 8px 0 rgba(0,0,0,0.1);color:#fff;border-radius:2px;background-color:#1f292e;pointer-events:all;transition-property:transform,opacity;transform-origin:50% 0;margin:0;&::-webkit-scrollbar{display:block;width:6px;height:6px;}&::-webkit-scrollbar-thumb{background-color:rgba(255,255,255,0.25);border-radius:4px;&:hover{background-color:rgba(255,255,255,0.30);}}&::-webkit-scrollbar-track{background-color:rgba(#fff,0.5);}&.is-empty{width:fit-content;}&:not(.is-open){opacity:0;transform:scale(0.8);}&.is-downward{top:100%;bottom:initial;}&.is-upward{transform-origin:50% 100%;top:initial;bottom:100%;}&.is-open{opacity:1;pointer-events:initial;border-radius:4px;background-color:#333;width:160px;padding:8px 0px;}> .divider{border-bottom:1px solid rgba(255,255,255,.1);margin:5px;}.SelectOption{display:flex;align-items:center;height:24px;line-height:24px;cursor:pointer;font-size:12px;font-weight:400;& > .Ellipsis{padding:0 16px 0 32px;min-width:160px;}&.is-disabled{cursor:not-allowed;opacity:0.5;}&.is-active{color:#fff;mix-blend-mode:normal;position:relative;}.shortcutkey{color:#999;float:right;}.svg-icon3 svg{color:#f2f4f5;width:12px;height:12px;position:relative;top:2px;}&.is-active .svg-icon2 svg{width:8px;height:6px;position:absolute;left:12px;top:9px;}&:not(.empty-msg):not(.is-disabled):not(.is-active):hover{background-color:#666;color:#fff;}&.empty-msg{padding:0 0.5em;color:#8d9ea6;cursor:not-allowed;}}&.cant-select .SelectOption{cursor:default;}.SelectGroup{.divider{height:1px;margin:4px 16px;background:#7d8694;}& > .title{font-size:12px;padding:0 8px 0 16px;width:100%;height:30px;line-height:30px;color:rgba(255,255,255,0.7);span{display:block;}}& > ul{margin:0;padding:0;}}}.font-select-menu-tip{position:absolute;margin-top:-1px;padding:8px 16px;font-size:10px;box-shadow:0 2px 10px 0 rgba(39,54,78,0.08),4px 12px 40px 0 rgba(39,54,78,0.1);color:#fff;background-color:#1f292e;border-radius:0 0 2px 2px;pointer-events:auto;transition:opacity 0.2s ease-in;.font-link{color:#fff;margin-left:10px;text-decoration:underline;}&:not(.is-show){opacity:0;}&.is-show{opacity:1;color:rgba(255,255,255,1);}}"]);var A=n(51582),se=n(72214);function ee(J,Y,me){return(Y=ne(Y))in J?Object.defineProperty(J,Y,{value:me,enumerable:!0,configurable:!0,writable:!0}):J[Y]=me,J}function ne(J){var Y=te(J,"string");return typeof Y=="symbol"?Y:Y+""}function te(J,Y){if(typeof J!="object"||!J)return J;var me=J[Symbol.toPrimitive];if(me!==void 0){var Ne=me.call(J,Y||"default");if(typeof Ne!="object")return Ne;throw new TypeError("@@toPrimitive must return a primitive value.")}return(Y==="string"?String:Number)(J)}const fe="IBOT_SELECT_MENU_ROOT",De=document.getElementById(fe)||Object.assign(document.createElement("div"),{id:fe}),Ye=document.body;Ye.contains(De)||Ye.appendChild(De);class je extends s.PureComponent{constructor(){super(...arguments),ee(this,"state",{isOpen:!1,prevProps:this.props,value:this.props.value}),ee(this,"set$select",Y=>this.setState({$select:Y})),ee(this,"open",()=>this.setState({isOpen:!0})),ee(this,"close",()=>this.setState({isOpen:!1})),ee(this,"toggle",()=>{const Y=!this.state.isOpen;this.setState({isOpen:Y}),Y?this.props.onOpen():this.props.onClose()}),ee(this,"onResizeWindow",()=>this.state.isOpen&&this.close()),ee(this,"onChange",Y=>this.setState({value:Y},()=>{this.close(),this.props.onChange(Y,this.props.attr)})),ee(this,"onSelect",Y=>{let{currentTarget:me}=Y;const{value:Ne}=this.props,{canSelect:ke}=this;return this.onChange(ke?me.dataset.value:Ne)})}static getDerivedStateFromProps(Y,me){let{prevProps:Ne,value:ke}=me;return F()(Ne,Y)?null:{prevProps:Y,value:Y.value}}componentDidMount(){window.addEventListener("resize",this.onResizeWindow)}componentWillUnmount(){window.removeEventListener("resize",this.onResizeWindow)}get isDisabled(){const{isDisabled:Y,disabled:me}=this.props;return Y||me}get readOnly(){return this.props.readOnly}get canSelect(){const{isDisabled:Y,readOnly:me}=this;return!Y&&!me}get displayText(){const{optionList:Y,placeholder:me,optionLabelProp:Ne}=this.props,{value:ke}=this.state,Me=(Y.find(Ie=>q()(Ie)&&Ie.slice(0).some(Je=>Z(Je,ke)))||Y).find(Ie=>!q()(Ie)&&Z(Ie,ke));return Me?h(Me,Ne):me}render(){const{size:Y,unstyled:me,className:Ne,onMouseEnter:ke,onMouseLeave:Ge,arrowSvg:Me}=this.props,{isOpen:Ie,$select:Je,value:nt}=this.state,{isDisabled:yt,readOnly:xt,canSelect:bt}=this,wt=(0,V.Hn)(["WorkspaceSelect",Y,me&&"unstyled",Ne,Ie&&"is-open",yt&&"is-disabled",xt&&"readonly"]);return(0,se.jsxs)(X,{className:wt,role:"listbox",ref:this.set$select,children:[(0,se.jsx)("button",{onClick:this.toggle,disabled:yt,children:this.displayText}),typeof Me=="string"?(0,se.jsx)("span",{className:"caret",dangerouslySetInnerHTML:{__html:Me}}):(0,se.jsx)("span",{className:"caret",children:Me}),Ie&&(0,se.jsx)(Re,{isOpen:Ie,...this.props,value:nt,$select:Je,canSelect:bt,onChange:this.onSelect,onMouseEnter:ke,onMouseLeave:Ge,onClose:this.close})]})}}ee(je,"propTypes",{size:d().oneOf(["regular","small"]),theme:d().oneOf(["core","plain"]),menuTheme:d().oneOf(["core","plain","check"]),unstyled:d().bool,className:d().string,menuClassName:d().string,placeholder:d().string,optionList:d().arrayOf(d().oneOfType([d().node,d().shape({label:d().node,shortcutKey:d().node,tooltipWrapper:d().func,ItemIcon:d().node,value:d().any,isDisabled:d().bool}),d().arrayOf(d().oneOfType([d().node,d().shape({label:d().node,ItemIcon:d().node,value:d().any,shortcutKey:d().node,tooltipWrapper:d().func,isDisabled:d().bool})]))])).isRequired,value:d().oneOfType([d().number,d().string]),isDisabled:d().bool,disabled:d().bool,readOnly:d().bool,onChange:d().func,onMouseEnter:d().func,onMouseLeave:d().func,onOpen:d().func,onClose:d().func,optionLabelProp:d().string,arrowSvg:d().oneOfType([d().string,d().node])}),ee(je,"defaultProps",{size:"regular",theme:"plain",menuTheme:"plain",className:"",menuClassName:"",placeholder:"Choose one\u2026",emptyMsg:"Nothing to display\u2026",optionList:[],isDisabled:!1,arrowSvg:u,onChange:()=>null,onMouseEnter:()=>null,onMouseLeave:()=>null,onOpen:()=>null,onClose:()=>null});class Re extends s.PureComponent{constructor(){super(...arguments),ee(this,"state",{isDownward:!0}),ee(this,"portal",(0,V.ep)(De,"SelectMenuPortal")),ee(this,"menuBaseRef",(0,s.createRef)()),ee(this,"menuContainerRef",(0,s.createRef)()),ee(this,"position",Y=>{const{$select:me}=this.props,{menuBaseRef:{current:Ne},menuContainerRef:{current:ke}}=this;if(Y){const Me=z()(Y,"target");if(Me&&B()(Me)&&Me.matches(".WorkspaceSelectMenu"))return}const{isDownward:Ge}=f({$menuBase:Ne,$opener:me,shouldSetMaxHeight:!1,$menuContainer:ke});this.setState({isDownward:Ge,isTransform:!0})}),ee(this,"onChange",Y=>{const{onChange:me}=this.props,{isDownward:Ne}=this.state,ke=Y.currentTarget,Ge=ke.closest(".WorkspaceSelectMenu");if(!ke||!Ge)return this.onlose();const{top:Me,bottom:Ie}=ke.getBoundingClientRect(),{top:Je,bottom:nt}=Ge.getBoundingClientRect();return Ne&&Me>=Je||!Ne&&Ie<=nt?ke.classList.contains("title")?void 0:me(Y):this.onClose()}),ee(this,"onClose",()=>{const{onClose:Y}=this.props;Y()}),ee(this,"onClickOutside",Y=>{let{target:me}=Y;const{$select:Ne}=this.props,ke=!De.contains(me),Ge=me.closest("label"),Me=Ge&&Ge.contains(Ne);ke&&!Me&&this.onClose()})}componentDidMount(){const{menuBaseRef:{current:Y}}=this;(0,V.sA)((0,V.$)(".WorkspaceSelectMenu",Y)),this.position()}componentWillUnmount(){this.portal&&this.portal.remove()}render(){return(0,p.createPortal)(this.menu,this.portal)}get menu(){const{isOpen:Y,isDisabled:me,menuTheme:Ne,menuClassName:ke,optionList:Ge,emptyMsg:Me,value:Ie,canSelect:Je,onMouseEnter:nt,onMouseLeave:yt}=this.props,{isDownward:xt,isTransform:bt}=this.state,wt=Ge.length===0,r=(0,V.Hn)(["WorkspaceSelectMenu",ke,bt&&"is-open",xt?"is-downward":"is-upward",me&&"is-disabled",wt&&"is-empty",Je?"can-select":"cant-select"]);return(0,se.jsxs)(y,{ref:this.menuBaseRef,children:[(0,se.jsx)("ul",{className:r,ref:this.menuContainerRef,children:wt?(0,se.jsx)("li",{className:"SelectOption empty-msg",role:"empty-msg",children:Me}):Ge.map((ue,ve)=>q()(ue)?(0,se.jsx)(mt,{menuTheme:Ne,optionList:ue,value:Ie,onChange:this.onChange,onMouseEnter:nt,onMouseLeave:yt},ve):(0,se.jsx)(Pe,{menuTheme:Ne,isActive:Z(ue,Ie),option:ue,isDisabled:ue.isDisabled,onChange:this.onChange,onMouseEnter:nt,onMouseLeave:yt},ve))}),Y&&(0,se.jsx)(D.A,{target:document,onClick:this.onClickOutside})]})}}ee(Re,"propTypes",{...je.propTypes,isOpen:d().bool,canSelect:d().bool,onChange:d().func,onClose:d().func,$select:d().instanceOf(Element)}),ee(Re,"defaultProps",{isOpen:!1,isTransform:!1});function mt(J){let{value:Y,optionList:[me,...Ne],menuTheme:ke,onChange:Ge,onMouseEnter:Me,onMouseLeave:Ie}=J;return(0,se.jsxs)("li",{className:"SelectGroup",children:[me==="HIDDELINE"?null:me==="DIVIDER"?(0,se.jsx)("div",{className:"divider"}):(0,se.jsx)(pe.A,{className:"title",onClick:Ge,children:me}),(0,se.jsx)("ul",{children:Ne.map((Je,nt)=>(0,se.jsx)(Pe,{menuTheme:ke,option:Je,isActive:Z(Je,Y),isDisabled:Je.isDisabled,onChange:Ge,onMouseEnter:Me,onMouseLeave:Ie},nt))})]})}mt.propTypes={value:d().oneOfType([d().string,d().number]),optionList:d().array,onChange:d().func,menuTheme:d().string,onMouseEnter:d().func,onMouseLeave:d().func};function Pe(J){let{option:Y,isActive:me,isDisabled:Ne,menuTheme:ke,onChange:Ge,onMouseEnter:Me,onMouseLeave:Ie}=J;const Je=(0,V.Hn)(["SelectOption",me&&"is-active",Ne&&"is-disabled"]),nt=h(Y),yt=b(Y),xt=C(Y),bt=L(Y),{tooltipWrapper:wt}=Y;if(Y.type==="divider")return(0,se.jsx)("li",{className:"divider"});const r=(0,se.jsxs)("li",{role:"option","data-value":yt,className:Je,onClick:Ne?void 0:Ge,onMouseEnter:Me,onMouseLeave:Ie,children:[me&&(0,se.jsx)("span",{className:"svg-icon2",children:(0,se.jsx)(A.A,{name:"select_right"})}),(0,se.jsxs)(pe.A,{children:[(0,se.jsxs)("span",{className:"svg-icon3",children:[(0,se.jsx)(A.A,{name:xt})," "]})," ",nt,"  ",(0,se.jsxs)("span",{className:"shortcutkey",children:[bt," "]})]})]});return wt?wt(r):r}Pe.propTypes={isActive:d().bool,option:d().oneOfType([d().node,d().object]),isDisabled:d().bool,menuTheme:d().string,onChange:d().func,onMouseEnter:d().func,onMouseLeave:d().func}},49612:(Ce,ae,n)=>{"use strict";n.d(ae,{$I:()=>Q,Rj:()=>q,SR:()=>p,Tq:()=>D,UP:()=>R});var s=n(27660);let p=function(N){return N.AIAssistant="AIAssistant",N.Page="Page",N.Flow="flow",N.Mind="mind",N.Table="table",N.Chart="chart",N.AutoFill="autofill",N.Semantic="semantic",N.Component="Component",N.PageV9="PageV9",N.Chat="Chat",N}({}),M=function(N){return N.page="page",N.component="component",N.other="other",N.semantic="semantic ",N}({}),d=function(N){return N.hot="hot",N.other="other",N.semantic="semantic ",N}({});const D="GENERATE_AI_COMPONENT",Q=(0,s.R)(()=>[{label:I18N.ChatGPT.ai_prototype,title:I18N.ChatGPT.ai_prototype_title,type:p.PageV9,points:400,recommends:[I18N.ChatGPT.ai_prototype_label_1,I18N.ChatGPT.ai_prototype_label_2,I18N.ChatGPT.ai_prototype_label_3],aiType:"\u751F\u6210\u539F\u578B\u9875\u9762",source:"",menu:M.page,hotMenu:d.hot,icon:"chatGPT/ai-component-page",desc:I18N.ChatGPT.ai_prototype_desc,className:"ai-page",componentTitle:I18N.ChatGPT.ai_prototype_component_title},{label:D,title:I18N.ChatGPT.ai_component_title,type:p.Component,points:200,aiType:"\u751F\u6210AI\u7EC4\u4EF6",source:"",menu:M.component,hotMenu:d.hot,icon:"chatGPT/ai-component-component",desc:I18N.ChatGPT.ai_component_desc,className:"ai-component",componentTitle:I18N.ChatGPT.ai_component_component_title},{label:I18N.ArtBoard.flow,title:I18N.ChatGPT.ai_flow_title,type:p.Flow,points:200,recommends:[I18N.ChatGPT.ai_flow_label_1,I18N.ChatGPT.ai_flow_label_2,I18N.ChatGPT.ai_flow_label_3],aiType:"\u751F\u6210\u6D41\u7A0B\u56FE",source:"",menu:M.component,hotMenu:d.other,icon:"chatGPT/ai-component-flow",desc:I18N.ChatGPT.ai_flow_desc,className:"ai-flow",componentTitle:I18N.ChatGPT.ai_flow_component_title},{label:I18N.ArtBoard.mind,title:I18N.ChatGPT.ai_mind_title,type:p.Mind,points:200,recommends:[I18N.ChatGPT.ai_mind_label_1,I18N.ChatGPT.ai_mind_label_2,I18N.ChatGPT.ai_mind_label_3],aiType:"\u751F\u6210\u601D\u7EF4\u5BFC\u56FE",source:"",menu:M.component,hotMenu:d.other,icon:"chatGPT/ai-component-mind",desc:I18N.ChatGPT.ai_mind_desc,className:"ai-mind",componentTitle:I18N.ChatGPT.ai_mind_component_title},{label:I18N.w.table,title:I18N.ChatGPT.ai_table_title,type:p.Table,points:200,recommends:[I18N.ChatGPT.ai_table_label_1,I18N.ChatGPT.ai_table_label_2,I18N.ChatGPT.ai_table_label_3],aiType:"\u751F\u6210\u8868\u683C",source:"",menu:M.component,hotMenu:d.other,icon:"chatGPT/ai-component-table",desc:I18N.ChatGPT.ai_table_desc,className:"ai-table",componentTitle:I18N.ChatGPT.ai_table_component_title},{label:I18N.w.wChart,title:I18N.ChatGPT.ai_Chart_title,type:p.Chart,points:200,recommends:[I18N.ChatGPT.ai_wChart_label_1,I18N.ChatGPT.ai_wChart_label_2,I18N.ChatGPT.ai_wChart_label_3],aiType:"\u751F\u6210\u56FE\u8868",source:"",menu:M.component,hotMenu:d.other,icon:"chatGPT/ai-component-chart",desc:I18N.ChatGPT.ai_Chart_desc,className:"ai-chart",componentTitle:I18N.ChatGPT.ai_Chart_component_title},{label:I18N.ChatGPT.magic_fill,title:I18N.ChatGPT.ai_magicFill_title,type:p.AutoFill,points:200,recommends:[I18N.ChatGPT.ai_smart_fill_label_2,I18N.ChatGPT.ai_smart_fill_label_1,I18N.ChatGPT.ai_smart_fill_label_3],aiType:"\u667A\u80FD\u586B\u5145",source:"",menu:M.other,hotMenu:d.other,icon:"chatGPT/ai-component-autofill",desc:I18N.ChatGPT.ai_magicFill_desc,className:"ai-magic-fill"},{label:"\u8BED\u4E49\u5316",title:"AI \u8BED\u4E49\u5316",type:p.Semantic,points:200,recommends:["\u5E2E\u6211\u751F\u6210\u4E00\u4E2A\u7535\u5546\u7C7BAPP\uFF0C\u5E76\u4E14\u8F93\u5165\u4E00\u4EFDprd\u6587\u6863","`\u6211\u7231\u52A0\u73ED`\u3002\u8BF7\u5E2E\u6211\u628A\u4E0A\u9762\u8FD9\u6BB5\u8BDD\u8C03\u6574\u7684\u66F4\u52A0\u4E30\u5BCC\u751F\u52A8\u4E00\u70B9","\u5E2E\u6211\u751F\u6210\u4E00\u4EFD2022\u5E74\u56FD\u5BB6\u7ECF\u6D4E\u66F2\u7EBF\u56FE\u30012022\u5E74\u5404\u7701\u7ECF\u6D4E\u6536\u5165\u8868\u683C"],aiType:"MD\u8BED\u4E49\u5316",source:"AI\u8BED\u4E49\u5316\u9762\u677F",menu:M.semantic,hotMenu:d.semantic,icon:"chatGPT/ai-component-autofill",desc:I18N.ChatGPT.ai_magicFill_desc,className:"ai-magic-fill"}]),z=(0,s.R)(()=>[{title:I18N.ChatGPT.ai_prototype,items:Q().filter(F=>F.menu===M.page)},{title:I18N.ChatGPT.ai_advanced_components,items:Q().filter(F=>F.menu===M.component)},{title:I18N.ChatGPT.ai_magic_fill,items:Q().filter(F=>F.menu===M.other)}]),R=(0,s.R)(()=>[{title:I18N.ChatGPT.ai_hot_menu,items:Q().filter(F=>F.hotMenu===d.hot)},{title:I18N.ChatGPT.ai_other_menu,items:Q().filter(F=>F.hotMenu===d.other)}]),q=(0,s.R)(()=>Q().reduce((N,F)=>(N[F.type]=F,N),{}))},50159:(Ce,ae,n)=>{"use strict";n.d(ae,{A:()=>d,u:()=>M});var s=n(41946),p=n.n(s);const M=(D,Q)=>{if(!(D!=null&&D.cid))return-1;let z=0,R="",q=D;for(;q&&!q.root_project&&(z=z+1,R=q.parent_cid,!!R);)q=Q.get(R);return z};function d(D){return D&&Object.entries(D).reduce((Q,z)=>{let[R,q]=z;return Object.assign(Q,{[p()(R)]:q})},{})}},51090:(Ce,ae,n)=>{"use strict";n.d(ae,{Aw:()=>d,L9:()=>p,ZJ:()=>q,eP:()=>z,n9:()=>Q,nw:()=>R});var s=n(67787);const p=(0,s.AH)(["white-space:nowrap;overflow:hidden;text-overflow:ellipsis;"]),M=(0,s.AH)(['position:relative;pointer-events:none;&::after{content:"";position:absolute;top:0;left:0;width:100%;height:100%;cursor:not-allowed;pointer-events:auto;}']),d=(0,s.AH)(["position:relative;height:32px;padding-left:14px;padding-right:4px;display:flex;align-items:center;border:1px solid transparent;color:",";font-size:12px;cursor:pointer;.expander{width:12px;margin-left:-12px;color:",";}.editable-span,.editable-name{margin-right:14px;line-height:24px;border-radius:2px;&.is-editing{border-bottom-color:transparent;}}.actions{display:none;height:100%;padding-left:6px;.Dropdown > button{display:flex;padding:8px 10px 8px 0;}.action{margin-right:6px;font-size:12px;color:",";&:hover{color:",";}}&.is-active{display:flex;align-items:center;color:",";}}&:hover{.actions{display:flex;align-items:center;}}&:hover,&.hover{color:",";background:",";}&.active,&.is-active{color:",";background:",";}"],N=>N.theme.color_text_L2,N=>N.theme.color_text_disabled01,N=>N.theme.color_text_L2,N=>N.theme.color_text_L2,N=>N.theme.color_text_L1,N=>N.theme.color_text_L1,N=>N.theme.color_btn_secondary_hover,N=>N.theme.color_text_L1,N=>N.theme.color_btn_secondary_active),D=s.Ay.div.withConfig({displayName:"variables__StyledCustomTooltipInner",componentId:"sc-1k65wxr-0"})(["display:flex;align-items:center;height:22px;margin:-3px -7px;.tipsLeft{padding:0 8px;}.tipsRight{width:22px;line-height:22px;background-color:",";border-radius:0 2px 2px 0;color:#f2f4f5;}"],N=>N.theme.color_primary_brand01),Q=(0,s.AH)(["width:24px;height:24px;display:flex;justify-content:center;align-items:center;color:",";cursor:pointer;.fore{fill:",";}&:hover{color:",";.fore{fill:",";}}.svg-icon{width:24px;height:24px;}"],N=>N.theme.color_text_L2,N=>N.theme.color_text_L3,N=>N.theme.color_proto,N=>N.theme.color_proto),z=(0,s.AH)(["ul{.active,.select,.hover,li:hover,.rn-list-item:hover{& + li > .rn-list-item{border-top-left-radius:0;border-top-right-radius:0;}+ ul > li:first-child > .rn-list-item{border-top-left-radius:0;border-top-right-radius:0;}}.rn-list-item:has(+ ul > li.active:first-child,+ ul > li.select:first-child,+ ul > li.hover:first-child,+ ul > li:first-child:hover){border-bottom-left-radius:0;border-bottom-right-radius:0;}li{&:has(+ li.active,+ li.select,+ li.hover,+ li:hover){&.active,&.select,&.hover,&:hover{> .rn-list-item{border-bottom-left-radius:0;border-bottom-right-radius:0;}}}.rn-list-item{border-radius:6px;&.context-menu-select{border-radius:6px;}}}li.active,li.select,li.dummy-select,li:hover{&:has(> ul > li.dummy-select){> .rn-list-item{border-bottom-left-radius:0;border-bottom-right-radius:0;}}&:has(+ li.active,+ li.select,+li:hover){> .rn-list-item{border-bottom-left-radius:0;border-bottom-right-radius:0;}ul{li.dummy-select{&:last-child{> .rn-list-item{border-bottom-left-radius:0;border-bottom-right-radius:0;}}}}}ul{li.dummy-select{> .rn-list-item{border-top-left-radius:0;border-top-right-radius:0;}&:has(+ li.dummy-select){> .rn-list-item{border-radius:0;}ul{li.dummy-select{&:last-child{> .rn-list-item{border-radius:0;}}}}}&:last-child,&:first-child{&:has(> ul){> .rn-list-item{border-radius:0;}}}}}}li.active,li.select,li.dummy-select,li:hover{& + li{&.active,&.select,&.dummy-select,&:hover{> .rn-list-item{border-top-left-radius:0;border-top-right-radius:0;}}}}li{> .rn-list-item:hover{&:has(+ ul > li.active:first-child,+ ul > li.select:first-child,+ ul > li.hover:first-child,+ ul > li:first-child:hover){border-bottom-left-radius:0;border-bottom-right-radius:0;}& + ul > li.active:first-child,& + ul > li.select:first-child,& + ul > li.hover:first-child,& + ul > li:first-child:hover{> .rn-list-item{border-top-left-radius:0;border-top-right-radius:0;}}}}li:has(+ li:hover,+ li.select,+ li.active){ul > li:last-child{&.active,&.select,&:hover{> .rn-list-item{border-bottom-left-radius:0;border-bottom-right-radius:0;}}}}li:has(ul > li:last-child.active,ul > li:last-child.select,ul > li:last-child:hover){& + li:hover,& + li.select,& + li.active{> .rn-list-item{border-top-left-radius:0;border-top-right-radius:0;}}}}"]),R=(0,s.AH)(["ul{li{.rn-list-item{border-radius:6px;&.context-menu-select{border-radius:6px;}}}li.select,li.dummy-select,li:hover{&:has(> ul > li.dummy-select){> .rn-list-item{border-bottom-left-radius:0;border-bottom-right-radius:0;}}&:has(+ li.select,+li:hover){> .rn-list-item{border-bottom-left-radius:0;border-bottom-right-radius:0;}ul{li.dummy-select{&:last-child{> .rn-list-item{border-bottom-left-radius:0;border-bottom-right-radius:0;}}}}}ul{li.dummy-select{> .rn-list-item{border-top-left-radius:0;border-top-right-radius:0;}&:has(+ li.dummy-select){> .rn-list-item{border-radius:0;}ul{li.dummy-select{&:last-child{> .rn-list-item{border-radius:0;}}}}}&:last-child,&:first-child{&:has(> ul){> .rn-list-item{border-radius:0;}}}}}}li.select,li.dummy-select,li:hover{& + li{&.select,&.dummy-select,&:hover{> .rn-list-item{border-top-left-radius:0;border-top-right-radius:0;}}}}li{> .rn-list-item:hover{&:has(+ ul > li.select:first-child,+ ul > li.hover:first-child,+ ul > li:first-child:hover){border-bottom-left-radius:0;border-bottom-right-radius:0;}& + ul > li.select:first-child,& + ul > li.hover:first-child,& + ul > li:first-child:hover{> .rn-list-item{border-top-left-radius:0;border-top-right-radius:0;}}}}li:has(+ li:hover,+ li.select){ul > li:last-child{&.select,&:hover{> .rn-list-item{border-bottom-left-radius:0;border-bottom-right-radius:0;}}}}li:has(ul > li:last-child.select,ul > li:last-child:hover){& + li:hover,& + li.select{> .rn-list-item{border-top-left-radius:0;border-top-right-radius:0;}}}}"]),q=(0,s.AH)(["ul{padding:8px;border-radius:8px;border:1px solid ",";color:",";background:",";box-shadow:",";li.MenuItem{a{height:28px;border-radius:4px;background:",";color:",";svg:not(.pure-svg-icon) path{fill:",";}.right-arrow svg > path{fill:",";}.shortfont kbd{color:",";}}&:not(.disabled).active{a{background:",";}}&.disabled{a{color:",";svg path{fill:",";}.shortfont kbd{color:",";}}}}}"],N=>N.theme.color_bg_border_01,N=>N.theme.color_text_L1,N=>N.theme.color_bg_white,N=>N.theme.shadow_m,N=>N.theme.color_bg_white,N=>N.theme.color_text_L1,N=>N.theme.color_text_L1,N=>N.theme.color_text_L3,N=>N.theme.color_text_L3,N=>N.theme.color_btn_secondary_hover,N=>N.theme.color_text_disabled01,N=>N.theme.color_text_disabled01,N=>N.theme.color_text_disabled01)},53008:(Ce,ae,n)=>{"use strict";n.d(ae,{CV:()=>F,EL:()=>G,Mb:()=>g,Mj:()=>v,O8:()=>L,R0:()=>N,RF:()=>I,R_:()=>B,Sy:()=>S,Uh:()=>ie,a2:()=>pe,eH:()=>b,it:()=>C,jc:()=>Z,kv:()=>V,vt:()=>f,zM:()=>h});var s=n(81717),p=n(78401),M=n(79287),d=n.n(M),D=n(18183),Q=n(18833),z=n(74222),R=n(15515),q=n(51785);const N=u=>u?[{value:"public",label:I18N.imockSharing.share_anyone_view},{value:"restricted",label:I18N.imockSharing.org_members_only}]:[{value:"public",label:I18N.imockSharing.share_anyone_view}],F=u=>{let{accessToken:k,targetKey:T,pageKey:X,view_mode:y,selection:A,page_begin:se,canvas_begin:ee}=u;const ne=(fe,De)=>De?"&"+fe+"="+De:"";let te=""+location.origin+D.o$+"/"+k+"/sharing?view_mode="+(y||"read_only");return y==="read_only"?te=""+te+ne("screen",X)+ne("canvasId",T)+ne("selection",A):y==="device"?te=""+te+ne("screen",se!=null?se:X)+ne("canvasId",ee!=null?ee:T)+ne("selection",A):te=""+te+ne("screen",X)+ne("selection",A),te},ie=u=>u&&u.length>0?u[0]:"",B=(u,k,T,X)=>{const y=X?"  \u5BC6\u7801\uFF1A"+X:"";return u+" #"+(0,p.qk)(k)+"-"+(0,p.qk)(T||"\u5206\u4EAB")+y},pe=u=>""+(["v6.modao.cc"].includes(location.host)?"https://modao.cc":location.origin)+D.o$+"/"+u,V=u=>{const{project:k,action:T,linkName:X,isFromScreenList:y}=u;s.Y4.trackShareProjectAction({project_type:"\u539F\u578B V8",source:y?"\u9875\u9762\u5217\u8868\u83DC\u5355":(0,s.IQ)(),project_name:k.name,project_cid:k.cid,share_link_action:T,share_link_name:X})},G=u=>{if(!u)return!1;const{created_at:k}=u;return d()(k).isBetween(d()().subtract(3,"days"),d()())},I=u=>Object.entries(u).filter(T=>{let[X,y]=T;return!y.hotAttr.asFolder&&X!==z.$k}).map(T=>T[0]),v=(u,k,T)=>{if(u)return T.length;let X=0;return k==null||k.forEach(y=>{T.find(se=>se===y)&&(X+=1)}),X},S=(u,k)=>{if(k.screen_visible_switch){const{selectedSize:T,pageSize:X}=g(u,k);return T+"/"+X}else return I18N.imockSharing.all},g=(u,k)=>{const T=I(u.pageAttrMap),X=v(!k.screen_visible_switch,k.screen_visible_list,T);return{pageSize:T.length,selectedSize:X}},f=u=>{const k={},T=[],X=new Map;for(const[se,ee,ne]of u)if(ne.type==="rResBunch"){se!==z.$k&&T.push(se),k[se]={hotAttr:ne},X.get(se)||X.set(se,[]);const te=X.get(ee);Array.isArray(te)&&X.set(ee,[...te,se])}const y=se=>{let ee=[];for(const te of X.get(se))ee.push(y(te));ee=ee.sort((te,fe)=>te.data.zIndex-fe.data.zIndex);const{hotAttr:ne}=k[se];return{cid:se,data:{cid:se,...ne},children:ee}},A=y("B@main");return{pageAttrMap:k,pageKeyList:T,treeData:A}};function h(u,k,T){let X=I18N.imockSharing.share;return k&&(X=X+" "+(k.length+1)),{project_cid:u,view_access:"public",screen_visible_switch:!1,screen_visible_list:[],wechat:!1,highlight:!0,view_sticky:!0,comment_permission:"org_member",is_default_link:!1,password:"",device_model:"read_only",view_prd:!1,expire_type:"forever",sticky:!1,...T,link_name:X,type:"advanced"}}const b=async u=>{let{updateType:k,org:T,updateFn:X,updatedKV:y,isCustom:A}=u;const se=()=>{const ne=(T==null?void 0:T.plan)==="org_full"?"MaxOrgSize":"NormalOrgSize";window.SharingEventEmitter.emit("sharing:count",{whichModal:ne}),window.top&&window.top.postMessage(JSON.stringify({sharingMessage:"sharing:count",payload:{whichModal:ne}}),"*")},ee=()=>{if(!A&&k==="update"){const ne={sharingMessage:"sharing:notice",payload:{type:"settingSuccess"}};try{y!=null&&y.expire_type?MB.notice({text:I18N.imockSharing.sharing_hasRest,type:"success"}):MB.notice({text:I18N.imockSharing.setting_valid})}catch(te){window.top&&window.top.postMessage(JSON.stringify(ne),"*")}}};try{const ne=await X();if(ne)return ee(),ne}catch(ne){await(0,Q.m0)(ne,se)}},C=u=>{let{value:k,currentSharing:T,sharingList:X}=u,y=!1;for(const A of X)if(A.cid!==T.cid&&k===A.link_name){y=!0;break}return y},L=(u,k,T)=>{let X;if(k.type==="default"){const A=new URLSearchParams(location.search),se=A.get("view_mode")||(0,R.Yt)(u.cid+"_default_sharing_view_mode","read_only",R.qW.String),ee=A.get("selection"),ne=A.get("screen"),te=A.get("canvasId");X=F({accessToken:k.access_token,view_mode:se,page_begin:k.is_first_canvas_open?"":ne,canvas_begin:k.is_first_canvas_open?"":te,selection:ee,pageKey:k.is_first_canvas_open?"":T})}else k.screen_visible_switch?T&&k.screen_visible_list.includes(T)?X=F({accessToken:k.access_token,view_mode:k.device_model,pageKey:k.is_first_canvas_open?"":T}):X=F({accessToken:k.access_token,view_mode:k.device_model}):X=F({accessToken:k.access_token,view_mode:k.device_model,pageKey:k.is_first_canvas_open?"":T});return B(X,u==null?void 0:u.name,k.link_name||"",k.password)},Z=(u,k)=>k&&(k==null?void 0:k.otype)!=="personal"?q.tz.InitialOrg(k).limitationSdk.prototypeLimit.pLimitation.max_project_share_count:u?q.tz.InitialUser(u).limitationSdk.prototypeLimit.pLimitation.max_project_share_count:1},54190:(Ce,ae,n)=>{"use strict";n.d(ae,{A1:()=>Z,A9:()=>C,CH:()=>Je,Cp:()=>s.Cp,E8:()=>g,F7:()=>ke,G8:()=>Me,Gx:()=>B,Ip:()=>xt,Jm:()=>k,Kc:()=>R,OJ:()=>v,PK:()=>r,Qs:()=>J,Qy:()=>fe,SD:()=>Pe,Tf:()=>F,V7:()=>b,Wr:()=>h,XG:()=>me,Xw:()=>A,Yu:()=>N,bX:()=>G,cn:()=>q,dC:()=>wt,hY:()=>y,kZ:()=>ne,l9:()=>S,ob:()=>ee,qi:()=>pe,r3:()=>T,s_:()=>ie,sw:()=>yt,ty:()=>je,up:()=>nt,vS:()=>Ye,vs:()=>Ge,wR:()=>u,wZ:()=>bt,yV:()=>mt,yY:()=>Ne,yk:()=>Ie,yr:()=>I});var s=n(16335),p=n(19249),M=n(49903),d=n(18833);if(n.j!=15)var D=n(98033);if(n.j!=15)var Q=n(37253);const z=(ue,ve)=>{const Te=new Error("[NO SENTRY] "+ue);return Object.assign(Te,ve),Te},R=(ue,ve)=>(0,p.DE)("/api/upper/web_v1/design/readonly_initial?access_token="+ue+"&password="+ve),q=async(ue,ve)=>{const Te=ve==="inspect"?"read_only":ve,He="/api/flat/web_v1/preview/initial?access_token="+ue+"&view_mode="+Te,qe=await fetch(He,{credentials:"same-origin"}),dt=await qe.json();if(qe.status!==200)throw z("[fetchGetHead] failed with "+qe.status+": "+He,{status:qe.status,error_type:dt==null?void 0:dt.error_type});return dt},N=(ue,ve)=>(0,p.SN)("/api/upper/web_v1/basics/"+ue,{...ve}),F=async()=>{let ue=[];try{const ve=await(0,p.DE)("/api/library/v4/recent_keywords");ve!=null&&ve.keywords&&(ue=ve==null?void 0:ve.keywords)}catch(ve){(0,d.$r)()}return ue},ie=()=>(0,p.sM)("/api/library/v4/recent_keywords"),B=ue=>(0,p.Ds)("/api/library/v4/recent_keywords",{keyword:ue}),pe=async()=>{if((0,D.Z)())return V();{var ue;let ve;try{ve=await(0,p.DE)("/api/library/v3/project_upper/user_combo_groups")}catch(Te){return await(0,d.FY)(Te),{}}return{userComboGroupList:(ue=ve)==null?void 0:ue.user_combo_groups}}},V=async()=>{var ue;let ve;try{ve=await(0,p.DE)("/api/library/v3/project_upper/org_combo_groups?org_cid="+MB.user.solo_org.cid)}catch(Te){return await(0,d.FY)(Te),{}}return{userComboGroupList:(ue=ve)==null?void 0:ue.org_combo_groups}},G=async ue=>{var ve;let{orgCid:Te}=ue,He;try{He=await(0,p.DE)("/api/library/v3/project_upper/org_combo_groups?org_cid="+Te)}catch(qe){return await(0,d.FY)(qe),{}}return{orgComboGroupList:(ve=He)==null?void 0:ve.org_combo_groups}},I=async ue=>{const{icon_group:ve,market_template:Te}=await(0,s.Yk)(ue.cid),{source:He,title:qe}=ve||{},dt=await(0,p.DE)(He),It=M.I1[qe]||qe||"svg",{iconGroupData:Ft}=(0,M.u2)(dt,It);return{iconGroupData:Ft,marketTemplate:Te}},v=async()=>{const ue=MB.user.solo_org.cid;try{const{asset_groups:ve=[],assets:Te}=await(0,p.Yo)("/api/library/v6/asset_groups?org_cid="+ue);return{userAssetGroupList:ve,userAssets:Te}}catch(ve){return(0,d.$r)(),{userAssetGroupList:[],userAssets:[]}}},S=async function(ue){ue===void 0&&(ue="");const ve=ue||MB.currentOrg.cid;try{const{asset_groups:Te,assets:He}=await(0,p.Yo)("/api/library/v6/asset_groups?org_cid="+ve);return{orgAssetGroupList:Te,orgAssets:He}}catch(Te){return(0,d.$r)(),{orgAssetGroupList:[],orgAssets:[]}}},g=async ue=>{if((0,D.Z)())return f(ue);try{const{asset:ve,user_asset:Te}=await(0,p.B7)("/api/library/v3/asset_data/me/search_by_url",{image_url:ue});return{asset:ve,user_asset:Te}}catch(ve){await(0,d.FY)(ve)}},f=async ue=>{const ve=MB.user.solo_org.cid;try{const{asset:Te,flat_asset:He}=await(0,p.B7)("/api/library/v6/assets/search_by_url",{image_url:ue,org_cid:ve});return{asset:Te,user_asset:He}}catch(Te){await(0,d.FY)(Te)}},h=async(ue,ve)=>{try{const{asset:Te,flat_asset:He}=await(0,p.B7)("/api/library/v6/assets/search_by_url",{image_url:ue,org_cid:ve});return{asset:Te,org_asset:He}}catch(Te){await(0,d.FY)(Te)}},b=async ue=>{if((0,D.Z)())return L(ue);try{const{user_asset_group:ve}=await(0,p.uP)("/api/library/v4/users/asset_groups/"+ue.cid,{...ue});return{user_asset_group:ve}}catch(ve){await(0,d.FY)(ve)}},C=async(ue,ve)=>{const{name:Te,parentCid:He=null,position:qe}=ve,{asset_group:dt}=await(0,p.zi)("/api/library/v6/asset_groups",{org_cid:ue,name:Te,parent_cid:He,position:qe});return{asset_group:dt}},L=async ue=>{const{cid:ve,name:Te,parent_cid:He,position:qe}=ue;try{const{asset_group:dt}=await(0,p.uP)("/api/library/v6/asset_groups/"+ve,{name:Te,parent_cid:He,position:qe});return{user_asset_group:dt}}catch(dt){await(0,d.FY)(dt)}},Z=async ue=>{const{cid:ve,name:Te,parent_cid:He,position:qe}=ue;try{const{asset_group:dt}=await(0,p.uP)("/api/library/v6/asset_groups/"+ve,{name:Te,parent_cid:He,position:qe});return{org_asset_group:dt}}catch(dt){await(0,d.FY)(dt)}},u=async ue=>{if((0,D.Z)())return X(ue);try{return await(0,p.uP)("/api/library/v3/asset_data/me/assets/"+ue.asset_cid,{...ue})}catch(ve){await(0,d.FY)(ve)}},k=async ue=>(await(0,p.SN)("/api/library/v6/asset_groups/",{asset_groups:ue})).asset_groups,T=async(ue,ve)=>{const{name:Te,groupCid:He}=ve;return await(0,p.SN)("/api/library/v6/assets",{cids:ue,name:Te,group_cid:He})},X=async ue=>{try{return await(0,p.uP)("/api/library/v6/assets",{...ue})}catch(ve){await(0,d.FY)(ve)}},y=async ue=>{let{cids:ve,...Te}=ue;try{return await(0,p.uP)("/api/library/v6/assets",{cids:ve,...Te})}catch(He){await(0,d.FY)(He)}},A=async ue=>{let{assetCid:ve,name:Te,groupCid:He}=ue;if((0,D.Z)())return se({assetCid:ve,name:Te,groupCid:He});try{await(0,p.B7)("/api/library/v3/asset_data/me/assets",{cid,name:Te,group_cid:He})}catch(qe){await(0,d.FY)(qe)}},se=async ue=>{let{assetCid:ve,name:Te,groupCid:He}=ue;try{await(0,p.B7)("/api/library/v6/assets",{asset_cid:[ve],name:Te,group_cid:He})}catch(qe){await(0,d.FY)(qe)}},ee=async ue=>{let{assetCid:ve,name:Te,groupCid:He}=ue;try{const qe=await(0,p.B7)("/api/library/v6/assets",{asset_cid:[ve],name:Te,group_cid:He});return qe==null?void 0:qe.cid}catch(qe){await(0,d.FY)(qe)}},ne=async ue=>{let{org_cid:ve,name:Te,group_cid:He}=ue;if((0,D.Z)())return te({org_cid:ve,name:Te,group_cid:He});try{return(0,p.B7)("/api/library/v3/asset_data/org/asset_group_from_user",{user_asset_group_cid,org_cid:ve,org_asset_group_cid})}catch(qe){await(0,d.FY)(qe)}},te=async ue=>{let{org_cid:ve,name:Te,group_cid:He}=ue;try{return(0,p.B7)("/api/library/v6/asset_groups",{org_cid:ve,name:Te,parent_cid:null,group_cid:He,position:-99})}catch(qe){await(0,d.FY)(qe)}},fe=async ue=>{(0,D.Z)()?await De(ue):await(0,p.sM)("/api/library/v3/asset_data/me/assets/"+ue.cid)},De=async ue=>{await(0,Q.uz)("/api/library/v6/assets",{cids:[ue.cid]})},Ye=async ue=>{await(0,Q.uz)("/api/library/v6/assets",{cids:[ue.cid]})},je=async ue=>{(0,D.Z)()?await Re(ue):await(0,p.sM)("/api/library/v3/asset_data/me/asset_groups/"+ue)},Re=async ue=>{await(0,p.sM)("/api/library/v6/asset_groups/"+ue)},mt=async ue=>{await(0,p.sM)("/api/library/v6/asset_groups/"+ue)},Pe=ue=>(0,p.iv)("/preferences/update",{...ue}),J=async(ue,ve)=>{if((0,D.Z)())return Y(ue,ve);try{return await(0,p.uP)("/api/library/v4/users/asset_groups/"+ue,{...ve})}catch(Te){await(0,d.FY)(Te)}},Y=async(ue,ve)=>{const Te=MB.user.solo_org.cid;try{return await(0,p.uP)("/api/library/v6/asset_groups/"+ue,{...ve,org_cid:Te})}catch(He){await(0,d.FY)(He)}},me=ue=>async(ve,Te)=>{try{const He={...Te,org_cid:ue};return await(0,p.uP)("/api/library/v6/asset_groups/"+ve,{...He})}catch(He){await(0,d.FY)(He)}},Ne=async(ue,ve)=>{let Te=null;try{const He=await(0,p.Yo)("/api/community/v1/workspace?category="+ue+"&plabel="+ve);He!=null&&He.market_templates&&(Te=He==null?void 0:He.market_templates)}catch(He){(0,d.$r)()}return Te},ke=async(ue,ve)=>{let Te=null,He=null;try{const qe=await(0,p.DE)("/flpak/ww-p2wsearch?"+ue);if(qe!=null&&qe.data){const dt=qe.data,{user_flat_assets:It,user_flat_asset_groups:Ft,org_flat_assets:Vt,org_flat_asset_groups:$t}=dt.asset||{};return Te={...dt,asset:{user_assets:It,user_asset_groups:Ft,org_assets:Vt,org_asset_groups:$t}},He=qe.p2mMMap,{data:Te,p2mMMap:He}}}catch(qe){(0,d.$r)({onClick:dt=>dt({type:"entry:search-panel:search:from:keyword",payload:{from:ve}})})}},Ge=async ue=>{let ve=null;try{const Te=await(0,p.DE)("/flpak/ww-p2meta/"+ue);Te!=null&&Te.length&&(ve=Te)}catch(Te){(0,d.$r)()}return ve},Me=async ue=>{let{currentComboPanel:ve,projectMetaCid:Te}=ue;try{await(0,p.zi)("/flpak/ww-migrate-"+ve+"-combo-group/"+Te+"?mode=normal")}catch(He){await(0,d.FY)(He)}},Ie=async ue=>{let{projectBasicCid:ve}=ue;try{const{userId:Te,flatKey:He}=await(0,p.DE)("/api/flat/web_v1/proj2-edit-info?prj2Cid="+ve);return{userId:Te,flatKey:He}}catch(Te){await(0,d.FY)(Te)}},Je=async ue=>{let{projectBasicCid:ve,accessToken:Te,password:He}=ue;try{const{userId:qe,flatKey:dt}=await(0,p.DE)("/api/flat/web_v1/proj2-preview-info?prj2Cid="+ve+"&access_token="+Te+"&password="+He);return{userId:qe,flatKey:dt}}catch(qe){await(0,d.FY)(qe)}},nt=ue=>(0,p.DE)("/api/dsh2/web_v1/org_entry/"+ue),yt=async ue=>{const{project:ve}=await(0,p.DE)("/api/dashboard/v5/projects/"+ue);return ve},xt=async(ue,ve)=>{await(0,p.SN)("/api/dashboard/v5/projects/"+ue+"/cover",{project:ve})},bt=async ue=>(0,p.DE)("/api/upper/web_v1/basics/statstics/"+ue),wt=async()=>{try{const{result:ue}=await(0,p.DE)("/api/community/v1/community/scene_tag_labels?label_type=combo_group");return ue}catch(ue){console.log(ue)}},r=async ue=>{try{const{stickers:ve}=await(0,p.zi)("/api/community/v1/sticker_search_es",{q:ue,page:1,page_size:200});return ve}catch(ve){return console.log(ve),[]}}},54844:(Ce,ae,n)=>{"use strict";n.d(ae,{ER:()=>v,J_:()=>pe,Or:()=>q,QC:()=>h,X0:()=>G,Y5:()=>V,aX:()=>f,dJ:()=>ie,g:()=>N,l1:()=>g,wi:()=>R,yq:()=>F});var s=n(70768),p=n(56193),M=n(18833),d=n(19249),D=n(47163),Q=n(15515),z=n(72214);const R=async b=>{let{projectCid:C}=b;return(0,d.DE)("/api/upper/web_v1/sharing/initial?cid="+C)},q=async b=>{let{projectCid:C,sharing:L}=b;return(await(0,d.zi)("/api/flat/web_v1/project_share/"+C,{...L})).project_share},N=async b=>{let{projectCid:C,sharingCid:L}=b;try{return await(0,d.OD)("/api/flat/web_v1/project_share/"+L+"?project_cid="+C)}catch(Z){await(0,M.FY)(Z)}},F=async b=>{let{sharing:C}=b;try{return await(0,d.SN)("/api/flat/web_v1/project_share/"+C.cid,{project_share:C})}catch(L){await(0,M.FY)(L)}},ie=async b=>{try{return await(0,d.DE)("/api/flat/web_v1/preview/visit_count/"+b)}catch(C){console.error(C)}},B=()=>{const b=document.getElementById("workspace");(0,s.createRoot)(b).render((0,z.jsx)(p.A,{locale:(0,D.w)(),errorType:404,customDes:I18N.ToolBar.ReEnter,isShowPrimaryBtn:!1}))},pe=async b=>{try{if(!b.accessToken||b.project.access_token===b.accessToken)return V(b.project);{const{project:C,accessToken:L}=b,{project_share:Z}=await(0,d.DE)("/api/flat/web_v1/project_share/"+C.cid+"?access_token="+L);return{sharing:{...Z,type:"advanced",view_mode:Z.device_model}}}}catch(C){await B()}},V=b=>{const{cid:C,access_token:L,access:Z,building:u,comment_permission:k,password:T,visibility:X,wechat:y,is_first_canvas_open:A}=b,se=new URLSearchParams(location.search),ee=se.get("screen"),ne=se.get("canvasId"),te=se.get("view_mode")||(0,Q.Yt)(C+"_default_sharing_view_mode","read_only",Q.qW.String),fe=se.get("view_mode")||(0,Q.Yt)(C+"_default_sharing_view_mode","read_only",Q.qW.String),De=!!se.get("selection"),Ye=De?se.get("selection").split(","):[];return{sharing:{type:"default",project_cid:C,access_token:L,view_access:Z,view_sticky:u,comment_permission:k,password:T,visibility:X,wechat:y,view_mode:te,screen_visible_switch:De,screen_visible_list:Ye,page_begin:ee,canvas_begin:ne,device_model:fe,is_first_canvas_open:A}}},G=async b=>{let{projectCid:C}=b;try{const{project_shares:L}=await(0,d.DE)("/api/flat/web_v1/project_share/"+C+"/all");return L.sort((Z,u)=>new Date(u.created_at).getTime()-new Date(Z.created_at).getTime())}catch(L){return await(0,M.FY)(L),[]}},I=async b=>{try{const{result:C}=await fetchGetJSON("/api/accesses/v4/project/"+b+"/permission_check?permission=P:update");return C}catch(C){await apiErrorModals(C)}},v=async b=>{let C=null;try{C=await(0,d.DE)("/flpak/ww-p2meta/"+b)}catch(L){await(0,M.FY)(L)}return C},S={access_token:"",comment_permission:"",device_model:"",highlight:!0,password:"",project_cid:"",screen_visible_switch:!1,screen_visible_list:[],shell_type:"device",simulator_type:"device",sticky:!0,view_access:"private",view_count:0,view_prd:!1,wechat:!1,enable_version_record:!1,view_sticky:!0,is_first_canvas_open:!1},g=()=>({sharing:S}),f=async b=>{let C,L;try{C=await(0,d.DE)("/api/upper/web_v1/basics/"+b+"/get_details"),C&&JSON.stringify(C)!=="{}"&&(L=!0)}catch(Z){C=Z,L=!1}return{result:C,statusOk:L}},h=async b=>{let C,L;try{C=await(0,d.DE)("/api/dsh2/web_v1/permissions/can_edit_check?cid="+b),C&&JSON.stringify(C)!=="{}"&&(L=!0)}catch(Z){C=Z,L=!1}return{result:C,statusOk:L}}},55244:(Ce,ae,n)=>{"use strict";n.d(ae,{JQ:()=>ie,kZ:()=>V,tg:()=>G,zW:()=>B});var s=n(79287),p=n.n(s),M=n(89022),d=n.n(M),D=n(13076),Q=n.n(D);if(n.j!=15)var z=n(47163);function R(v){return v<10?"0"+v:v}function q(v,S,g){const f=new Date(v),h=f.getFullYear(),b=R(f.getMonth()+1),C=R(f.getDate()),L=R(f.getHours()),Z=R(f.getMinutes());return S==="time"?L+":"+Z:S==="datetime"?""+b+g+C+" "+L+":"+Z:""+h+g+b+g+C+" "+L+":"+Z}const N=n.j!=15?["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Spt","Oct","Nov","Dec"]:null;function F(v,S){const g=new Date(v),f=g.getFullYear(),h=N[g.getMonth()],b=R(g.getDate()),C=R(g.getHours()),L=R(g.getMinutes());return S==="time"?C+":"+L:S==="datetime"?h+" "+b+" "+C+":"+L:h+" "+b+", "+f+" "+C+":"+L}function ie(v,S,g){if(S===void 0&&(S="datetime"),g===void 0&&(g="."),!v)return"";let f=v;typeof v!="number"&&(f=parseInt(v,10)),f.length===10&&(f=f*1e3);let h="";const b=(0,z.w)();return b==="zh-CN"?h=q(f,S,g):(b==="en-US"||b==="en")&&(h=F(f,S,g)),h}function B(v,S){S===void 0&&(S=pe());const g=S-v;let f="";if(g<=3*1e3)f=I18N.Common.just_now||"\u521A\u521A";else if(g>3*1e3&&g<60*1e3)f=Math.floor(g/1e3)+I18N.Common.num_seconds_ago||"\u79D2\u524D";else if(g>=60*1e3&&g<60*60*1e3)f=Math.floor(g/(60*1e3))+I18N.Common.num_minutes_ago||"\u5206\u949F\u524D";else{f=ie(v,"full");const h=new Date(new Date().setHours(0,0,0,0)).getTime(),b=new Date(new Date().getFullYear(),0,1).getTime();v>b&&(f=ie(v,"datetime")),v>h&&(f=ie(v,"time"))}return f}function pe(){return new Date().getTime()}const V=v=>{p().locale(v==="zh-CN"?"zh-cn":v),p().extend(d()),p().extend(Q())},G=()=>p()().isBefore("2024-10-06"),I=v=>new Promise(S=>setTimeout(S,v))},55769:()=>{"use strict";const Ce={},ae={},n={},s={}},56193:(Ce,ae,n)=>{"use strict";n.d(ae,{A:()=>b});var s=n(25582),p=n.n(s),M=n(38502),d=n(67787),D=n(60719);const Q=d.Ay.div.withConfig({displayName:"styled__StyledCrashedPage",componentId:"sc-8goufi-0"})(["position:fixed;top:50%;left:50%;transform:translateX(-50%) translateY(-55%);text-align:center;color:#666;.logo{margin:0 auto 40px;height:320px;.logo-clickable{cursor:pointer;}.svg-icon{width:600px;fill:none;}}.mobile &{.logo{width:100%;transform:scale(0.8);}.content{.title{font-size:20px;line-height:24px;}.proposal{width:290px;font-size:14px;line-height:20px;}}}p{margin:0;}.content{margin:40px auto;.title{font-weight:600;font-size:24px;line-height:24px;color:#1f292e;}.proposal{width:max-content;margin:12px auto 40px;font-style:normal;font-weight:normal;font-size:16px;line-height:20px;color:#415058;.count-detail{color:#1684fc;}}.text-left{text-align:left;margin-bottom:-12px;}.text-list{margin:0;padding-left:24px;}}.btn-list{display:grid;grid-auto-flow:column;gap:20px;justify-content:center;.btn{width:200px;height:48px;display:inline-block;border-radius:6px;font-size:16px;font-weight:500;line-height:46px;cursor:pointer;transition:all 0.2s ease-out;}.primary{color:",";background:",";border:1px solid transparent;&:hover{background:",";border:1px solid transparent;}&:active{background:",";border:1px solid transparent;}}.regular{color:",";background:",";border:1px solid ",";&:hover{background:",";border:1px solid ",";}&:active{background:",";border:1px solid ",";}}}"],D.f.color_text_btn.value_light,D.f.color_btn_primary_normal.value_light,D.f.color_btn_primary_hover.value_light,D.f.color_btn_primary_clicked.value_light,D.f.color_text_L1.value_light,D.f.color_bg_white.value_light,D.f.color_bg_border_02.value_light,D.f.color_btn_secondary_hover.value_light,D.f.color_bg_border_02.value_light,D.f.color_btn_secondary_active.value_light,D.f.color_bg_border_02.value_light);var z=n(72214);const R="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='600' height='320' fill='none'%3E%3Cpath fill='url(%23a)' d='M200 158.5c-54.4-5.2-59.3 54.2-55 84.5h308c22.8-46-17.7-69.2-44-73.5 49.3-15.5 19.5-88-28.5-116C258.2-17.8 268 165 200 158.5Z' opacity='.6'/%3E%3Cpath stroke='%231F292E' stroke-linecap='round' stroke-width='2' d='M145 243h66a2 2 0 0 0 2-2V122.6a2 2 0 0 1 1.6-2L333 94l-101.6 32.6a2 2 0 0 0-1.4 1.9v139a2 2 0 0 0 2.5 2l54-13'/%3E%3Cpath fill='%231F292E' d='M213 121.5v122l17 26V127l100.5-32.5-117.5 27Z'/%3E%3Cpath stroke='%231F292E' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M455 243h-38'/%3E%3Ccircle cx='251' cy='198' r='4' fill='%231F292E'/%3E%3Cpath fill='%23FF6161' fill-rule='evenodd' d='M250.4 182.2Zm2.3-3.2a24.2 24.2 0 0 1 2.7-1c.9-.3 3 .2 4.4 1.1.6.6-.5.2-2 .4l-1.9.4a22.7 22.7 0 0 0-5 2.4 5.2 5.2 0 0 1-.7.3 1.8 1.8 0 0 1-.3.1 1.2 1.2 0 0 1-.3 0 1 1 0 0 1-.6-.2 1 1 0 0 1-.4-.8 1 1 0 0 1 0-.4l.3-.4.5-.5 1-1a2.2 2.2 0 0 0 .2-.3.7.7 0 0 0 0-.1.9.9 0 0 0-.1-.1c-.4-.2-1-.4-2.3-.6a3.2 3.2 0 0 1-.3 0 1.6 1.6 0 0 1-.5-.2 1 1 0 0 1-.5-.9c0-.4.2-.7.3-.8l.6-.4.6-.3.5-.2a13 13 0 0 0 2.7-1.2l.9-.7v-.4c-.1-.2-.4-.6-1.3-1-.8-.6-2-1.1-3.7-1.7a2.6 2.6 0 0 1-.8-.5 1 1 0 0 1-.5-.9c-.1-.5.2-1 .4-1.1.3-.2.6-.4.9-.4 1.6-.4 4-1 5.9-2.8 1.7-1.5 3-4.2 1.8-9.2a2.3 2.3 0 0 1 0-1.2l.2-.4a1 1 0 0 1 1.6-.2c.2.1.3.3.3.4l.5 1c.8 2 3.5 4.9 6.7 6.7 1.2.7 1.2.8 0 .4-2.2-.6-5.6-2-7.3-4.6 1.3 4.3-.8 7-2.4 8.6a13.1 13.1 0 0 1-5.3 2.8c1.2.4 2 .9 2.8 1.3a5 5 0 0 1 2 2c.4.8.3 1.6-.1 2.2-.4.6-1 1-1.6 1.4l-1.7.9.6.2c.7.4 1.2 1 1.2 1.9Zm-2 0Z' clip-rule='evenodd'/%3E%3Cpath fill='%23fff' d='M292 163.5c61.2 5.2 103.5 55.5 117 80l-115 14-4-12.5 2-8-3-11 3-10 3.5-4v-13l7.5-7c-25-2-35-4-36.5-14.5.5-3.6 3.1-15.9 25.5-14Z'/%3E%3Cpath fill='%231F292E' fill-rule='evenodd' d='M363 191.1a219 219 0 0 1 46.8 51.6 1 1 0 1 1-1.6 1 217 217 0 0 0-46.5-51c-21.7-17-48.6-29.9-78.3-27.4-10.1.8-15 6.3-15.4 11.4-.4 5 3.6 10.6 12.8 11.8l5.2.6c5.4.7 11.2 1.4 16.5 2.4a70 70 0 0 1 12.1 3.2c3.5 1.3 6.5 3 8.5 5.4a1 1 0 0 1-1.6 1.3c-1.6-2-4.2-3.5-7.6-4.8a66.7 66.7 0 0 0-11.3-3c-3.5 2.3-7 6.7-7 12.9-.1 6.3 3.7 14.7 16 24.7 4.7 3.7 9.5 5 13.4 4.5a1 1 0 0 1 1.3-.3 11.1 11.1 0 0 0 1.2-.3c2-.7 3.6-2 4.6-3.7.8-1.4 1-3.2.7-5.3-4.2.6-7.4.3-9.7-.7-2-.8-3.2-2-4-3.6a8.5 8.5 0 0 1-.6-5.2c.3-1.5.8-3 1.6-4.5a26.7 26.7 0 0 1-2.2-2.8 7 7 0 0 1-1.2-2c-.4-.8-.6-1.5-.6-2.2a1 1 0 1 1 2 0c0 .3.1.7.4 1.3.2.6.6 1.2 1 1.8a24.1 24.1 0 0 0 1.7 2.1 29.4 29.4 0 0 1 19.1-11.4 1 1 0 0 1 .4 2c-5.7.8-10.5 3.2-14 6.3a22.1 22.1 0 0 0-4.3 5 1 1 0 0 1-.4.6 13 13 0 0 0-1.5 4.1c-.3 1.6-.1 3 .4 4 .5 1.1 1.5 2 3 2.7 3 1.3 8.2 1.3 16.3-1.3 3.7-1.5 6.9-2.2 9.3-2.1 2.5 0 4.5.8 5.6 2.1a5 5 0 0 1 .7 5.1 12 12 0 0 1-4.3 5.3c-8 6-7.5 11.8-6.6 13.5a1 1 0 1 1-1.8 1c-1.4-3-1.4-9.6 7.2-16 2-1.5 3.1-3.1 3.6-4.4.5-1.4.3-2.4-.3-3.2-.7-.7-2-1.4-4.1-1.4-2.1 0-5 .5-8.6 2l-6.1 1.6c.4 2.5 0 4.7-1 6.6a10.2 10.2 0 0 1-5.6 4.6 12.3 12.3 0 0 1-1.1.3c.6 2.9.4 6-.7 8.6a9.4 9.4 0 0 1-6.1 5.4c5 4.5 6.4 10 5.1 14.4a8.7 8.7 0 0 1-3 4.6c3.2 2.3 9 5 15.8 5a1 1 0 0 1 1 0 28 28 0 0 0 12.1-3.5 1 1 0 1 1 1 1.8 30 30 0 0 1-11.8 3.6 51.8 51.8 0 0 1 3.2 8c1.2 3.9 2 8.2 1.3 12a1 1 0 1 1-2-.4c.6-3.3 0-7.3-1.2-11-1-3.4-2.4-6.5-3.5-8.5-8 0-14.4-3.3-17.8-6-2 .8-4.6.8-7.2-.3-13.4-5.2-19.9-12-22.4-18.3-2.4-6-1.2-11.6.7-15.1a21.2 21.2 0 0 1-2.8-15.1c.8-4.5 3-8.3 5.6-10.2A17.5 17.5 0 0 1 300 193l-14.1-1.9a765.9 765.9 0 0 1-5.2-.7c-10-1.2-15-7.4-14.6-13.9.5-6.4 6.5-12.3 17.2-13.2 30.4-2.5 57.8 10.7 79.7 27.8Zm-68 23.2c2.3 5.5 7 11.7 15.3 18.4 5 4 10.3 5.5 14.7 5 .5 2.5.4 5.2-.5 7.4a7.7 7.7 0 0 1-6.7 4.6c-3 .3-7.1-.5-12.5-3a28.2 28.2 0 0 1-11.7-9.7 19.2 19.2 0 0 1-3-14.2 15 15 0 0 1 4.4-8.5Zm-2.2 25.2c-1.4 3-2.1 7.6-.1 12.5 2.2 5.7 8.2 12 21.2 17.2 2.3.9 4.3.8 5.8.2a1 1 0 0 1 .7-.3 6.5 6.5 0 0 0 3-4c1-3.7-.3-9.1-5.8-13.4-3.5.3-7.8-.7-13.2-3.3-5.2-2.5-9-5.6-11.6-9Zm75.4 17.1a1 1 0 0 1-.5 1.4 7.7 7.7 0 0 0-3.8 4.5 1 1 0 1 1-2-.5 9.7 9.7 0 0 1 5-5.8 1 1 0 0 1 1.3.4Z' clip-rule='evenodd'/%3E%3Cdefs%3E%3ClinearGradient id='a' x1='426' x2='259' y1='125' y2='289' gradientUnits='userSpaceOnUse'%3E%3Cstop stop-color='%23EDF8FF'/%3E%3Cstop offset='1' stop-color='%23FAEFFF'/%3E%3C/linearGradient%3E%3C/defs%3E%3C/svg%3E",q="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNjAwIiBoZWlnaHQ9IjMyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBkPSJNMjUwLjUgMjk1LjVsLTctMzYgNi41LS41IDguNS0yIDktNSAzNCAyLjUgOCAzOC41LTU5IDIuNXoiIGZpbGw9InVybCgjcGFpbnQwX2xpbmVhcl83ODc4XzE1MjE3KSIvPjxwYXRoIG9wYWNpdHk9Ii42IiBkPSJNNDM2LjE1MiAxNTguNWM1NC40LTUuMiA1OS4zMzQgNTQuMTY2IDU1IDg0LjVoLTMwOGMtMjIuOC00NiAxNy42NjctNjkuMTY3IDQ0LTczLjUtNDkuMzMzLTE1LjUtMTkuNS04OCAyOC41LTExNiAxMjIuMjU0LTcxLjMxNSAxMTIuNSAxMTEuNSAxODAuNSAxMDV6IiBmaWxsPSJ1cmwoI3BhaW50MV9saW5lYXJfNzg3OF8xNTIxNykiLz48cmVjdCB4PSIyNjcuNjQ4IiB5PSIxNDQiIHdpZHRoPSIzOCIgaGVpZ2h0PSI5OCIgcng9IjMiIHN0cm9rZT0iIzFGMjkyRSIgc3Ryb2tlLXdpZHRoPSIyIi8+PHJlY3QgeD0iMjI5LjY0OCIgeT0iMTE0IiB3aWR0aD0iMzgiIGhlaWdodD0iMTI4IiByeD0iMyIgc3Ryb2tlPSIjMUYyOTJFIiBzdHJva2Utd2lkdGg9IjIiLz48cmVjdCB4PSIzNzkuNjQ4IiB5PSIxMjgiIHdpZHRoPSIyMSIgaGVpZ2h0PSIxMTQiIHJ4PSIzIiBzdHJva2U9IiMxRjI5MkUiIHN0cm9rZS13aWR0aD0iMiIvPjxyZWN0IHg9IjQwMC42NDgiIHk9IjE0NCIgd2lkdGg9IjI5IiBoZWlnaHQ9Ijk4IiByeD0iMyIgc3Ryb2tlPSIjMUYyOTJFIiBzdHJva2Utd2lkdGg9IjIiLz48cmVjdCB4PSIzMDUuNjQ4IiB5PSIxMjgiIHdpZHRoPSIxOSIgaGVpZ2h0PSIxMTQiIHJ4PSIzIiBzdHJva2U9IiMxRjI5MkUiIHN0cm9rZS13aWR0aD0iMiIvPjxyZWN0IHg9IjMyNS42NDgiIHk9IjEzMC4yMzIiIHdpZHRoPSIyMi4yODkiIGhlaWdodD0iMTE2IiByeD0iNCIgdHJhbnNmb3JtPSJyb3RhdGUoLTE1LjcyMyAzMjUuNjQ4IDEzMC4yMzIpIiBzdHJva2U9IiMxRjI5MkUiIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtZGFzaGFycmF5PSIxIDgiLz48cGF0aCBkPSJNMTc3LjY0OCAyNDJoMzEwIiBzdHJva2U9IiMxRjI5MkUiIHN0cm9rZS13aWR0aD0iMiIvPjxwYXRoIGZpbGw9IiMxRjI5MkUiIGQ9Ik0zODAuNjQ4IDIwMGgxOXYxN2gtMTl6Ii8+PHBhdGggZmlsbD0iIzE2ODRGQyIgZD0iTTQwMS42NDggMTY4aDI5djE5aC0yOXoiLz48cGF0aCBmaWxsPSIjMUYyOTJFIiBkPSJNMzgwLjY0OCAyMjFoMTl2NGgtMTl6TTI2OC42NDggMTU5aDM2djEzaC0zNnoiLz48cGF0aCBkPSJNMjk1LjE0OCAxODNjOC0uOCAxNCA4LjMzMyAxNiAxM2wtNTAgMjEtMjQuNS0xNCAyLTQuNSA0LjUtOCA5LTMuNSA5IC41IDYuNS00LjUgNi0xLjUgNiAxLjUgNCA0Yy41LTEgMy41LTMuMiAxMS41LTR6IiBmaWxsPSIjZmZmIi8+PHBhdGggZD0iTTI0Mi4xNDggMjA0bDY4LTctMi41IDU3LTU4LTItNy41LTQ4eiIgZmlsbD0iI2ZmZiIvPjxwYXRoIGQ9Ik0zMTAuMTQ4IDE5N2wuOTk5LjA0NC4wNTEtMS4xNTctMS4xNTIuMTE4LjEwMi45OTV6bS02OCA3bC0uMTAyLS45OTUtMS4wNDguMTA4LjE2MiAxLjA0MS45ODgtLjE1NHptNy41IDQ4bC0uOTg4LjE1NC4xMjguODE3LjgyNi4wMjguMDM0LS45OTl6bTU4IDJsLS4wMzQuOTk5YTEgMSAwIDAgMCAxLjAzMy0uOTU1bC0uOTk5LS4wNDR6bTIuMzk4LTU3Ljk5NWwtNjggNyAuMjA1IDEuOTkgNjgtNy0uMjA1LTEuOTl6bS02OC44ODYgOC4xNDlsNy41IDQ4IDEuOTc2LS4zMDgtNy41LTQ4LTEuOTc2LjMwOHptOC40NTQgNDguODQ1bDU4IDIgLjA2OS0xLjk5OC01OC0yLS4wNjkgMS45OTh6bTU5LjAzMyAxLjA0NWwyLjUtNTctMS45OTgtLjA4OC0yLjUgNTcgMS45OTguMDg4eiIgZmlsbD0iIzFGMjkyRSIvPjxwYXRoIGQ9Ik0yOTQuMTQ4IDE4Mi41YzgtLjggMTQgOC4zMzMgMTYgMTNsLTI5LjUgMTAuNS02LjUtM3YtOC41bDguNS04Yy41LTEgMy41LTMuMiAxMS41LTR6IiBmaWxsPSIjZmZmIi8+PHBhdGggZD0iTTMxMC42NDggMTk2Yy0yLTctMTEuMjEyLTE5LjY4Ni0yOC41LTguNS0xNyAxMS03LjUgMjUuNSA5LjUgMTRtLTgtMTQuOTIzYy0zLjgzMy0zLjY2Ny0xMi4wNi0xMC43MjItMjQgMi45MjMtNyA4IDAgMTcuNSAxNCA5TTI2MS4xNDggMTg3LjVjLTYtMi4xNjctMTkuNi0xLjUtMjQgMTQuNSIgc3Ryb2tlPSIjMUYyOTJFIiBzdHJva2Utd2lkdGg9IjIiLz48cGF0aCBkPSJNMTg4LjE0OCAyMDZsNTktNC41IDEuNSA1Ny41LTYzLjUtMy41IDMtNDkuNXoiIGZpbGw9IiNmZmYiIHN0cm9rZT0iIzFGMjkyRSIgc3Ryb2tlLXdpZHRoPSIyIiBzdHJva2UtbGluZWpvaW49InJvdW5kIi8+PHBhdGggZD0iTTIwMy42NDkgMTk3LjAzMWM1LjYtLjggMTAuMzMzIDQuNjY2IDEyIDcuNUwyMDguNSAyMDcuNWwtNiA1LjUtNC41IDctMSAxMCAzLjUgMTUgMS41IDktNCAxMi0yLjUgNy41LS41IDE3LjUtNzIgNC41IDIuNS0zMC41LTExLjUtMTYuNS01LjUtMTUuNXYtMTRsNy0xNCA4LTcgNSAxIDQuNSA5LjUgNi41LTguNDY5IDEwLTguMDMxIDcuNS41IDQuNSAzLTQuNSA0LjUzMWMxNS41LTEzLjAzMSAyMi4wNTctMy41MzEgMTkuNSAwIDguNC0xMS42IDE2LjgxNS00LjMzNCAyMC42NDkgMC0uMTY3LS42NjcuOS0yLjIgNi41LTN6IiBmaWxsPSJ1cmwoI3BhaW50Ml9saW5lYXJfNzg3OF8xNTIxNykiLz48cGF0aCBkPSJNMTg3LjE0OCAyMTEuNWMzLjE4Ni02LjYxNiA2LjU3Ny0xMC40OTIgOS44OTQtMTIuNW0wIDBjNy41MTItNC41NDggMTQuNjM4LjQ5MSAxOC4xMDYgNS02LjAzNSAyLjE2Ny0xOC4xMDYgOS44LTE4LjEwNiAyMyAwIDE2LjUgMTEuMTA2IDI0LjUtMS44OTQgNDZ2MThtMS44OTQtOTJjLTUuMjk4LTUuODMzLTE4LjE5NC0xMS41LTI3LjM5NCAxMi41bTgtMTQuNWMtNC42NjYtNS4zMzMtMTYuNS05LjUtMjYuNSAxNi41IiBzdHJva2U9IiMxRjI5MkUiIHN0cm9rZS13aWR0aD0iMiIvPjxwYXRoIGQ9Ik0xNjEuNjQ3IDE5NmMtNC44MzMtNi4xNjctMTYuMDEyLTEwLjI0NC0zMS41IDE4LTUuMjEgOS41LTYgMjYtMSAzMyIgc3Ryb2tlPSIjMUYyOTJFIiBzdHJva2Utd2lkdGg9IjIiLz48cGF0aCBkPSJNMTMyLjY0OCAyMTBjLTEuMTY3LTYuODM0LTUuNi0xOC4xLTE0LTguNS0xMC41IDEyLTIwIDMxLjUgNi41IDYzbC0yIDMxTTMwMS4xNDggMjU0bDcuNSAzOU0yNDMuNjQ4IDI1OGw2LjUgMzcuNSIgc3Ryb2tlPSIjMUYyOTJFIiBzdHJva2Utd2lkdGg9IjIiLz48Y2lyY2xlIGN4PSIzMDguNjQ4IiBjeT0iMjI1IiByPSIyOSIgZmlsbD0iI2ZmZiIgc3Ryb2tlPSIjMUYyOTJFIiBzdHJva2Utd2lkdGg9IjIiLz48Y2lyY2xlIGN4PSIyNDguNjQ4IiBjeT0iMjMwIiByPSIyOSIgZmlsbD0iI2ZmZiIgc3Ryb2tlPSIjMUYyOTJFIiBzdHJva2Utd2lkdGg9IjIiLz48Y2lyY2xlIGN4PSIzMDguNjQ4IiBjeT0iMjI1IiByPSIyMiIgZmlsbD0iI2ZmZiIgc3Ryb2tlPSIjMUYyOTJFIiBzdHJva2Utd2lkdGg9IjIiLz48Y2lyY2xlIGN4PSIyNDguNjQ4IiBjeT0iMjMwIiByPSIyMiIgZmlsbD0iI2ZmZiIgc3Ryb2tlPSIjMUYyOTJFIiBzdHJva2Utd2lkdGg9IjIiLz48cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTM0OS42NjcgMTAxLjM5NWwuMDAxLjAwMS0uMDAxLS4wMDF6bTEuNTc0IDMuNTQ1YTI0LjEyNCAyNC4xMjQgMCAwIDEtLjUwMSAyLjgzMWMtLjIyLjkwNS0xLjY1IDIuNTA2LTMuMjI0IDMuMjYxLS43NTkuMjMzLjA5NS0uNDg4LjY3My0xLjgzNi4yMDMtLjQ1OC40MTYtMS4xMDcuNjA3LTEuODk3LjM4Mi0xLjU3Ni42NTItMy42MDUuNjExLTUuNThhNS4yNCA1LjI0IDAgMCAxIC4wMjUtLjcxNWMuMDEyLS4wOTUuMDMyLS4yMjMuMDc1LS4zNTNhMS4yIDEuMiAwIDAgMSAuMTMzLS4yNzUgMS4wMyAxLjAzIDAgMCAxIDEuMzYxLS4zNDdjLjE4OS4xMDMuMzAxLjI0LjM1My4zMS4xMDYuMTQ0LjE2NS4yOTQuMTk1LjM3OC4wNjkuMTkxLjEyNS40MzMuMTczLjY5Ni4wODguNDg1LjE4OS45NDcuMzI2IDEuMzIxLjA2OC4xODUuMTM1LjMyMi4xOTYuNDE4YS43ODUuNzg1IDAgMCAwIC4wNjkuMDkxLjg1Mi44NTIgMCAwIDAgLjE5MS0uMDljLjMzNi0uMTk3Ljg2My0uNjcxIDEuNjA3LTEuNjUzLjA3OS0uMTA1LjE2MS0uMjA2LjI0Ny0uMjk1YTEuNTcgMS41NyAwIDAgMSAuMzY4LS4yOTFjLjE1NS0uMDg1LjU2LS4yNTQgMS4wMTEtLjAyOC40MS4yMDUuNTMxLjU4MS41NjUuNzA2LjA3NC4yNy4wNS41NjUuMDM3LjcyMi0uMDE5LjIwMy0uMDUyLjQzOS0uMDkuNjgxbC0uMDgxLjUwNWMtLjE1MS45MjEtLjMyNiAxLjk5NS0uMzEgMi45MjIuMDEuNTU0LjA4OS45MjYuMTk3IDEuMTM3LjA3NC4xNDQuMTMuMTc4LjI2NS4xOS4yMzEuMDIuNzItLjA1NiAxLjU4Ny0uNTE4Ljg0NS0uNDUxIDEuOTQ3LTEuMjEzIDMuMzY3LTIuMzk5LjIyLS4xODQuNDctLjM0OS43NDEtLjQ1MS4yNTQtLjA5NC42NjYtLjE4MiAxLjA5LjAxLjQ3Ny4yMTYuNjc4LjY0OS43MzIuOTk5LjA1MS4zMjctLjAwNi42NTItLjA4OC45MzEtLjQ3NCAxLjYwNi0xLjE5NiA0LjA2My0uNjcxIDYuNDcxLjQ5NiAyLjI3OSAyLjE2OCA0LjczIDcuMDE3IDYuMjEzLjQwNS4xMjQuODE0LjM4OSAxLjA2Ni42OTYuMDY4LjA4NC4xNTcuMjA5LjIyMS4zNzFhMS4wOTMgMS4wOTMgMCAwIDEtLjYyNiAxLjQzNWMtLjIwNi4wOC0uNC4wODgtLjUyOC4wODRhMTIuMjc1IDEyLjI3NSAwIDAgMS0xLjEyMS0uMTE1Yy0yLjA2LS4yNjgtNS45Ni41OTYtOS4xMzcgMi4zOTYtMS4xOTUuNjc3LTEuMzUuNjE3LS4zNTMtLjMyNiAxLjYyOS0xLjU0MSA0LjUwOS0zLjc0NyA3LjY4LTMuODY0LTQuMzQ1LTEuMDItNS42ODMtNC4yMTUtNi4xNzMtNi40NjQtLjQ3My0yLjE3LS4xMjQtNC4zMTguMjc3LTUuOTIyLS45NzIuNzQ4LTEuODE3IDEuMzA3LTIuNTU0IDEuNy0uOTkyLjUyOS0xLjg5OC44MTYtMi43MDIuNzQ1LS45MDEtLjA3OS0xLjUyMS0uNTktMS44Ny0xLjI3MS0uMzE1LS42MTYtLjQwNS0xLjM1MS0uNDE3LTIuMDEzLS4wMS0uNjE0LjA0OC0xLjI3OC4xMjctMS45MDFhNC4zMDUgNC4zMDUgMCAwIDEtLjQ3LjMyM2MtLjcyMy40MjQtMS41MzEuNTMyLTIuMjQ2LjA3OWwtLjAyOC0uMDE4em0xLjAyOS0xLjY5MXMuMDA5LS4wMDMuMDIyIDBjLS4wMTYuMDAzLS4wMjIgMC0uMDIyIDB6IiBmaWxsPSIjRkY2MTYxIi8+PHBhdGggZD0iTTI1MC42NDggMjIzLjVsLTcgOS41TTMxMS42NDggMjE4bC03IDkuNU0yNTIuNjQ4IDIzMGwtNyA5LjVNMzEzLjY0OCAyMjQuNWwtNyA5LjUiIHN0cm9rZT0iIzFGMjkyRSIgc3Ryb2tlLXdpZHRoPSIyIiBzdHJva2UtbGluZWNhcD0icm91bmQiLz48ZGVmcz48bGluZWFyR3JhZGllbnQgaWQ9InBhaW50MF9saW5lYXJfNzg3OF8xNTIxNyIgeDE9IjI3My41IiB5MT0iMjU0LjUiIHgyPSIyNjYuMDk3IiB5Mj0iMjkxLjMwNCIgZ3JhZGllbnRVbml0cz0idXNlclNwYWNlT25Vc2UiPjxzdG9wIHN0b3AtY29sb3I9IiNmZmYiLz48c3RvcCBvZmZzZXQ9Ii43MzEiIHN0b3AtY29sb3I9IiNmZmYiIHN0b3Atb3BhY2l0eT0iLjgiLz48c3RvcCBvZmZzZXQ9IjEiIHN0b3AtY29sb3I9IiNmZmYiIHN0b3Atb3BhY2l0eT0iMCIvPjwvbGluZWFyR3JhZGllbnQ+PGxpbmVhckdyYWRpZW50IGlkPSJwYWludDFfbGluZWFyXzc4NzhfMTUyMTciIHgxPSIyMTAuMTUyIiB5MT0iMTI1IiB4Mj0iMzc3LjE1MiIgeTI9IjI4OSIgZ3JhZGllbnRVbml0cz0idXNlclNwYWNlT25Vc2UiPjxzdG9wIHN0b3AtY29sb3I9IiNFREY4RkYiLz48c3RvcCBvZmZzZXQ9IjEiIHN0b3AtY29sb3I9IiNGQUVGRkYiLz48L2xpbmVhckdyYWRpZW50PjxsaW5lYXJHcmFkaWVudCBpZD0icGFpbnQyX2xpbmVhcl83ODc4XzE1MjE3IiB4MT0iMTg4IiB5MT0iMjU2IiB4Mj0iMTg2LjkyNiIgeTI9IjI5Mi41MjciIGdyYWRpZW50VW5pdHM9InVzZXJTcGFjZU9uVXNlIj48c3RvcCBzdG9wLWNvbG9yPSIjZmZmIi8+PHN0b3Agb2Zmc2V0PSIuNjc2IiBzdG9wLWNvbG9yPSIjZmZmIiBzdG9wLW9wYWNpdHk9Ii44Ii8+PHN0b3Agb2Zmc2V0PSIxIiBzdG9wLWNvbG9yPSIjZmZmIiBzdG9wLW9wYWNpdHk9IjAiLz48L2xpbmVhckdyYWRpZW50PjwvZGVmcz48L3N2Zz4=",N="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='600' height='320' fill='none'%3E%3Cg clip-path='url(%23a)'%3E%3Cpath fill='url(%23b)' d='M200 158.5c-54.4-5.2-59.3 54.2-55 84.5h308c22.8-46-17.7-69.2-44-73.5 49.3-15.5 19.5-88-28.5-116C258.2-17.8 268 165 200 158.5Z' opacity='.6'/%3E%3Cpath stroke='%231F292E' stroke-width='2' d='M145 242h310'/%3E%3Cpath fill='%23fff' d='M195.3 213c-7.5-17.5-7.5-20-7.5-20l38.8-39.8c15.9 23.6 45.6 71.5 37.6 74.6a46 46 0 0 0-17.5 13.4h-63.1s19.2-10.5 11.7-28.1Z'/%3E%3Cpath stroke='%231F292E' stroke-linecap='round' stroke-linejoin='round' stroke-width='10' d='M378 221.6c-29.5-66-56.2-32.1-109.5-78.5-52.2-34.8-99.8-36-117.2-16-38.6 44.2 90.6 76.6 34.4 112.9'/%3E%3Cpath fill='%23fff' d='M306 149.4c-12.4 6.4-15.5 16.6-15.5 21 0 16.7 14 13.4 21 9.6l14.1 15.5a67.3 67.3 0 0 1-37.1 22.6 97.9 97.9 0 0 0-42.2 23l-26-23 12.2-35.2-26-9.2c15.5-15 27.6-23.9 40.2-54.9 2.9-11.3 10.7-33 20-32.6 9.4.3 5.3 20.5 2.1 30.5 10.5-4.1 13.4 4.7 15.5 3.8 7-3 13.9 2.5 15.8 5.9 5-3 14.8-4.3 18.8 0 10.4 11 11.2 29.8 3.8 35.2 0 0-13.7-5.8-14.6-6.7-.4-.4-1.1-.4-2.1-5.5Z'/%3E%3Cpath stroke='%231F292E' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M306 149c1.5 3.3 4.5 10.5 8.6 13 5.3 3.4 17.6-1.5 12.1-22.5-5.5-21-22.7-23.4-49.4 4.5'/%3E%3Cpath stroke='%231F292E' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M300.4 125.4c-2.7-2.3-6.8-7.8-16-5m-23.2 17.2c10.2-10.7 17.7-15.5 23.3-17.2m0 0c-2.3-3.2-7.7-6.4-15.7-3.9m-20 15.3c7.8-9 14.5-13.5 20-15.3m0 0c2.8-7 8.3-26-2.3-30.4-15.1-6.3-13.2 35.3-36 62.4a561.6 561.6 0 0 1-43.1 45'/%3E%3Cpath fill='%23fff' d='m330.3 165.8-5.9.5-5.8 6-7.5 7.4-11.5 6.9-11.5 6.9 28.7 11.6 11-11.5 6.8-13.5-.2-10.7-4-3.6Z'/%3E%3Cpath stroke='%231F292E' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M310.8 146.3c-7.5 3.2-24.2 14.2-19 29 3.8 10.8 16.5 10.6 26.5-3.1 10-13.8 20.8-3.9 15.5 10.2-12 31.4-47 34.1-60 40.4-9.7 4.7-16.6 8.7-27.8 18.7'/%3E%3Ccircle cx='383.5' cy='234.5' r='17.5' fill='%23fff' stroke='%231F292E' stroke-width='2'/%3E%3Ccircle cx='381.5' cy='229.5' r='18.5' fill='%231684FC'/%3E%3Cpath fill='%23fff' stroke='%231F292E' stroke-linejoin='round' stroke-width='2' d='M329.7 261.3a1 1 0 0 1 .7-.3h139a1 1 0 0 1 .7 1.7l-17.8 16a1 1 0 0 1-.7.3h-139a1 1 0 0 1-.7-1.7l17.8-16Z'/%3E%3Cpath fill='%23fff' stroke='%231F292E' stroke-linejoin='round' stroke-width='2' d='M313.7 285.5a1 1 0 0 0 .9.5h139.7a1 1 0 0 0 .8-1.5l-2.8-5a1 1 0 0 0-.9-.5H311.7a1 1 0 0 0-.8 1.5l2.8 5ZM472 269.1a1 1 0 0 1-.3.7L457 285a1 1 0 0 1-1.6-.2l-2.9-5.1a1 1 0 0 1 .2-1.2l17.7-16a1 1 0 0 1 1.7.7v5.9Z'/%3E%3Cpath stroke='%231F292E' stroke-linecap='square' stroke-linejoin='round' stroke-width='4' d='M466 277.5c16.3 6.3 39.2 21.6 0 32-39.2 10.4-45 32.7-43 42.5'/%3E%3Crect width='2' height='6' x='342' y='266.9' fill='%231F292E' rx='1' transform='rotate(-27 342 267)'/%3E%3Crect width='2' height='6' x='392' y='266.9' fill='%231F292E' rx='1' transform='rotate(-27 392 267)'/%3E%3Crect width='2' height='6' x='429.9' y='267.1' fill='%231F292E' rx='1' transform='rotate(-31 429.9 267)'/%3E%3Crect width='2' height='6' x='351.9' y='266.1' fill='%231F292E' rx='1' transform='rotate(31 352 266.1)'/%3E%3Crect width='2' height='6' x='402.2' y='266.2' fill='%231F292E' rx='1' transform='rotate(36 402.2 266.2)'/%3E%3Crect width='2' height='6' x='440.6' y='266.3' fill='%231F292E' rx='1' transform='rotate(43 440.6 266.3)'/%3E%3Crect width='4' height='10' x='374' y='225' fill='%231F292E' rx='2'/%3E%3Crect width='4' height='10' x='385' y='225' fill='%231F292E' rx='2'/%3E%3Cpath fill='%23FF6161' fill-rule='evenodd' d='M406 190.4Zm1.6 3.5a24 24 0 0 1-.5 2.9c-.2.9-1.7 2.5-3.2 3.2-.8.3 0-.5.6-1.8.2-.5.5-1.1.6-1.9a22.7 22.7 0 0 0 .7-5.6 5 5 0 0 1 0-1l.2-.3c0-.1.2-.3.5-.4.3-.2.6 0 .9 0l.3.3.2.4.2.7a8.4 8.4 0 0 0 .5 1.8 1 1 0 0 0 .3 0 9 9 0 0 0 1.6-1.7 3.3 3.3 0 0 1 .2-.3l.4-.3a1 1 0 0 1 1 0c.4.2.5.6.6.7v.7l-.1.7v.5c-.2 1-.4 2-.4 3l.2 1c0 .2.1.2.3.2.2 0 .7 0 1.6-.5.8-.4 2-1.2 3.3-2.4l.8-.4c.2-.1.6-.2 1 0 .5.2.7.6.8 1l-.1 1c-.5 1.5-1.2 4-.7 6.4.5 2.3 2.2 4.7 7 6.2.5.1.9.4 1.1.7l.2.4c0 .1.2.4 0 .8a1 1 0 0 1-.6.6h-.5a12.7 12.7 0 0 1-1.1 0c-2.1-.3-6 .6-9.2 2.4-1.2.6-1.3.6-.3-.4 1.6-1.5 4.5-3.7 7.6-3.8a7.9 7.9 0 0 1-6.1-6.5c-.5-2.2-.1-4.3.3-5.9l-2.6 1.7a5 5 0 0 1-2.7.7c-.9 0-1.5-.5-1.9-1.2-.3-.6-.4-1.4-.4-2l.1-2a4 4 0 0 1-.4.4c-.8.4-1.6.5-2.3 0Zm1-1.7Z' clip-rule='evenodd'/%3E%3C/g%3E%3Cdefs%3E%3ClinearGradient id='b' x1='426' x2='259' y1='125' y2='289' gradientUnits='userSpaceOnUse'%3E%3Cstop stop-color='%23EDF8FF'/%3E%3Cstop offset='1' stop-color='%23FAEFFF'/%3E%3C/linearGradient%3E%3CclipPath id='a'%3E%3Cpath fill='%23fff' d='M0 0h600v320H0z'/%3E%3C/clipPath%3E%3C/defs%3E%3C/svg%3E",F="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='600' height='320' fill='none'%3E%3Cpath fill='url(%23a)' d='M332.3 78.2a71 71 0 0 0-110-27.1c-35.6 37.9-27 57.2-37.5 90.3-13 41.3-45.8 28-45.8 101 0 57.5 111.8 79 162.3 27.2 31-31.7 72.1-13.8 118-27.2 66.1-19 52.2-130-19.4-130-53.9 0-61.5-17-67.6-34.2Z' opacity='.6'/%3E%3Cpath stroke='%231F292E' stroke-width='2' d='M80 242h440'/%3E%3Cpath fill='%231F292E' stroke='%231F292E' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M156.8 260.3V134h140.5l18.5 120.7-159 5.6Z'/%3E%3Cpath fill='%23fff' stroke='%231F292E' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='m139 134.4 17.8-.4v126.3L124 241l15-106.5Z'/%3E%3Cpath stroke='%231F292E' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='m150.7 134.9-2.6 115m-3.8-115.5-4.8 65.1m-3 20.7-3 25.9m23.3-96.6 142.2-.8'/%3E%3Ccircle cx='165' cy='141.3' r='2.2' fill='%23FF6161'/%3E%3Ccircle cx='172.7' cy='141.3' r='2.2' fill='%23FFD361'/%3E%3Ccircle cx='180.5' cy='141.3' r='2.2' fill='%237BECB6'/%3E%3Cpath fill='%23fff' stroke='%231F292E' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='m301.8 244.2-107 25.4a2 2 0 0 1-1.7-.3c-38.9-29-36-119.8-36-119.8l142.4-.8s7 37.9 23.5 49.4c1 .7.5 3.8-.6 3.9l-5 .4a1 1 0 0 0-.8 1.5l3.2 5.9a1 1 0 0 1-1.2 1.4l-11.7-4a1 1 0 0 0-1.3 1.4l1.8 3.6a1 1 0 0 1-1 1.4l-19-1.3c-1 0-1.5 1.2-.7 1.8l10.7 7.8a1 1 0 0 1 0 1.7l-3.4 2a1 1 0 0 0-.3 1.5l3.8 4.7a1 1 0 0 1-.6 1.7l-7.2 1.2a1 1 0 0 0-.2 2l12.5 5.6a1 1 0 0 1-.2 1.9Z'/%3E%3Cpath fill='%23F33' d='m226.1 198.2-1-13.2a.3.3 0 0 1 .2-.3l7-.5a.3.3 0 0 1 .3.2l1 13.2a.3.3 0 0 1-.2.3l-7 .6a.3.3 0 0 1-.3-.3Zm12.3-1-1-13.2a.3.3 0 0 1 .2-.3l7-.5a.3.3 0 0 1 .3.2l1 13.2a.3.3 0 0 1-.2.3l-7 .5a.3.3 0 0 1-.3-.2Zm19.7-15.2a.3.3 0 0 1 .3.3l.9 10.4v3a22.2 22.2 0 0 1-11.2 18.1.3.3 0 0 1-.4-.1l-3.4-6.1a.3.3 0 0 1 .2-.4c4.7-2.8 7.7-8 7.2-13.9l-.8-10.4a.3.3 0 0 1 .2-.3l7-.6Z'/%3E%3Cpath fill='%23fff' d='m378.8 208.7-6.5-1.8c-6.5-3.2-19.5-8.3-19.5-3.5 0 6.1.9 24 12.6 40a121.7 121.7 0 0 1 16.9 35.1l79-28.2v-33.8s17.7-46 17.7-53.5-14-5-20.5 4.5-7 13-7 13c-5.5-9-11.5-8.2-15-6.6-3.8-5.2-13.1-8.2-17.3-9-4.2-9.8-12.2-11-15.6-10.5l-15.7 3-4.3 30.9 17.4-7.9c1.7 5.4 3.9 18-1.3 25.2-5.2 7.3-11.2 8.3-13.5 7.8l-7.4-4.7Z'/%3E%3Cpath stroke='%231F292E' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M400.7 181.2c-3.5 1.6-10.7 5.1-15.7 4.3-6.3-1-12.7-13.1 5.9-25.9s33.7-2.9 35.7 37.2'/%3E%3Cpath stroke='%231F292E' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M421 166.5c3.7 0 10.7-1.5 16 6.8m6.5 29.4c-.7-15.3-3.3-24.2-6.5-29.4m0 0c4-1 10.3.2 14.9 7.6m5.3 25.7c0-12.5-2.2-20.6-5.3-25.7m0 0c2.6-7.4 11.2-26 22.4-22.2 16.2 5.3-13.7 36.6-14.1 73.3a571 571 0 0 0 4.4 73.8'/%3E%3Cpath fill='%23fff' stroke='%231F292E' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='m383.9 206-51.3-27.4c-.9-.5-.6-1.9.5-2l18.9-.6a1 1 0 0 0 .7-1.6l-6.9-9.9a1 1 0 0 1 1-1.5l8.3 2a1 1 0 0 0 1.2-1.1l-1.4-7.6a1 1 0 0 1 1.6-1l10.6 8.4a1 1 0 0 0 1.6-1l-5.1-18c-.3-1.1 1.1-1.8 1.8-1l8 11a1 1 0 0 0 1.8-.4l3.8-12a1 1 0 0 1 1.7-.4l5 4.9a1 1 0 0 0 1.4-.1l9.4-11.2c.6-.8 2-.2 1.7.8l-12.9 69a1 1 0 0 1-1.4.8Z'/%3E%3Cpath fill='%23fff' d='m370.1 177.8 4.4 4.4.4 8.7.9 10.8L380 215l4.4 13.2-30.4-10.4-.9-16.5 4-15.2 7.3-8.3h5.6Z'/%3E%3Cpath stroke='%231F292E' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M398.7 175.8c3.7 7.6 9.4 27.5-4.9 35.6-10.3 6-20-2.9-18.6-20.5 1.5-17.6-13.6-17-19-2.4-12 32.7 13.7 58.6 19.5 72.3 5.9 13.7 8.8 23 10.8 51.3'/%3E%3Cpath fill='%23FF6161' fill-rule='evenodd' d='M410 106.7Zm.9 3.8a24.1 24.1 0 0 1-1 2.7c-.3.8-2 2.2-3.7 2.7-.8 0 .2-.5 1-1.7l.9-1.8a22.7 22.7 0 0 0 1.5-5.4 5.4 5.4 0 0 1 .3-1l.2-.3.6-.3c.3 0 .6 0 .8.2.2.1.3.3.3.4l.1.4v.7a8.3 8.3 0 0 0 .3 1.8 1 1 0 0 0 .2 0c.4-.1 1-.5 2-1.3l.2-.3.4-.2a1 1 0 0 1 1 .2c.4.2.4.6.5.7l-.1.8a10.7 10.7 0 0 1-.4 1.1c-.3.9-.7 2-.8 2.8v1.2l.2.2 1.7-.2c.9-.3 2.1-.9 3.7-1.8.3-.2.5-.3.8-.3.3 0 .7-.1 1 .2.5.3.6.7.6 1 0 .4 0 .7-.2 1-.7 1.5-1.9 3.8-1.8 6.2.1 2.4 1.4 5 5.9 7.3.4.2.7.6 1 1v.3a1 1 0 0 1-.8 1.3 1.4 1.4 0 0 1-.5 0l-1.1-.3c-2-.6-6-.4-9.4.8-1.3.5-1.4.4-.3-.4 1.9-1.2 5-2.9 8.2-2.5a7.9 7.9 0 0 1-5-7.4c0-2.2.6-4.3 1.3-5.8-1 .6-2 1-2.8 1.3a5 5 0 0 1-2.8.2 2 2 0 0 1-1.6-1.5c-.2-.7-.2-1.4 0-2 0-.7.2-1.3.4-2a4.3 4.3 0 0 1-.5.3c-.8.3-1.6.3-2.3-.3Zm1.3-1.5Z' clip-rule='evenodd'/%3E%3Cdefs%3E%3ClinearGradient id='a' x1='427.5' x2='219.7' y1='147.8' y2='310.6' gradientUnits='userSpaceOnUse'%3E%3Cstop stop-color='%23EDF8FF'/%3E%3Cstop offset='1' stop-color='%23FAEFFF'/%3E%3C/linearGradient%3E%3C/defs%3E%3C/svg%3E",ie="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='600' height='320' fill='none'%3E%3Cpath fill='url(%23a)' d='M332.3 78.2a71 71 0 0 0-110-27.1c-35.6 37.9-27 57.2-37.5 90.3-13 41.3-45.8 28-45.8 101 0 57.5 111.8 79 162.3 27.2 31-31.7 72.1-13.8 118-27.2 66.1-19 52.2-130-19.4-130-53.9 0-61.5-17-67.6-34.2Z' opacity='.6'/%3E%3Cpath stroke='%231F292E' stroke-width='2' d='M80 242h440'/%3E%3Cpath fill='%231F292E' stroke='%231F292E' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M156.8 260.3V134h140.5l18.5 120.7-159 5.6Z'/%3E%3Cpath fill='%23fff' stroke='%231F292E' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='m139 134.4 17.8-.4v126.3L124 241l15-106.5Z'/%3E%3Cpath stroke='%231F292E' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='m150.7 134.9-2.6 115m-3.8-115.5-4.8 65.1m-3 20.7-3 25.9m23.3-96.6 142.2-.8'/%3E%3Cpath fill='%23FF6161' d='M165 143.5a2.2 2.2 0 1 0 0-4.3 2.2 2.2 0 0 0 0 4.3Z'/%3E%3Cpath fill='%23FFD361' d='M172.7 143.5a2.2 2.2 0 1 0 0-4.3 2.2 2.2 0 0 0 0 4.3Z'/%3E%3Cpath fill='%237BECB6' d='M180.5 143.5a2.2 2.2 0 1 0 0-4.3 2.2 2.2 0 0 0 0 4.3Z'/%3E%3Cpath fill='%23fff' stroke='%231F292E' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='m301.6 241.5-107 25.4a2 2 0 0 1-1.6-.3c-39-29-36-119.7-36-119.7l142.3-.9s7 37.9 23.6 49.5c1 .6.5 3.7-.7 3.8l-5 .5a1 1 0 0 0-.9 1l.1.4 3.2 6a1 1 0 0 1-1.2 1.3l-11.7-4a1 1 0 0 0-1.2 1.4l1.7 3.7a1 1 0 0 1-1 1.4l-19-1.4a1 1 0 0 0-.6 1.8l10.7 7.9a1 1 0 0 1-.1 1.6l-3.4 2.1a1 1 0 0 0-.4.7 1 1 0 0 0 .2.8l3.8 4.7a1 1 0 0 1-.6 1.6l-7.2 1.3a1 1 0 0 0-.3 1.9l12.5 5.6a1 1 0 0 1-.2 2Z'/%3E%3Cpath fill='%23fff' d='m378.8 208.7-6.5-1.8c-6.5-3.2-19.5-8.3-19.5-3.5 0 6.1.9 24 12.6 40a121.7 121.7 0 0 1 16.9 35.1l79-28.2v-33.8s17.7-46 17.7-53.5-14-5-20.5 4.5-7 13-7 13c-5.5-9-11.5-8.2-15-6.6-3.8-5.2-13.1-8.2-17.3-9-4.2-9.8-12.2-11-15.6-10.5l-15.7 3-4.3 30.9 17.4-7.9c1.7 5.4 3.9 18-1.3 25.2-5.2 7.3-11.2 8.3-13.5 7.8l-7.4-4.7Z'/%3E%3Cpath stroke='%231F292E' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M400.7 181.2c-3.5 1.6-10.7 5.1-15.7 4.3-6.3-1-12.7-13.1 5.9-25.9 18.5-12.7 33.7-2.9 35.7 37.2'/%3E%3Cpath stroke='%231F292E' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M421 166.5c3.7 0 10.7-1.5 16 6.8m0 0c3.2 5.2 5.8 14 6.5 29.4m-6.5-29.4c4-1 10.3.2 14.9 7.6m0 0a49.3 49.3 0 0 1 5.3 25.7m-5.3-25.7c2.6-7.4 11.2-26 22.4-22.2 16.2 5.3-13.7 36.6-14.1 73.3a571 571 0 0 0 4.4 73.8'/%3E%3Cpath fill='%23fff' stroke='%231F292E' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='m383.9 206-51.3-27.4c-.9-.5-.6-1.9.5-2l18.9-.6a1 1 0 0 0 1-1.1c0-.2-.2-.4-.3-.5l-6.9-9.9a1 1 0 0 1 1-1.5l8.3 2a1 1 0 0 0 1.2-1.1l-1.4-7.6a1 1 0 0 1 1.6-1l10.6 8.4a1 1 0 0 0 1.6-1l-5.1-18c-.3-1.1 1.1-1.8 1.8-1l8 11a1 1 0 0 0 1.8-.4l3.8-12a1 1 0 0 1 1.7-.4l5 4.9a1 1 0 0 0 1.1.1l.3-.2 9.4-11.2c.6-.8 2-.2 1.7.8l-12.9 69a1 1 0 0 1-.5.8 1 1 0 0 1-1 0Z'/%3E%3Cpath fill='%23fff' d='m370.1 177.8 4.4 4.4.4 8.7.9 10.8L380 215l4.4 13.2-30.4-10.4-.9-16.5 4-15.2 7.3-8.3h5.6Z'/%3E%3Cpath stroke='%231F292E' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M398.7 175.8c3.7 7.6 9.4 27.5-4.9 35.6-10.3 6-20-2.9-18.6-20.5 1.5-17.6-13.6-17-19-2.4-12 32.7 13.7 58.6 19.5 72.3 5.9 13.7 8.8 23 10.8 51.3'/%3E%3Cpath fill='%23FF6161' fill-rule='evenodd' d='m410.9 110.5-1 2.7c-.3.8-2 2.2-3.7 2.7-.8 0 .2-.5 1-1.7l.9-1.8a22.7 22.7 0 0 0 1.7-6.1l.1-.3.2-.3.6-.3c.3 0 .6 0 .8.2.2.1.3.3.3.4l.1.4v.7a8.3 8.3 0 0 0 .3 1.8h.2c.4-.1 1-.5 2-1.3l.2-.3.4-.2a1 1 0 0 1 1 .2c.4.2.4.6.5.7l-.1.8a10.7 10.7 0 0 1-.4 1.1c-.3.9-.7 2-.8 2.8v1.2l.2.2 1.7-.2c.9-.3 2.1-.9 3.7-1.8.3-.2.5-.3.8-.3.3 0 .7-.1 1 .2.5.3.6.7.6 1 0 .4 0 .7-.2 1-.7 1.5-1.9 3.8-1.8 6.2.1 2.4 1.4 5 5.9 7.3.4.2.7.6 1 1v.3a1 1 0 0 1-.8 1.3h-.5l-1.1-.3c-2-.6-6-.4-9.4.8-1.3.5-1.4.4-.3-.4 1.9-1.2 5-2.9 8.2-2.5a7.9 7.9 0 0 1-5-7.4c0-2.2.6-4.3 1.3-5.8-1 .6-2 1-2.8 1.3a5 5 0 0 1-2.8.2 2 2 0 0 1-1.6-1.5c-.2-.7-.2-1.4 0-2 0-.7.2-1.3.4-2l-.5.3c-.8.3-1.6.3-2.3-.3Zm1.3-1.5Z' clip-rule='evenodd'/%3E%3Cmask id='b' fill='%23fff'%3E%3Cpath fill-rule='evenodd' d='m228.2 205.7-1.5-22.6-6.6.1 1.5 22.7 6.6-.2Zm-.8-23.4-8.1.2 1.6 24.2 8-.2-1.5-24.2Z' clip-rule='evenodd'/%3E%3C/mask%3E%3Cpath fill='%23fff' fill-rule='evenodd' d='m228.2 205.7-1.5-22.6-6.6.1 1.5 22.7 6.6-.2Zm-.8-23.4-8.1.2 1.6 24.2 8-.2-1.5-24.2Z' clip-rule='evenodd'/%3E%3Cpath fill='%23000' d='M226.7 183h1.1v-1h-1.2v1.2Zm1.5 22.7v1.2h1.2v-1.2h-1.2Zm-8-22.5-.1-1.1h-1.2v1.2h1.2Zm1.4 22.7h-1.1v1.2h1.2v-1.2Zm5.8-23.6h1.2l-.1-1.2h-1.2v1.2Zm-8.1.2v-1.2H218l.1 1.2h1.2Zm1.6 24.2h-1.2l.1 1.2h1.2v-1.2Zm8-.2.2 1.2h1.1v-1.3H229Zm-3.4-23.4 1.5 22.7 2.3-.1-1.5-22.7-2.3.1Zm-5.3 1.3 6.5-.2-.1-2.3-6.5.2.1 2.3Zm2.6 21.5-1.5-22.7H219l1.5 22.7h2.3Zm5.3-1.3-6.5.1.1 2.4 6.5-.2-.1-2.3Zm-1.9-22.3 1.6 24.2h2.4l-1.6-24.3-2.4.1Zm-6.8 1.4 8-.3v-2.3l-8.2.2.2 2.4Zm2.7 23-1.6-24.2H218l1.6 24.2h2.4Zm6.8-1.4-8 .2v2.4l8.2-.2-.2-2.4Z' mask='url(%23b)'/%3E%3Cpath fill='%232E03A0' d='M225.2 210.6a4.2 4.2 0 0 1-4.3-4c-.1-2.1 1.5-4 3.8-4a4.3 4.3 0 0 1 4.3 3.9 4 4 0 0 1-3.8 4.1Z'/%3E%3Cpath fill='%23000' fill-rule='evenodd' d='M221.7 206.7a3.4 3.4 0 0 0 3.5 3.1c1.8 0 3.1-1.5 3-3.3a3.4 3.4 0 0 0-3.5-3.2 3.1 3.1 0 0 0-3 3.4Zm-.8 0c.2 2.2 2 4 4.3 4a4 4 0 0 0 3.8-4.2c-.2-2.3-2-4-4.3-4-2.3.1-4 2-3.8 4.2Z' clip-rule='evenodd'/%3E%3Cpath fill='%23fff' d='m226.7 180.2 13.5 20.7-6.7 4.2-13.6-20.6 6.8-4.3Z'/%3E%3Cpath fill='%23000' fill-rule='evenodd' d='m239.1 200.6-12.6-19.3-5.5 3.4 12.7 19.3 5.4-3.4Zm-12.4-20.4-6.8 4.3 13.6 20.6 6.7-4.2-13.5-20.7Z' clip-rule='evenodd'/%3E%3Cpath fill='%23fff' d='M223.6 186.4a4.2 4.2 0 0 1-4.3-4c-.1-2.1 1.5-4 3.8-4a4.2 4.2 0 0 1 4.3 3.9 4 4 0 0 1-3.8 4.1Z'/%3E%3Cpath fill='%23000' fill-rule='evenodd' d='M220 182.5a3.4 3.4 0 0 0 3.6 3.2c1.8 0 3.1-1.6 3-3.4a3.4 3.4 0 0 0-3.5-3.2 3.1 3.1 0 0 0-3 3.4Zm-.7 0c.2 2.2 2 4 4.3 4a4 4 0 0 0 3.8-4.2c-.2-2.3-2-4-4.3-4-2.3.1-4 2-3.8 4.2Z' clip-rule='evenodd'/%3E%3Cpath fill='%2313C1FF' d='m243.5 181.9 1.6 24.2 8.1-.3-1.6-24.2-8 .3Z'/%3E%3Cpath fill='%23000' fill-rule='evenodd' d='m245.8 205.3-1.5-22.7 6.6-.2 1.5 22.7-6.6.2Zm-2.3-23.4 8.1-.3 1.6 24.2-8 .3-1.7-24.2Z' clip-rule='evenodd'/%3E%3Cpath fill='%2306CF13' d='M249.4 210c2.3 0 4-2 3.8-4.2-.1-2.2-2-4-4.3-3.9-2.2 0-4 2-3.8 4.2.2 2.2 2 4 4.3 3.9Z'/%3E%3Cpath fill='%23000' fill-rule='evenodd' d='M252.4 205.9a3.1 3.1 0 0 1-3 3.3 3.4 3.4 0 0 1-3.5-3.2 3.1 3.1 0 0 1 3-3.3c1.8 0 3.4 1.4 3.5 3.2Zm.8 0c.1 2.2-1.5 4-3.8 4a4.2 4.2 0 0 1-4.3-3.8 4 4 0 0 1 3.8-4.2c2.2 0 4.2 1.7 4.3 4Z' clip-rule='evenodd'/%3E%3Cpath fill='%23FA52D6' d='M244 179.8 233.2 201l7.3 3.8 10.7-21.3-7.2-3.8Z'/%3E%3Cpath fill='%23000' fill-rule='evenodd' d='m234.3 200.8 10-20 5.9 3.1-10 20-6-3.1Zm9.7-21 7.2 3.8-10.7 21.3-7.3-3.8 10.8-21.3Z' clip-rule='evenodd'/%3E%3Cpath fill='red' d='M235 206.5c2 1.1 4.5.4 5.5-1.6s.1-4.4-1.9-5.5a4 4 0 0 0-5.4 1.7 4 4 0 0 0 1.9 5.4Z'/%3E%3Cpath fill='%23000' fill-rule='evenodd' d='M239.8 204.5a3.2 3.2 0 0 1-4.4 1.4 3.3 3.3 0 0 1-1.5-4.5 3.2 3.2 0 0 1 4.4-1.3c1.6.9 2.3 2.9 1.5 4.4Zm.7.4a4 4 0 0 1-5.4 1.6c-2-1-2.9-3.5-1.9-5.4a4 4 0 0 1 5.4-1.7c2 1.1 2.9 3.6 1.9 5.5Z' clip-rule='evenodd'/%3E%3Cpath fill='%23FFC400' d='M247.8 185.8c2.3 0 4-2 3.8-4.2-.2-2.2-2-4-4.3-3.9-2.2 0-4 2-3.8 4.2.2 2.2 2 4 4.3 3.9Z'/%3E%3Cpath fill='%23000' fill-rule='evenodd' d='M250.8 181.7a3.1 3.1 0 0 1-3 3.3 3.4 3.4 0 0 1-3.5-3.2 3.1 3.1 0 0 1 3-3.3c1.9 0 3.4 1.3 3.5 3.2Zm.8 0c.1 2.2-1.5 4-3.8 4a4.2 4.2 0 0 1-4.3-3.8 4 4 0 0 1 3.8-4.2c2.2 0 4.1 1.7 4.3 4Z' clip-rule='evenodd'/%3E%3Cdefs%3E%3ClinearGradient id='a' x1='427.5' x2='219.7' y1='147.8' y2='310.6' gradientUnits='userSpaceOnUse'%3E%3Cstop stop-color='%23EDF8FF'/%3E%3Cstop offset='1' stop-color='%23FAEFFF'/%3E%3C/linearGradient%3E%3C/defs%3E%3C/svg%3E";function B(C){const{className:L,source:Z,rotate:u,width:k,height:T,onClick:X}=C,y={msTransform:"rotate("+u+"deg)",transform:"rotate("+u+"deg)",width:k,height:T};return(0,z.jsx)("img",{className:L,src:Z,style:y,onClick:X})}B.propTypes={className:p().string,source:p().string.isRequired,width:p().number,height:p().number,rotate:p().number,onClick:p().func};const pe=B,V=403,G=404,I=[500,501,502,503,504,505],v="link_expired";var S=n(63938);function g(C,L,Z){return(L=f(L))in C?Object.defineProperty(C,L,{value:Z,enumerable:!0,configurable:!0,writable:!0}):C[L]=Z,C}function f(C){var L=h(C,"string");return typeof L=="symbol"?L:L+""}function h(C,L){if(typeof C!="object"||!C)return C;var Z=C[Symbol.toPrimitive];if(Z!==void 0){var u=Z.call(C,L||"default");if(typeof u!="object")return u;throw new TypeError("@@toPrimitive must return a primitive value.")}return(L==="string"?String:Number)(C)}class b extends M.PureComponent{constructor(){super(...arguments),g(this,"typeText",{title_403:{"zh-CN":"\u5BF9\u4E0D\u8D77\uFF0C\u4F60\u6CA1\u6709\u8BBF\u95EE\u6743\u9650",en:"Permission denied",jp:""},des_403_0:{"zh-CN":(0,z.jsx)(z.Fragment,{children:(0,z.jsxs)("p",{className:"proposal",children:["\u5F53\u524D\u8D26\u53F7\u662F ",(0,z.jsx)("span",{className:"count-detail",children:this.props.account}),"\uFF0C\u6CA1\u6709\u8BBF\u95EE\u8BE5\u6587\u6863\u7684\u6743\u9650"]})}),en:(0,z.jsx)(z.Fragment,{children:(0,z.jsxs)("p",{className:"proposal",children:["Current account ",(0,z.jsx)("span",{className:"count-detail",children:this.props.account}),", permission denied."]})}),jp:""},des_403_1:{"zh-CN":(0,z.jsx)(z.Fragment,{children:(0,z.jsxs)("p",{className:"proposal",children:["\u5F53\u524D\u8D26\u53F7\u662F ",(0,z.jsx)("span",{className:"count-detail",children:this.props.account}),"\uFF0C\u6CA1\u6709\u8BBF\u95EE\u8BE5\u6587\u6863\u7684\u6743\u9650\uFF0C\u8BF7\u8054\u7CFB\u5206\u4EAB\u8005\u4FEE\u6539\u8BBF\u95EE\u6743\u9650"]})}),en:(0,z.jsx)(z.Fragment,{children:(0,z.jsxs)("p",{className:"proposal",children:["Current account ",(0,z.jsx)("span",{className:"count-detail",children:this.props.account}),", permission denied. Please contact administrator."]})}),jp:""},des_403_2:{"zh-CN":"\u60A8\u8FD8\u6CA1\u6709\u767B\u5F55\uFF0C\u8BF7\u767B\u5F55\u540E\u5C1D\u8BD5\u8BBF\u95EE",en:"You are not logged in. Please log in and try again.",jp:""},des_403_3:{"zh-CN":"\u5F53\u524D\u8D26\u53F7\u662F "+this.props.account+"\uFF0C\u6587\u4EF6\u6570\u8D85\u9650\uFF0C\u5347\u7EA7\u540E\u5373\u53EF\u7F16\u8F91",en:"Current account "+this.props.account+", permission denied.",jp:""},des_403_4:{"zh-CN":"\u5F53\u524D\u8D26\u53F7\u662F "+this.props.account+"\uFF0C\u4F01\u4E1A\u7248\u8FC7\u671F\uFF0C\u5347\u7EA7\u540E\u5373\u53EF\u7F16\u8F91",en:"Current account "+this.props.account+", permission denied. Please contact administrator. ",jp:""},title_404:{"zh-CN":"\u5F88\u62B1\u6B49\uFF0C\u627E\u4E0D\u5230\u6587\u4EF6",en:"Sorry, there is no visible page.",jp:""},des_404:{"zh-CN":"\u6587\u4EF6\u53EF\u80FD\u5DF2\u88AB\u5220\u9664\uFF0C\u8BF7\u8054\u7CFB\u5206\u4EAB\u8005\u83B7\u53D6\u65B0\u7684\u5206\u4EAB\u94FE\u63A5",en:"The page may have been deleted. Please contact the sharer to inquire about the link status.",jp:""},title_link_expired:{"zh-CN":"\u5F88\u62B1\u6B49\uFF0C\u94FE\u63A5\u5931\u6548",en:"Sorry, the link is invalid",jp:""},des_link_expired:{"zh-CN":"\u94FE\u63A5\u53EF\u80FD\u5DF2\u88AB\u5220\u9664\u6216\u8005\u8BBE\u7F6E\u6709\u8BEF\uFF0C\u8BF7\u8054\u7CFB\u5206\u4EAB\u8005\u83B7\u53D6\u6700\u65B0\u5206\u4EAB\u94FE\u63A5",en:"The link may have been deleted or set incorrectly. Please contact the sharer to obtain the latest link.",jp:""},title_5xx:{"zh-CN":"\u5F88\u62B1\u6B49\uFF0C\u65E0\u6CD5\u8FDE\u63A5\u58A8\u5200\u670D\u52A1\u5668",en:"Sorry, unable to connect to Mockitt server",jp:""},des_5xx:{"zh-CN":(0,z.jsxs)("div",{className:"proposal text-left",children:[(0,z.jsx)("p",{children:"\u8BF7\u5C1D\u8BD5\u4EE5\u4E0B\u65B9\u6CD5\uFF1A"}),(0,z.jsxs)("ul",{className:"text-list",children:[(0,z.jsx)("li",{children:"\u5982\u679C\u60A8\u5F00\u4E86\u7F51\u7EDC\u4EE3\u7406\uFF08VPN\uFF09\uFF0C\u5EFA\u8BAE\u60A8\u5B8C\u5168\u5173\u95ED\u540E\u518D\u5237\u65B0\u58A8\u5200"}),(0,z.jsx)("li",{children:"\u5982\u679C\u4E0D\u662F\u4E0A\u8FF0\u539F\u56E0\u5BFC\u81F4\u7684\uFF0C\u8BF7\u60A8\u8FDE\u63A5\u624B\u673A\u70ED\u70B9\u6216\u5207\u6362\u53E6\u4E00\u4E2A\u7F51\u7EDC"})]}),(0,z.jsx)("p",{children:"\u82E5\u4F9D\u65E7\u65E0\u6CD5\u6B63\u5E38\u8FDB\u5165\u58A8\u5200\uFF0C\u8BF7\u8054\u7CFB\u5BA2\u670D"})]}),en:(0,z.jsxs)("div",{className:"proposal text-left",children:[(0,z.jsx)("p",{children:"Please try the following methods:"}),(0,z.jsxs)("ul",{className:"text-list",children:[(0,z.jsx)("li",{children:"If your VPN is on, please turn it off then refresh Mockitt."}),(0,z.jsx)("li",{children:"If not, please switch to another network."})]}),(0,z.jsx)("p",{children:"If the problem stays, please contact support."})]}),jp:""},title_0:{"zh-CN":"\u5F88\u62B1\u6B49\uFF0C\u9875\u9762\u5D29\u6E83\u4E86",en:"Sorry, this page is corrupted",jp:""},des_0:{"zh-CN":"\u8BF7\u5C1D\u8BD5\u5237\u65B0\u9875\u9762\u6216\u5173\u95ED\u518D\u91CD\u65B0\u6253\u5F00\u58A8\u5200\uFF0C\u82E5\u65E0\u6CD5\u89E3\u51B3\u8BF7\u8054\u7CFB\u5BA2\u670D",en:"Please refresh this page or close this page and start Mockitt again. If the problem stays, please contact  support.",jp:""},previewFile:{"zh-CN":"\u9884\u89C8\u6587\u4EF6",en:"Preview File",jp:""},goHome:{"zh-CN":"\u8FD4\u56DE\u58A8\u5200\u9996\u9875",en:"Back to Homepage",jp:""},reloadPage:{"zh-CN":"\u5237\u65B0\u9875\u9762",en:"Refresh this page",jp:""},contactUs:{"zh-CN":"\u8054\u7CFB\u5BA2\u670D",en:"Support",jp:""}}),g(this,"clickGoHome",()=>{let L="",{locale:Z,homeUrl:u}=this.props;Z==="zh-CN"?L=u:Z==="jp"?L="https://mockitt.wondershare.jp":L="https://mockitt.wondershare.com",window.top!==window.self?window.top.location.replace(L):location.replace(L)}),g(this,"clickReloadPage",()=>{window.location.reload()}),g(this,"clickContactUs",()=>{let L="",{locale:Z}=this.props;if(Z==="zh-CN"){document.getElementById("mdOnlineSupport")&&document.getElementById("mdOnlineSupport").click();return}else Z==="jp"?L="https://support.wondershare.jp":L="https://support.wondershare.com/product/mockitt.html";window.open(L)}),g(this,"getErrorConfig",()=>{const{errorType:L,primaryBtnText:Z,primaryBtnClick:u,secondaryBtnText:k,secondaryBtnClick:T,locale:X}=this.props,{typeText:y,clickGoHome:A,clickContactUs:se,clickReloadPage:ee}=this;let ne,te,fe="",De=null,Ye;const je={text:y.goHome[X],click:A},Re={text:y.reloadPage[X],click:ee},mt={text:y.contactUs[X],click:se};switch(!0){case L===V:ne=je.text,te=je.click,Ye=R;break;case L===G:ne=je.text,te=je.click,Ye=q;break;case L===v:ne=je.text,te=je.click,Ye=q;break;case I.includes(L):ne=Re.text,te=Re.click,fe=mt.text,De=mt.click,Ye=N;break;default:ne=Re.text,te=Re.click,fe=mt.text,De=mt.click,Ye=X==="en"?ie:F;break}return Z&&(ne=Z),u&&(te=u),k&&(fe=k),T&&(De=T),{svgBg:Ye,primaryText:ne,primaryClick:te,secondaryText:fe,secondaryClick:De}}),g(this,"getErrorInfo",()=>{const{errorType:L,identity:Z,locale:u,customTitle:k,customDes:T,account:X}=this.props,{typeText:y}=this;let A,se;if(k)A=k;else{const ee=I.includes(L)?"title_5XX":"title_"+L;A=y[ee]?y[ee][u]:y.title_0[u]}if(T)se=T;else{let ee="des_"+L;L===V?ee=X?"des_"+L+"_"+Z:"des_"+L+"_2":I.includes(L)?ee="des_5xx":L===v&&(ee="des_link_expired"),se=y[ee]?y[ee][u]:y.des_link_expired[u]}return{title:A,desc:se}}),g(this,"handleClickLogo",()=>{let{isLogoClickable:L,logoUrl:Z}=this.props;L&&(window.top!==window.self?window.top.location.href=Z:window.location.href=Z)})}render(){const{locale:L,isShowPrimaryBtn:Z,isShowSecondaryBtn:u,isLogoClickable:k,previewFileBtnClick:T}=this.props,{typeText:X}=this,{svgBg:y,primaryText:A,primaryClick:se,secondaryText:ee,secondaryClick:ne}=this.getErrorConfig(),{title:te,desc:fe}=this.getErrorInfo();return(0,z.jsxs)(Q,{children:[(0,z.jsx)("div",{className:"logo",children:(0,z.jsx)("span",{className:k?"logo-clickable":"",onClick:this.handleClickLogo,children:(0,z.jsx)(pe,{source:y})})}),(0,z.jsxs)("div",{className:"content",children:[(0,z.jsx)("p",{className:"title",children:te}),typeof fe=="string"?(0,z.jsx)("p",{className:"proposal",children:fe}):fe]}),(0,z.jsxs)("div",{className:"btn-list",children:[u&&ne&&ee&&(0,z.jsx)("a",{className:"btn regular",onClick:ne,children:ee}),T&&(0,z.jsx)("a",{className:"btn regular",onClick:T,children:X.previewFile[L]}),Z&&se&&A&&(0,z.jsx)("a",{className:"btn primary",onClick:se,children:A}),ee===X.contactUs[L]&&(0,z.jsx)(S.A,{})]})]})}}g(b,"propTypes",{locale:p().oneOf(["zh-CN","en","jp"]),identity:p().oneOf([0,1]),customTitle:p().string,customDes:p().string,isShowPrimaryBtn:p().bool,primaryBtnText:p().string,primaryBtnClick:p().func,isShowSecondaryBtn:p().bool,secondaryBtnText:p().string,secondaryBtnClick:p().func,errorType:p().oneOf([0,403,404,500,501,502,503,504,505,v]).isRequired,account:p().string,isLogoClickable:p().bool,logoUrl:p().string,homeUrl:p().string}),g(b,"defaultProps",{locale:"zh-CN",isShowPrimaryBtn:!0,isShowSecondaryBtn:!0,identity:0,errorType:0,isLogoClickable:!0,logoUrl:"/",homeUrl:"/workspace/home"})},58315:(Ce,ae,n)=>{"use strict";n.d(ae,{A:()=>pe});var s=n(94586),p=n(8509),M=n(18941);function d(V,G){return V.classList?!!G&&V.classList.contains(G):(" "+(V.className.baseVal||V.className)+" ").indexOf(" "+G+" ")!==-1}function D(V,G){V.classList?V.classList.add(G):d(V,G)||(typeof V.className=="string"?V.className=V.className+" "+G:V.setAttribute("class",(V.className&&V.className.baseVal||"")+" "+G))}function Q(V,G){return V.replace(new RegExp("(^|\\s)"+G+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function z(V,G){V.classList?V.classList.remove(G):typeof V.className=="string"?V.className=Q(V.className,G):V.setAttribute("class",Q(V.className&&V.className.baseVal||"",G))}var R=n(38502),q=n(96582),N=n(99129),F=function(G,I){return G&&I&&I.split(" ").forEach(function(v){return D(G,v)})},ie=function(G,I){return G&&I&&I.split(" ").forEach(function(v){return z(G,v)})},B=function(V){(0,M.A)(G,V);function G(){for(var v,S=arguments.length,g=new Array(S),f=0;f<S;f++)g[f]=arguments[f];return v=V.call.apply(V,[this].concat(g))||this,v.appliedClasses={appear:{},enter:{},exit:{}},v.onEnter=function(h,b){var C=v.resolveArguments(h,b),L=C[0],Z=C[1];v.removeClasses(L,"exit"),v.addClass(L,Z?"appear":"enter","base"),v.props.onEnter&&v.props.onEnter(h,b)},v.onEntering=function(h,b){var C=v.resolveArguments(h,b),L=C[0],Z=C[1],u=Z?"appear":"enter";v.addClass(L,u,"active"),v.props.onEntering&&v.props.onEntering(h,b)},v.onEntered=function(h,b){var C=v.resolveArguments(h,b),L=C[0],Z=C[1],u=Z?"appear":"enter";v.removeClasses(L,u),v.addClass(L,u,"done"),v.props.onEntered&&v.props.onEntered(h,b)},v.onExit=function(h){var b=v.resolveArguments(h),C=b[0];v.removeClasses(C,"appear"),v.removeClasses(C,"enter"),v.addClass(C,"exit","base"),v.props.onExit&&v.props.onExit(h)},v.onExiting=function(h){var b=v.resolveArguments(h),C=b[0];v.addClass(C,"exit","active"),v.props.onExiting&&v.props.onExiting(h)},v.onExited=function(h){var b=v.resolveArguments(h),C=b[0];v.removeClasses(C,"exit"),v.addClass(C,"exit","done"),v.props.onExited&&v.props.onExited(h)},v.resolveArguments=function(h,b){return v.props.nodeRef?[v.props.nodeRef.current,h]:[h,b]},v.getClassNames=function(h){var b=v.props.classNames,C=typeof b=="string",L=C&&b?b+"-":"",Z=C?""+L+h:b[h],u=C?Z+"-active":b[h+"Active"],k=C?Z+"-done":b[h+"Done"];return{baseClassName:Z,activeClassName:u,doneClassName:k}},v}var I=G.prototype;return I.addClass=function(S,g,f){var h=this.getClassNames(g)[f+"ClassName"],b=this.getClassNames("enter"),C=b.doneClassName;g==="appear"&&f==="done"&&C&&(h+=" "+C),f==="active"&&S&&(0,N.F)(S),h&&(this.appliedClasses[g][f]=h,F(S,h))},I.removeClasses=function(S,g){var f=this.appliedClasses[g],h=f.base,b=f.active,C=f.done;this.appliedClasses[g]={},h&&ie(S,h),b&&ie(S,b),C&&ie(S,C)},I.render=function(){var S=this.props,g=S.classNames,f=(0,p.A)(S,["classNames"]);return R.createElement(q.Ay,(0,s.A)({},f,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},G}(R.Component);B.defaultProps={classNames:""},B.propTypes={};const pe=B},59316:Ce=>{function ae(n,s,p,M){var d=-1,D=n==null?0:n.length;for(M&&D&&(p=n[++d]);++d<D;)p=s(p,n[d],d,n);return p}Ce.exports=ae},60690:(Ce,ae,n)=>{"use strict";n.d(ae,{A:()=>I});var s=n(18654),p=n(60719);const M="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAIAAABLbSncAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyhpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTQwIDc5LjE2MDQ1MSwgMjAxNy8wNS8wNi0wMTowODoyMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTggKE1hY2ludG9zaCkiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6RDkzNzZFN0RDODhFMTFFOEExOUJFNkQ0MTNFM0Q2OTYiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6RDkzNzZFN0VDODhFMTFFOEExOUJFNkQ0MTNFM0Q2OTYiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpEOTM3NkU3QkM4OEUxMUU4QTE5QkU2RDQxM0UzRDY5NiIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDpEOTM3NkU3Q0M4OEUxMUU4QTE5QkU2RDQxM0UzRDY5NiIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PktroGEAAAAoSURBVHjaYvz06RMDDPDy8sLZTAw4AOkSjP///4dzPn/+TAs7AAIMAG56COJosoI3AAAAAElFTkSuQmCC",d="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAYAAAGzCI4dAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAACKADAAQAAAABAAAACAAAAACVhHtSAAAAVklEQVQYGYWOMQ6AMAwD04ot7wJWyv+/kblgpIsqZcBDGtu1W9uPc9o17tk0IsKaJHe3rpGKvZAgbCxyhS+jBaOLrCiRciM7iNEFLwkMznwDge/BfxsegvIceOfO91wAAAAASUVORK5CYII=",D=Object.entries(p.f).reduce((v,S)=>{const g=S[0];return{...v,[g]:[p.f[g].value_light,p.f[g].value_dark||p.f[g].value_light]}},{}),Q=Object.entries(p.$).reduce((v,S)=>{const g=S[0];return{...v,[g]:[p.$[g].value_light,p.$[g].value_dark||p.$[g].value_light]}},{}),z=Object.entries(s.af).reduce((v,S)=>{var g;const f=S[0];return{...v,[f]:[s.af[f].value,((g=s.qY[f])==null?void 0:g.value)||s.af[f].value]}},{}),R=v=>{let S;const[g,f,h]=v,b=h!=null?h:g;return f==="light"?S=s.af[b].value:S=s.qY[b].value,{[g]:[S,S]}},N=[["color_tips_black","dark","color_ruler_shadow_color"]].reduce((S,g)=>{const f=R(g);return{...S,...f}},{}),V={...z,...N,...{loading_styles_bg:["linear-gradient(130deg, #f2f2f2 25%, #e6e6e6 37%, #f2f2f2 63%)","linear-gradient(118.3deg, #474848 1.71%, #363738 100%)"],float_nav_box_shadow:["0 4px 8px 0 rgba(39, 54, 78, 0.08), 0 4px 12px 0 rgba(39, 54, 78, 0.06)","0px 24px 38px rgba(0, 0, 0, 0.14), 0px 9px 46px rgba(0, 0, 0, 0.12), 0px 11px 15px rgba(0, 0, 0, 0.2)"],menu_content_shadow:["0 6px 16px -8px rgba(0,0,0,0.08), 0 9px 28px 0 rgba(0,0,0,0.05)","0px 24px 38px rgba(0, 0, 0, 0.14), 0px 9px 46px rgba(0, 0, 0, 0.12), 0px 11px 15px rgba(0, 0, 0, 0.2)"],shadow_1:["0 2px 8px 0 rgba(0, 0, 0, 0.1)","0 2px 6px 0 rgba(0,0,0,0.30), 0 10px 30px 0 rgba(0,0,0,0.15), inset 0 1px 0 0 #252626"],shadow_2:["0 2px 10px 0 rgba(39, 54, 78, 0.8), 0 12px 40px 0 rgba(39, 54, 78, 0.1)","0 24px 38px 3px rgba(0,0,0,0.14), 0 9px 46px 8px rgba(0,0,0,0.12), 0 11px 15px -7px rgba(0,0,0,0.20)"],shadow_3:["0 2px 8px 0 rgba(0, 0, 0, 0.1)","0 2px 7px 0 rgba(0, 0, 0, 0.26), 0 12px 36px 0 rgba(0, 0, 0, 0.1)"],shadow_4:["0 2px 10px 0 rgba(0, 0, 0, 0.12)","0 11px 15 px rgba(0, 0, 0, 0.2), 0 9 px 46px 0 rgba(0, 0, 0, 0.12)"],shadow_5:["0 2px 10px 0 rgba(0, 0, 0, 0.12)","0 24px 38px 3px rgba(0, 0, 0, 0.14), 0 9px 46px 8px rgba(0, 0, 0, 0.12), 0 11px 15px -7px rgba(0, 0, 0, 0.2)"],shadow_hover:["0 2px 4px rgba(0, 0, 0, 0.14)","0 2px 4px rgba(0, 0, 0, 0.46), 0 8px 16px rgba(0, 0, 0, 0.40)"],miss_font_box_shadow:["0 3px 10px rgba(0, 0, 0, 0.1)","0px 24px 38px rgba(0, 0, 0, 0.14), 0px 9px 46px rgba(0, 0, 0, 0.12), 0px 11px 15px rgba(0, 0, 0, 0.2)"],export_bar_box_shadow:["0 -4px 8px rgba(219, 219, 219, 0.4)","0 -4px 8px rgba(0, 0, 0, 0.35)"],sidebar_box_shadow:["0 2px 10px 0 rgba(39, 54, 78, 0.08), 0 12px 40px 0 rgba(39, 54, 78, 0.1)",""],interation_active_box_shadow:["0 0 4px 0 rgba(34, 162, 237, 0.66)"," 0 0 4px 0 rgba(41,141,248,0.50)"],modal_bg1:["linear-gradient(to bottom,#fafafa,#f5f5f5)","#4f5052"],modal_shadow:["0 2px 10px 0 rgba(0, 0, 0, 0.1), 0 12px 40px 0 rgba(0, 0, 0, 0.1)",""],comment_layer_box_shadow:["0 -2px 10px rgba(26, 58, 109, 0.12)","0 -24px 38px 3px rgba(0,0,0,0.14), 0 -9px 46px 8px rgba(0,0,0,0.12), 0 11px 15px -7px rgba(0,0,0,0.20)"],workspace_dropdown_menu_shadow:["0 2px 8px 0 rgba(0, 0, 0, 0.1)","0 2px 7px 0 rgba(0, 0, 0, 0.26), 0 12px 36px 0 rgba(0, 0, 0, 0.1)"],drag_sort_box_shadow:["0 1px 4px 0 rgba(0, 0, 0, 0.15)","0px 2px 4px rgba(0, 0, 0, 0.15)"],annotate_btn_shadow:["0 2px 6px rgba(39, 54, 78, 0.08)"," 0 6px 10px rgba(0, 0, 0, 0.22), 0px 13px 30px rgba(0, 0, 0, 0.146744)"],color_var_bind_point:["#DEDFE0","#4B4B4B"],bg_base64:[M,d],img_wrap_border_width:[1,2],fontPosition:["73px",0],disabled_opacity:[1,.5],footer_disabled_opacity:[1,.6]},...D,...Q,...{color_literal_number:["#015CC5","#218BFF"],color_literal_string:["#002155","#80CCFF"],color_literal_boolean:["#8250DF","#A475F9"],color_literal_operator:["#F23DD1","#E85AAD"]},...{expr_editor_string:["#002155","#80CCFF"],expr_editor_number:["#015CC5","#218BFF"],expr_editor_boolean:["#8250DF","#A475F9"],expr_editor_func:["#23863A","#2DA44E"],expr_editor_builtinVar:["#8250DF","#A475F9"]}},G=(v,S)=>{const g={};return Object.entries(v).forEach(f=>{let[h,b]=f;Array.isArray(b)?g[h]=b[S]:typeof b=="object"?g[h]=G(b,S):g[h]=b}),g},I={light:G(V,0),dark:G(V,1)}},60820:Ce=>{var ae=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;function n(s){return ae.test(s)}Ce.exports=n},61068:(Ce,ae,n)=>{"use strict";n.d(ae,{p:()=>F,A:()=>pe});var s=n(95549),p=n(38502),M=n(25582),d=n.n(M),D=n(63986),Q=n.n(D),z=n(17307),R=n(53732),q=n.n(R),N=n(67787);const F="checkbox-has-box",ie=N.Ay.label.withConfig({displayName:"styles__StyledCheck",componentId:"sc-gd8gcf-0"})(["position:relative;display:flex;align-items:center;cursor:pointer;color:",";> input[type=radio],> input[type=checkbox]{position:absolute;opacity:0;width:12px;height:12px;}.Check-state{position:relative;width:12px;height:12px;font-size:12px;display:flex;align-items:center;border:1px solid ",";border-radius:2px;transition:all 0.2s ease-in-out;background-color:",";flex-shrink:0;.icon{position:absolute;top:-1px;left:-1px;}}.Check-label{margin-left:0.33333em;color:",";}&.is-checked .Check-state{background-color:",";border:1px solid ",";color:#fff;.icon{transform:scale(0.833);color:#fff;}}&:not(.is-checked) .Check-state .icon{speak:none;opacity:0;}&.readonly,&.is-disabled{cursor:default;.Check-state{background:",";border:1px solid ",";.icon{color:",";}}}&.is-disabled{cursor:not-allowed;}&.","{input,.Check-state{margin:6px;transition:none;}.Check-label{margin-left:4px;}}"],V=>V.theme.color_text_L2,V=>V.theme.color_text_disabled01,V=>V.theme.color_bg_white,V=>V.theme.color_text_L2,V=>V.theme.color_proto,V=>V.theme.color_proto,V=>V.theme.color_btn_secondary_active,V=>V.theme.color_btn_secondary_active,V=>V.theme.color_text_disabled01,F);var B=n(72214);class pe extends p.PureComponent{constructor(){super(...arguments),(0,s.A)(this,"state",{prevProps:this.props,isChecked:this.props.isChecked}),(0,s.A)(this,"onToggle",G=>{const{name:I,value:v,label:S,onChange:g,onToggle:f,isDisabled:h,readOnly:b,attr:C}=this.props,{isChecked:L}=this.state,Z=!h&&!b,u=Z?L==="mixed"?!0:!L:L;this.setState({isChecked:u}),f(u,I,v||S,G),g(u,C,G)})}static getDerivedStateFromProps(G,I){let{prevProps:v}=I;return Q()(v,G)?null:{prevProps:G,isChecked:G.isChecked}}render(){const{className:G,label:I,name:v,isDisabled:S,readOnly:g}=this.props,{isChecked:f}=this.state,h=q()(G,{"is-checked":!!f,"is-disabled":S,readonly:g});return(0,B.jsxs)(ie,{className:h,children:[(0,B.jsx)("input",{type:"checkbox",defaultChecked:!!f,disabled:S,name:v,onChange:this.onToggle}),(0,B.jsx)("span",{className:"Check-state",children:(0,B.jsx)(z.C,{name:f==="mixed"?"new_replace/box_check_mixed":"new_replace/box_check"})}),I&&(0,B.jsx)("span",{className:"Check-label",children:I})]})}}(0,s.A)(pe,"propTypes",{isChecked:d().bool||"mixed",isDisabled:d().bool,readOnly:d().bool,onChange:d().func.isRequired,onToggle:d().func.isRequired,label:d().any,name:d().string,attr:d().string,value:d().any,className:d().string}),(0,s.A)(pe,"defaultProps",{isChecked:!1,label:"",className:"",onChange:()=>null,onToggle:()=>null})},63172:(Ce,ae,n)=>{"use strict";n.d(ae,{s:()=>F});var s=n(19249);const p=async(ie,B)=>{const{project:pe}=await(0,s.zi)("/api/dashboard/v5/projects/"+ie+"/invite",B);return pe},M=async(ie,B)=>(0,s.SN)("/api/dashboard/v5/permissions/projects/"+ie,B),d=async(ie,B)=>{await(0,s.uz)("/api/dashboard/v5/permissions/projects/"+ie,B)};var D=n(50159),Q=n(29152),z=n(1076);const R=async(ie,B)=>await(0,s.DE)("/api/dashboard/v5/spaces/"+ie+"?org_cid="+B),q={project_manager:"\u7684\u6743\u9650\u53D8\u4E3A\u300C\u7BA1\u7406\u5458\u300D",project_member:"\u7684\u6743\u9650\u53D8\u4E3A\u300C\u53EF\u7F16\u8F91\u300D",project_viewer:"\u7684\u6743\u9650\u53D8\u4E3A\u300C\u4EC5\u67E5\u770B\u300D",project_ban_viewer:"\u7684\u6743\u9650\u53D8\u66F4\u4E3A\u300C\u7981\u6B62\u67E5\u770B\u300D"};let N=function(ie){return ie.Org="org",ie.OrgSpace="space",ie.Folder="folder",ie.Project="project",ie}({});const F={"entry:projectAccess:initProjectData":async(ie,B)=>{let{getState:pe,dispatch:V}=ie,{payload:G}=B;try{const{initData:I,members:v}=G,S=I==null?void 0:I.org,{user:g,space:f,project:h,team:b,top_parent_team:C,lang:L}=I||{},Z=new Map,u=new Map;return Z.set(b==null?void 0:b.cid,b),Z.set(C==null?void 0:C.cid,C),b!=null&&b.parent_cid&&(b==null?void 0:b.parent_cid)!==C.cid&&Z.set(b==null?void 0:b.parent_cid,C),u.set(h==null?void 0:h.cid,h),V({type:z.X2.UpdateState,payload:{user:g,org:{...S,members:v},space:f,folderListMap:Z,projectListMap:u,lang:L}}),!0}catch(I){return console.error(I.message),!1}},"entry:projectAccess:inviteOrgMemberToProject":async(ie,B)=>{let{getState:pe,dispatch:V}=ie,{payload:G}=B;const{projectCid:I,userCid:v,roleName:S,userName:g}=G;if(!I||!v)return;const f=pe(),h=(0,Q.IE)(f),b=(0,Q.M0)(f),C=(0,Q._B)(f);try{const L=await p(I,{user_cid:v,role:S}),{space:Z}=await R(b,h);C.set(L.cid,L),await V({type:z.X2.UpdateProjectListMap,payload:new Map(C)}),await V({type:z.X2.UpdateSpace,payload:Z}),window.top.postMessage({type:"updateApp",data:{newApp:(0,D.A)(L)}},"*"),window.top.postMessage({type:"successMsg",data:{msg:{name:g,other:q[S]}}},"*")}catch(L){window.top.postMessage({type:"errMsg",data:{msg:"\u6743\u9650\u66F4\u6539\u5931\u8D25"}},"*")}},"entry:projectAccess:updateMemberProjectPermission":async(ie,B)=>{let{getState:pe,dispatch:V}=ie,{payload:G}=B;const{projectCid:I,userId:v,roleName:S,userName:g}=G,f=pe();try{const{permission:h}=await M(I,{target_role:S,target_user_id:v}),b=(0,Q._B)(f),C=b.get(I),L=(C==null?void 0:C.permissions)||[],Z=L.find(T=>Number(T.user_id)===Number(v));let u=[];Z?u=L.map(T=>Number(T.user_id)===Number(v)?h:T):u=[...L,h];const k={...C,permissions:u};b.set(I,k),await V({type:z.X2.UpdateProjectListMap,payload:new Map(b)}),window.top.postMessage({type:"updateApp",data:{newApp:(0,D.A)(k)}},"*"),window.top.postMessage({type:"successMsg",data:{msg:{name:g,other:q[S]}}},"*")}catch(h){window.top.postMessage({type:"errMsg",data:{msg:"\u6743\u9650\u66F4\u6539\u5931\u8D25"}},"*")}},"entry:projectAccess:removeProjectMemberPermission":async(ie,B)=>{let{getState:pe,dispatch:V}=ie,{payload:G}=B;const{projectCid:I,userId:v,roleName:S,userName:g}=G,f=pe();try{await d(I,{target_role:S,target_user_id:v});const h=(0,Q._B)(f),b=h.get(I),C=(b==null?void 0:b.permissions)||[];if(C.find(Z=>Number(Z.user_id)===Number(v))){const Z=C.filter(k=>Number(k.user_id)!==Number(v)),u={...b,permissions:Z};h.set(I,u),await V({type:z.X2.UpdateProjectListMap,payload:new Map(h)}),window.top.postMessage({type:"successMsg",data:{msg:{name:g,other:"\u7684\u6743\u9650\u5DF2\u79FB\u9664"}}},"*"),window.top.postMessage({type:"updateApp",data:{newApp:(0,D.A)(u)}},"*")}}catch(h){window.top.postMessage({type:"errMsg",data:{msg:"\u6743\u9650\u66F4\u6539\u5931\u8D25"}},"*")}}}},63938:(Ce,ae,n)=>{"use strict";n.d(ae,{A:()=>D});var s=n(38502),p=n(25582),M=n.n(p),d=n(72214);D.propTypes={className:M().string,children:M().oneOfType([M().array,M().string]),isWonderShare:M().bool,id:M().string,onClick:M().func,disabled:M().bool,canClick:M().bool};function D(Q){let{className:z,children:R,isWonderShare:q=!1,id:N="mdOnlineSupport",onClick:F,disabled:ie,canClick:B}=Q;const pe="qd30090468111af7daaf09a6395b687fc3becd624cf3",V=q?"https://support.wondershare.com/":"";(0,s.useEffect)(()=>{if(!ie)return!q&&G(),()=>{const v=document.getElementById(pe);v&&v.remove()}},[]);const G=()=>{n.g?(n.g.wpaShowItemId=window.wpaShowItemId="123",n.g.qidian_ex1=window.qidian_ex1="12"):(window.wpaShowItemId="123",window.qidian_ex1="12");let v=document.createElement("script");v.id=pe,v.src="https://wp.qiye.qq.com/qidian/3009046811/1af7daaf09a6395b687fc3becd624cf3",v.charset="utf-8",v.async=!0,v.defer=!0,document.body.appendChild(v)},I=v=>{if(ie){B&&F&&F();return}if(F&&F(),q){window.open(V);return}if(N!=="mdOnlineSupport"){v.preventDefault();const S=document.getElementById("mdOnlineSupport");S&&S.click()}};return(0,d.jsx)("div",{style:{cursor:"pointer"},id:N,className:z,onClick:I,children:R})}},65609:(Ce,ae,n)=>{"use strict";n.d(ae,{A:()=>z});var s=n(95549),p=n(38502),M=n(53732),d=n.n(M),D=n(22460),Q=n(72214);class z extends p.PureComponent{constructor(){super(...arguments),(0,s.A)(this,"getClassName",()=>{const{className:q,type:N,size:F,corner:ie,disabled:B}=this.props;return d()(q,"button-root",{["type-"+N]:N,["size-"+F]:F,["corner-"+ie]:ie,"is-disabled":B})}),(0,s.A)(this,"onButtonClick",q=>{if(this.props.disabled){q.preventDefault();return}const{onClick:N}=this.props;N&&N(q)}),(0,s.A)(this,"onButtonMouseDown",q=>{if(this.props.disabled){q.preventDefault();return}const{onMouseDown:N}=this.props;N&&N(q)}),(0,s.A)(this,"getChildrenNode",()=>(0,Q.jsx)("span",{className:"btn-text",children:this.props.children}))}render(){const q=this.getClassName(),N=this.getChildrenNode();return(0,Q.jsx)(D.O,{className:q,onClick:this.onButtonClick,onMouseDown:this.onButtonMouseDown,children:(0,Q.jsx)("div",{className:"btn-icon-text-container",children:N})})}}(0,s.A)(z,"defaultProps",{type:"linear",disabled:!1,size:"common",corner:"smooth"})},65825:(Ce,ae,n)=>{"use strict";n.d(ae,{A:()=>z});var s=n(38502),p=n(39303),M=n(67787);const d=M.Ay.div.withConfig({displayName:"styles__StyledSharingLoading",componentId:"sc-iidm8l-0"})(["position:absolute;top:0;left:0;right:0;bottom:0;display:flex;align-items:center;justify-content:center;.loading{width:50px;height:50px;}"]);var D=n(72214);const z=(0,s.memo)(()=>(0,D.jsx)(d,{className:"sharing-loading",children:(0,D.jsx)(p.A,{className:"loading"})}))},68677:(Ce,ae,n)=>{"use strict";n.d(ae,{A:()=>ie});var s=n(38502),p=n(25582),M=n.n(p),d=n(46219),D=n(69368),Q=n(67787);const z=Q.Ay.span.withConfig({displayName:"styled__StyledEllipsis",componentId:"sc-z4nkzm-0"})(["null"]);var R=n(72214);function q(B,pe,V){return(pe=N(pe))in B?Object.defineProperty(B,pe,{value:V,enumerable:!0,configurable:!0,writable:!0}):B[pe]=V,B}function N(B){var pe=F(B,"string");return typeof pe=="symbol"?pe:pe+""}function F(B,pe){if(typeof B!="object"||!B)return B;var V=B[Symbol.toPrimitive];if(V!==void 0){var G=V.call(B,pe||"default");if(typeof G!="object")return G;throw new TypeError("@@toPrimitive must return a primitive value.")}return(pe==="string"?String:Number)(B)}class ie extends s.PureComponent{constructor(){var pe;super(...arguments),pe=this,q(this,"state",{isTruncated:!1,isDetected:!1}),q(this,"set$ellipsis",V=>Object.assign(this,{$ellipsis:V.current})),q(this,"detectTruncation",function(V){return V===void 0&&(V=pe.$ellipsis),V.offsetWidth<V.scrollWidth})}componentDidMount(){return this.setState({isDetected:!0,isTruncated:this.detectTruncation()})}componentDidUpdate(pe){let{children:V}=pe;const{children:G}=this.props,{isDetected:I}=this.state;if(V!==G)return this.setState({isDetected:!1});if(!I)return this.setState({isDetected:!0,isTruncated:this.detectTruncation()})}render(){const{className:pe,to:V,type:G,max:I,display:v,lang:S,theme:g,noTooltip:f,withTooltip:h,withQuote:b,withPeriod:C,withComma:L,withQuestionMark:Z,children:u,...k}=this.props,{isTruncated:T,isDetected:X}=this.state,y={children:u},A=X&&(T?"is-truncated":"isnt-truncated"),se={type:V?"link":"inline",theme:g,className:(0,D.Hn)(["Ellipsis",A,pe,(b||C||L||Z)&&"Punctuation",b&&"with-quote",C&&"with-period",L&&"with-comma",Z&&"with-question-mark"]),href:V,"data-type":G,"data-max":I,style:{display:v,maxWidth:isFinite(I)?I+"em":I},content:(h||T)&&!f&&(0,R.jsx)("div",{lang:S,className:"EllipsisTip",...y}),children:u,setRef:this.set$ellipsis,...k},ee=(0,R.jsx)(d.A,{...se});return b||C||L||Z?(0,R.jsx)(z,{className:(0,D.Hn)(["Punctuation",b&&"with-quote",C&&"with-period",L&&"with-comma",Z&&"with-question-mark",A]),children:ee}):ee}}q(ie,"propTypes",{className:M().string,theme:M().oneOf(["core","plain"]),type:M().oneOf(["user","id","email","org","team","app","widget"]),max:M().oneOfType([M().string,M().number]),display:M().oneOf(["inline-block","block"]),lang:M().string,to:M().string,children:M().node,noTooltip:M().bool,withTooltip:M().bool,withQuote:M().bool,withComma:M().bool,withPeriod:M().bool,withQuestionMark:M().bool}),q(ie,"defaultProps",{lang:"en",theme:"core"})},70812:(Ce,ae,n)=>{"use strict";n.d(ae,{U:()=>R,j:()=>q});var s=n(16615),p=n(49612),M=n(40486),d=n(78257);const D={[p.SR.PageV9]:"\u751F\u6210\u539F\u578B\u9875\u9762",[p.SR.Component]:"\u751F\u6210\u7EC4\u4EF6",[p.SR.Flow]:"\u751F\u6210\u6D41\u7A0B\u56FE",[p.SR.Mind]:"\u751F\u6210\u601D\u7EF4\u5BFC\u56FE",[p.SR.Table]:"\u751F\u6210\u8868\u683C",[p.SR.Chart]:"\u751F\u6210\u56FE\u8868",[p.SR.Semantic]:"AI\u6307\u4EE4",[p.SR.Chat]:"AI\u5BF9\u8BDD",[p.SR.AutoFill]:"\u667A\u80FD\u586B\u5145",[p.SR.AIHTML]:"\u751F\u6210\u539F\u578B\u9875\u9762v2_\u539F\u578B\u5185"},Q={[d.lS.Directory]:"\u76EE\u5F55\u9762\u677F",[d.lS.Builtin]:"\u7EC4\u4EF6\u9762\u677F",[d.lS.Icon]:"\u56FE\u6807\u9762\u677F",[d.lS.Page]:"\u9875\u9762\u9762\u677F",[d.lS.Asset]:"\u56FE\u7247\u9762\u677F",[d.lS.Template]:"\u6BCD\u7248\u9762\u677F",[d.lS.AI]:"AI\u9762\u677F"},z={color:"\u989C\u8272\u6837\u5F0F",appear:"\u5916\u89C2\u6837\u5F0F",text:"\u6587\u672C\u6837\u5F0F"};let R;(function(N){const F=N.AIOpenSourceTrack=k=>{const T=D[k];T&&(0,s.ZI)("proto_ai_entrance",{ai_func_name:T})},ie=N.AIUseTrack=(k,T)=>{const X=D[k];!X||!T||(0,s.ZI)("proto_ai_use",{ai_func:X,ai_input:T})},B=N.addShapeToCanvasTrackSourceMap={quickCreate:"\u5FEB\u6377\u952E",topToolbar:"\u9876\u90E8\u64CD\u4F5C\u680F"},pe=N.addShapeToCanvasTrack=(k,T)=>{k&&T&&(0,s.ZI)("proto_shape_add",{name:k,source:T})},V=N.addDrawIOToCanvasTrack=k=>{k&&(0,s.ZI)("proto_draw_add",{type:k})},G=N.addAnimationTrack=k=>{k&&I18N.dConst.ani[k]&&(0,s.ZI)("proto_animation_add",{type:I18N.dConst.ani[k]})},I=N.updateInteractionTrack=k=>{var T;const{type:X,interactionTrigger:y,interactionType:A,value:se=""}=k;if(!y||!A)return;const ee=(0,M.Oz)(y);if(!ee)return;const te=(T=(0,M.gu)().find(fe=>fe.value===A))==null?void 0:T.label;te&&(0,s.ZI)("proto_interaction_set",{type:X,trigger:ee,action:te,value:se})},v=N.searchResultTrack=(k,T,X)=>{const y=Q[T];!k||!y||(0,s.ZI)("proto_search_result",{keyword:k,source:y,count:X})},S=N.watermarkExposureTrack=k=>{if(!k)return;const T=!!MB.currentOrg;(0,s.ZI)("proto_watermark_show",{watermark_type:k,workspace_type:T?"org":"solo"})},g=N.protoEditorLoadSuccessTrack=k=>{k&&(0,s.ZI)("proto_load_success",{uid:k})},f=N.protoEditorShareTrack=(k,T)=>{k&&(0,s.ZI)("proto_share",{uid:k,source:T})},h=N.protoEditorPresentTrack=(k,T)=>{k&&(0,s.ZI)("proto_present",{uid:k,source:T})},b=N.protoDownloadTrack=(k,T,X)=>{!k||!T||!X||(0,s.ZI)("proto_download",{uid:k,type:T,source:X})},C=N.protoStyleTrack=(k,T,X)=>{!k||!T||!X||(0,s.ZI)("proto_style_set",{uid:k,type:T,source:z[X]})},L=N.protoMasterClickTrack=k=>{k&&(0,s.ZI)("proto_master_click",{uid:k})},Z=N.protoMasterPublishTrack=(k,T)=>{!k||!T||(0,s.ZI)("proto_master_publish",{uid:k,type:T})},u=N.protoMasterUseTrack=(k,T,X)=>{!k||!T||!X||(0,s.ZI)("proto_master_use",{uid:k,source:T,type:X})}})(R||(R={}));const q=N=>{let{source:F,type:ie,status:B}=N;console.log("\u{1F7E6}[blue]->source, type, status: ",F,ie,B),(0,s.ZI)("proto_html2proto",{source:F,type:ie,status:B})}},71272:(Ce,ae,n)=>{"use strict";n.d(ae,{Y:()=>p,w:()=>s});const s=400,p=800},72274:(Ce,ae,n)=>{"use strict";n.d(ae,{HY:()=>I,Tw:()=>f,Yl:()=>B,Zz:()=>g,y$:()=>ie});var s=n(76241);function p(h){return"Minified Redux error #"+h+"; visit https://redux.js.org/Errors?code="+h+" for the full message or use the non-minified dev environment for full errors. "}var M=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),d=function(){return Math.random().toString(36).substring(7).split("").join(".")},D={INIT:"@@redux/INIT"+d(),REPLACE:"@@redux/REPLACE"+d(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+d()}};function Q(h){if(typeof h!="object"||h===null)return!1;for(var b=h;Object.getPrototypeOf(b)!==null;)b=Object.getPrototypeOf(b);return Object.getPrototypeOf(h)===b}function z(h){if(h===void 0)return"undefined";if(h===null)return"null";var b=typeof h;switch(b){case"boolean":case"string":case"number":case"symbol":case"function":return b}if(Array.isArray(h))return"array";if(N(h))return"date";if(q(h))return"error";var C=R(h);switch(C){case"Symbol":case"Promise":case"WeakMap":case"WeakSet":case"Map":case"Set":return C}return b.slice(8,-1).toLowerCase().replace(/\s/g,"")}function R(h){return typeof h.constructor=="function"?h.constructor.name:null}function q(h){return h instanceof Error||typeof h.message=="string"&&h.constructor&&typeof h.constructor.stackTraceLimit=="number"}function N(h){return h instanceof Date?!0:typeof h.toDateString=="function"&&typeof h.getDate=="function"&&typeof h.setDate=="function"}function F(h){var b=typeof h;return b}function ie(h,b,C){var L;if(typeof b=="function"&&typeof C=="function"||typeof C=="function"&&typeof arguments[3]=="function")throw new Error(p(0));if(typeof b=="function"&&typeof C>"u"&&(C=b,b=void 0),typeof C<"u"){if(typeof C!="function")throw new Error(p(1));return C(ie)(h,b)}if(typeof h!="function")throw new Error(p(2));var Z=h,u=b,k=[],T=k,X=!1;function y(){T===k&&(T=k.slice())}function A(){if(X)throw new Error(p(3));return u}function se(fe){if(typeof fe!="function")throw new Error(p(4));if(X)throw new Error(p(5));var De=!0;return y(),T.push(fe),function(){if(De){if(X)throw new Error(p(6));De=!1,y();var je=T.indexOf(fe);T.splice(je,1),k=null}}}function ee(fe){if(!Q(fe))throw new Error(p(7));if(typeof fe.type>"u")throw new Error(p(8));if(X)throw new Error(p(9));try{X=!0,u=Z(u,fe)}finally{X=!1}for(var De=k=T,Ye=0;Ye<De.length;Ye++){var je=De[Ye];je()}return fe}function ne(fe){if(typeof fe!="function")throw new Error(p(10));Z=fe,ee({type:D.REPLACE})}function te(){var fe,De=se;return fe={subscribe:function(je){if(typeof je!="object"||je===null)throw new Error(p(11));function Re(){je.next&&je.next(A())}Re();var mt=De(Re);return{unsubscribe:mt}}},fe[M]=function(){return this},fe}return ee({type:D.INIT}),L={dispatch:ee,subscribe:se,getState:A,replaceReducer:ne},L[M]=te,L}var B=n.j!=15?ie:null;function pe(h){typeof console<"u"&&typeof console.error=="function"&&console.error(h);try{throw new Error(h)}catch(b){}}function V(h,b,C,L){var Z=Object.keys(b),u=C&&C.type===D.INIT?"preloadedState argument passed to createStore":"previous state received by the reducer";if(Z.length===0)return"Store does not have a valid reducer. Make sure the argument passed to combineReducers is an object whose values are reducers.";if(!Q(h))return"The "+u+' has unexpected type of "'+F(h)+'". Expected argument to be an object with the following '+('keys: "'+Z.join('", "')+'"');var k=Object.keys(h).filter(function(T){return!b.hasOwnProperty(T)&&!L[T]});if(k.forEach(function(T){L[T]=!0}),!(C&&C.type===D.REPLACE)&&k.length>0)return"Unexpected "+(k.length>1?"keys":"key")+" "+('"'+k.join('", "')+'" found in '+u+". ")+"Expected to find one of the known reducer keys instead: "+('"'+Z.join('", "')+'". Unexpected keys will be ignored.')}function G(h){Object.keys(h).forEach(function(b){var C=h[b],L=C(void 0,{type:D.INIT});if(typeof L>"u")throw new Error(p(12));if(typeof C(void 0,{type:D.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(p(13))})}function I(h){for(var b=Object.keys(h),C={},L=0;L<b.length;L++){var Z=b[L];typeof h[Z]=="function"&&(C[Z]=h[Z])}var u=Object.keys(C),k,T;try{G(C)}catch(X){T=X}return function(y,A){if(y===void 0&&(y={}),T)throw T;if(0)var se;for(var ee=!1,ne={},te=0;te<u.length;te++){var fe=u[te],De=C[fe],Ye=y[fe],je=De(Ye,A);if(typeof je>"u"){var Re=A&&A.type;throw new Error(p(14))}ne[fe]=je,ee=ee||je!==Ye}return ee=ee||u.length!==Object.keys(y).length,ee?ne:y}}function v(h,b){return function(){return b(h.apply(this,arguments))}}function S(h,b){if(typeof h=="function")return v(h,b);if(typeof h!="object"||h===null)throw new Error(p(16));var C={};for(var L in h){var Z=h[L];typeof Z=="function"&&(C[L]=v(Z,b))}return C}function g(){for(var h=arguments.length,b=new Array(h),C=0;C<h;C++)b[C]=arguments[C];return b.length===0?function(L){return L}:b.length===1?b[0]:b.reduce(function(L,Z){return function(){return L(Z.apply(void 0,arguments))}})}function f(){for(var h=arguments.length,b=new Array(h),C=0;C<h;C++)b[C]=arguments[C];return function(L){return function(){var Z=L.apply(void 0,arguments),u=function(){throw new Error(p(15))},k={getState:Z.getState,dispatch:function(){return u.apply(void 0,arguments)}},T=b.map(function(X){return X(k)});return u=g.apply(void 0,T)(Z.dispatch),(0,s.A)((0,s.A)({},Z),{},{dispatch:u})}}}},73597:(Ce,ae,n)=>{var s=n(59316),p=n(84934),M=n(19631),d="['\u2019]",D=RegExp(d,"g");function Q(z){return function(R){return s(M(p(R).replace(D,"")),z,"")}}Ce.exports=Q},74755:(Ce,ae,n)=>{"use strict";n.d(ae,{n:()=>Pr});var s=n(38502),p=n(72274),M=n(63172),d=n(25942),D=n(1076),Q=n(87229);const z={cid:"pslj5lho8lkbh1m4",project_cid:"pblj5lho3sfrgsvp",view_access:"restricted",access_token:"bNDBP6orwlnj5R57xaJ4y",password:"",view_count:0,view_prd:!0,screen_visible_switch:!1,screen_visible_list:[],wechat:!1,highlight:!0,sticky:!0,view_sticky:!0,comment_permission:"org_member",link_name:"\u5206\u4EAB",is_default_link:!1,creator_id:2735130,expire_type:"forever",device_model:"read_only",is_first_canvas_open:!1},R=null,q="123",N={projectBasicToken:"BcHc8Xdrrwlnj5pdDxPloA",projectShares:[{cid:"pslj5lho8lkbh1m4",project_cid:"pblj5lho3sfrgsvp",view_access:"restricted",access_token:"bNDBP6orwlnj5R57xaJ4y",password:"",view_count:0,view_prd:!0,screen_visible_switch:!1,screen_visible_list:[],wechat:!1,highlight:!0,sticky:!0,view_sticky:!0,comment_permission:"org_member",link_name:"\u5206\u4EAB",is_default_link:!1,creator_id:2735130,expire_type:"forever",device_model:"bbb"},{cid:"pslj5lho8lkbh1m4",project_cid:"pblj5lho3sfrgsvp",view_access:"restricted",access_token:"bNDBP6orwlnj5R57xaJ4y",password:"",view_count:0,view_prd:!0,screen_visible_switch:!1,screen_visible_list:[],wechat:!1,highlight:!0,sticky:!0,view_sticky:!0,comment_permission:"org_member",link_name:"\u5206\u4EAB",is_default_link:!1,creator_id:2735130,expire_type:"forever",device_model:"bbb"},{cid:"pslj5lho8lkbh1m4",project_cid:"pblj5lho3sfrgsvp",view_access:"restricted",access_token:"bNDBP6orwlnj5R57xaJ4y",password:"",view_count:0,view_prd:!0,screen_visible_switch:!1,screen_visible_list:[],wechat:!1,highlight:!0,sticky:!0,view_sticky:!0,comment_permission:"org_member",link_name:"\u5206\u4EAB",is_default_link:!1,creator_id:2735130,expire_type:"forever",device_model:"bbb"}]},F={owner_id:10,owner_name:"d9",owner_email:"d9@d.dd",owner_avatar:"/images/avatar.png",id:71,limitation:{storage:5e3,exportable:["png","pngs","htmlzip"],encryptable:!0,inspectable:!0,slices:!0,projects:65535,screens:65535,commentable:!0},screens_count:0,cid:"pb2lje6hu9dax5akx",team_cid:"teuaroot",space_cid:null,name:"sharing",type:"proto2",attr:{},created_at:1687863747e3,updated_at:1688043155e3,timestamp:"1688043155",access:"public",access_token:"32vJ5gBXrwws03fxYV0OK2",version:"v3",icon:null,splash:null,width:390,height:844,device:"iphone",model:"iphone_13_pro",scale:100,archived:!1,parent_cid:null,source_upper_cid:null,clones:0,shell_type:"device",password:"",wechat:!1,highlight:!0,preview_option:1,expired:!1,deleted:!1,duplicating:!1,permissions:[{user_id:10,role:"project_owner"}],is_org_project:!1,is_sub_project:!1,runner_mode:"preview",comment_permission:"org_member",tabs:null,visibility:"open",building:"view_sticky"},ie={owner_id:10,owner_name:"d9",owner_email:"d9@d.dd",owner_avatar:"/images/avatar.png",id:71,limitation:{storage:5e3,exportable:["png","pngs","htmlzip"],encryptable:!0,inspectable:!0,slices:!0,projects:65535,screens:65535,commentable:!0},screens_count:0,cid:"pb2lje6hu9dax5akx",team_cid:"teuaroot",space_cid:null,name:"sharing",type:"proto2",attr:{},created_at:1687863747e3,updated_at:1688043155e3,timestamp:"1688043155",access:"public",access_token:"32vJ5gBXrwws03fxYV0OK2",version:"v3",icon:null,splash:null,width:390,height:844,device:"iphone",model:"iphone_13_pro",scale:100,archived:!1,parent_cid:null,source_upper_cid:null,clones:0,shell_type:"device",password:"",wechat:!1,highlight:!0,preview_option:1,expired:!1,deleted:!1,duplicating:!1,permissions:[{user_id:10,role:"project_owner"}],is_org_project:!1,is_sub_project:!1,runner_mode:"preview",comment_permission:"org_member",tabs:null,visibility:"open",building:"view_sticky"};var B=n(54844),pe=n(54190),V=n(53008),G=n(5209),I=n(76844);let v=function(e){return e.acces="access",e.viewAccess="viewAccess",e.copy="copy",e.qrCode="qrCode",e.embed="Embed",e.setting="Setting",e.pwdProtection="PwdProtection",e.password="password",e.sticky="sticky",e.comment="comment",e.mobile="mobile",e}({});var S=function(e){return e.Edit="\u53EF\u7F16\u8F91",e.onlyView="\u4EC5\u67E5\u770B",e}(S||{}),g=function(e){return e.NoLogin="\u672A\u767B\u5F55\u7528\u6237",e.LoginButNotOrgMember="\u975E\u56E2\u961F\u767B\u5F55\u7528\u6237",e.ProjectMember="\u534F\u4F5C\u6210\u5458",e.TeamMember="\u56E2\u961F\u6210\u5458",e}(g||{}),f=function(e){return e.EditMode="\u7F16\u8F91\u6A21\u5F0F",e.ReadOnlyMode="\u53EA\u8BFB\u6A21\u5F0F",e.DeviceMode="\u771F\u673A\u6A21\u5F0F",e.InspectMode="\u6807\u6CE8\u6A21\u5F0F",e}(f||{});const h=e=>{let{userId:i,orgPermissions:l,spacePermissions:c,projectPermissions:w}=e;if(!i)return g.NoLogin;const _=(0,I.ox)(i,l),x=(0,I.ox)(i,c),j=(0,I.ox)(i,w);if(!_)return g.LoginButNotOrgMember;if(x||j)return g.ProjectMember;if(_)return g.TeamMember},b=e=>{let{userCanEdit:i,userId:l,orgPermissions:c,spacePermissions:w,projectPermissions:_,isEditMode:x,view_mode:j,isIframe:E}=e;const W=i?S.Edit:S.onlyView,K=h({userId:l,orgPermissions:c,spacePermissions:w,projectPermissions:_}),$=E?"\u5DE5\u4F5C\u53F0":x?f.EditMode:j==="read_only"?f.ReadOnlyMode:j==="device"?f.DeviceMode:j==="inspect"?f.InspectMode:"";return{user_rights:W,user_type:K,operation_from:$}},C=e=>{let{optionType:i,userCanEdit:l,userId:c,orgPermissions:w,spacePermissions:_,projectPermissions:x,isEditMode:j,view_mode:E,share_type:W,isIframe:K,project_name:$,project_cid:O}=e;const{user_rights:le,user_type:oe,operation_from:P}=b({userCanEdit:l,userId:c,orgPermissions:w,spacePermissions:_,projectPermissions:x,isEditMode:j,view_mode:E,isIframe:K});(0,G.kH)("share_function_click_V8",{operation_type:i,user_rights:le,user_type:oe,operation_from:P,project_name:$,project_cid:O,share_type:W})},L=e=>{(0,G.kH)("advanced_sharing_click",e)},u=(()=>{const e={project:void 0,flatKey:void 0,theme:"light",user:void 0,org:void 0,settingPageType:"create",subSettingPageType:"basic",currentSharing:z,hostType:"proto",topPageIndex:"edit",advancedSharingList:[],canEditByUser:!1,mainPage:"share",tabIndex:0,projShareToEdit:"",members:[],isEditMode:location.pathname.includes("/design/"),screenMetaList:void 0,initData:{},loading:!0,hostSharingData:void 0,sharingToast:"",currentSelectSharing:void 0,isOnlyMemberManager:!1,hostCurrentScreen:void 0},i=function(_,x){_===void 0&&(_=e);let{type:j="sharing:state:update",payload:E=e}=x;switch(j){case"sharing:state:update":return{..._,...E};case"sharing:state:clear":return{...e};default:return _}},l={"sharing:init":(_,x)=>{let{dispatch:j}=_,{payload:E}=x;j({type:"sharing:state:update",payload:E})},"sharing:currentSharing:update":(_,x)=>{let{getState:j,dispatch:E}=_,{payload:{updatedKV:W}}=x;const K=j(),O={...c.getCurrentSharing(K),...W};E({type:"sharing:state:update",payload:{currentSharing:O}})},"sharing:remote:sharing:update":async(_,x)=>{let{getState:j,dispatch:E}=_,{payload:{sharingData:W,updatedKV:K}}=x;const $=j(),O=c.getOrg($),le=c.getProject($);let oe;if(W.type==="default"){var P,re;oe=async()=>(0,pe.Yu)(le.cid,{...K}),await(0,V.eH)({updateType:"update",updateFn:oe,org:O});const ce={...le,...K};E({type:"sharing:state:update",payload:{project:ce}}),(P=MB)!=null&&P.action&&((re=MB)==null||re.action("current:update:state",{currentProject:ce}))}else{const ce=c.getAdvancedSharingList($),ge={...W,...K};oe=async()=>(0,B.yq)({sharing:ge});const{expired_at:he}=await(0,V.eH)({updateType:"update",updateFn:oe,org:O,updatedKV:K});E({type:w["sharing:currentSharing:update"],payload:{updatedKV:{expired_at:he}}});const ye=ce.map(H=>H.cid===ge.cid?{...ge,expired_at:he}:H);E({type:w["sharing:advancedSharingList:update"],payload:{sharingList:ye}})}},"sharing:remote:sharing:delete":async(_,x)=>{let{getState:j,dispatch:E}=_,{payload:{sharingCid:W}}=x;const K=j(),$=c.getProject(K),O=c.getAdvancedSharingList(K);await(0,B.g)({projectCid:$.cid,sharingCid:W});const le=O.filter(oe=>oe.cid!==W);E({type:w["sharing:advancedSharingList:update"],payload:{sharingList:le}})},"sharing:settingPage:advanced:confirm":async(_,x)=>{let{getState:j,dispatch:E}=_,{payload:{updatedKV:W,isCustom:K}}=x;const $=j(),O=c.getSettingPageType($),le=c.getCurrentSharing($),oe=c.getOrg($),P=c.getProject($);if(O==="create"){const re=async()=>(0,B.Or)({projectCid:P.cid,sharing:le});await(0,V.eH)({updateType:"create",updateFn:re,org:oe}),E({type:w["sharing:topPageIndex:jump"],payload:{topPageIndex:"edit"}})}else{const re=async()=>(0,B.yq)({sharing:le}),{expired_at:ce}=await(0,V.eH)({updateType:"update",updateFn:re,org:oe,updatedKV:W,isCustom:K});E({type:w["sharing:currentSharing:update"],payload:{updatedKV:{expired_at:ce}}})}E({type:"sharing:advance:click:track"})},"sharing:settingPage:default:confirm":async _=>{var x,j;let{getState:E,dispatch:W}=_;const K=E(),$=c.getCurrentSharing(K),O=c.getProject(K),le=c.getOrg(K),oe=async()=>(0,pe.Yu)(O.cid,Object.assign({},$,{building:$.view_sticky}));await(0,V.eH)({updateType:"update",updateFn:oe,org:le});const P=Object.assign({},O,$,{building:$.view_sticky});W({type:"sharing:state:update",payload:{project:P}}),(x=MB)!=null&&x.action&&((j=MB)==null||j.action("current:update:state",{currentProject:P}))},"sharing:go-settingPage":(_,x)=>{let{dispatch:j}=_,{payload:{currentSharing:E,settingPageType:W,subSettingPageType:K=e.subSettingPageType}}=x;j({type:"sharing:state:update",payload:{currentSharing:E,settingPageType:W,topPageIndex:"setting",subSettingPageType:K}})},"sharing:topPageIndex:jump":(_,x)=>{let{dispatch:j}=_,{payload:{topPageIndex:E=e.topPageIndex}}=x;j({type:"sharing:state:update",payload:{topPageIndex:E}})},"sharing:advancedSharingList:update":(_,x)=>{let{dispatch:j}=_,{payload:{sharingList:E}}=x;j({type:"sharing:state:update",payload:{advancedSharingList:E}})},"sharing:projectAccess:init":async _=>{let{dispatch:x,getState:j}=_;const E=j(),W=c.getMembers(E),K=c.getProject(E),$=K==null?void 0:K.cid,O=K==null?void 0:K.is_org_project;if(!$||!O){setTimeout(()=>{x({type:u.entryKey["sharing:init"],payload:{loading:!1}})},100);return}const{result:le,statusOk:oe}=await(0,B.aX)($);if(x({type:u.entryKey["sharing:init"],payload:{loading:!1}}),!!oe&&le){var P,re;const{project:ce,org:ge}=le;await x({type:"entry:projectAccess:initProjectData",payload:{initData:le,members:W}}),x({type:u.entryKey["sharing:init"],payload:{project:ce,org:ge,initData:le}}),(P=MB)!=null&&P.action&&((re=MB)==null||re.action("current:update:state",{currentProject:ce}))}},"sharing:function:track":(_,x)=>{let{getState:j}=_,{payload:{operation:E,viewMode:W,isDefault:K}}=x;const $=j(),O=c.getProject($)||{},le=c.getCanEditByUser($),oe=c.getOrg($)||{},P=c.getUser($),re=c.getInitData($)||{},ce=(re==null?void 0:re.space)||{},ge=c.getIsEditMode($),he=c.getHostType($),{cid:ye,name:H}=O,xe={userCanEdit:le,userId:P==null?void 0:P.id,orgPermissions:oe==null?void 0:oe.permissions,spacePermissions:ce==null?void 0:ce.permissions,projectPermissions:O==null?void 0:O.permissions,isEditMode:ge,view_mode:W,optionType:E,share_type:K?"\u9ED8\u8BA4\u5206\u4EAB":"\u9AD8\u7EA7\u5206\u4EAB",isIframe:he==="iframe",project_name:H,project_cid:ye};C(xe)},"sharing:advance:click:track":(_,x)=>{let{getState:j}=_,{}=x;const E=j(),W=c.getSettingPageType(E),K=c.getCurrentSharing(E),$=c.getProject(E),O=c.getAdvancedSharingList(E)||[],le=c.getScreenMetaList(E),oe=c.getHostType(E),P=(0,V.RF)(le.pageAttrMap),re=(0,V.Mj)(!K.screen_visible_switch,K.screen_visible_list,P);let ce="\u5168\u90E8";K.screen_visible_switch&&(ce=""+re);const ge=O.length;L({link_name:K.link_name,links_number:W==="create"?ge+1:ge,share_type:K.device_model==="device"?"\u6F14\u793A\u6A21\u5F0F":"\u753B\u5E03\u6A21\u5F0F",page_number:ce,operation_type:W==="create"?"\u65B0\u5EFA":"\u7F16\u8F91",source:oe==="iframe"?"\u5DE5\u4F5C\u53F0":"\u7F16\u8F91\u533A",project_name:$.name,project_cid:$.cid})}},c=Q.B.genQuery(e,{getStateFn:_=>_.sharing}),w=Q.B.genEntryKey(l);return{__initialState:e,__reducer:i,__entry:l,entryKey:w,query:c}})(),k=(0,p.HY)({sharing:u.__reducer,projectAccess:D.Ay}),T={...u.__entry,...M.s},X=()=>{const e=(0,d.RZ)(),i=(0,p.y$)(k,(0,p.Tw)(e.middleware));return e.setEntryMap(T),i};var y=n(18381),A=n(67787),se=n(82738),ee=n(60690),ne=n(53732),te=n.n(ne),fe=n(83414);const De=A.Ay.div.withConfig({displayName:"styles__StyledSharingToolBar",componentId:"sc-1k4rs1h-0"})(["display:flex;align-items:center;justify-content:space-between;height:","px;padding-right:12px;border-bottom:1px solid ",";&.tool-upgrade{padding-right:24px;}.sharing-title{margin-left:24px;color:",";font-size:14px;font-family:PingFang SC;font-style:normal;font-weight:500;line-height:24px;}.upgrade-team-business{padding:0 10px;height:26px;border-radius:13px;display:flex;align-items:center;justify-content:center;background:",";font-size:14px;font-weight:500;position:relative;cursor:pointer;z-index:1;&:hover{background:",";}.team-business{background:linear-gradient(265.2deg,"," -21.19%,"," 105.08%);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;text-fill-color:transparent;flex:none;order:0;flex-grow:0;}.content{font-size:12px;font-family:PingFang SC;font-style:normal;font-weight:400;line-height:18px;position:absolute;background:#454647;top:36px;right:0;width:300px;padding:12px 16px;border-radius:6px;.learn-text{margin-left:8px;color:#80BCFF;&:hover{color:#A6D2FF;}}&::before{content:'';position:absolute;top:0px;right:30px;transform:translateY(-100%);display:inline-block;width:0;height:0;border:6px solid transparent;border-bottom:6px solid #454647;}.top-bar{position:absolute;width:100%;height:10px;top:-10px;right:0;}span{color:",";}a{cursor:pointer;color:",";&:hover{color:",";}}}}"],fe.gE,e=>e.theme.color_bg_border_02,e=>e.theme.color_text_L1,e=>e.theme.color_background_AI_head_tag,e=>e.theme.color_background_AI_head_tag_hover,e=>e.theme.color_AI_switch_gradient_start,e=>e.theme.color_AI_switch_gradient_end,e=>e.theme.color_text_btn,e=>e.theme.color_text_link_normal,e=>e.theme.color_text_link_hover),Ye=A.Ay.div.withConfig({displayName:"styles__StyledShareHeadMembers",componentId:"sc-1d78taz-0"})(["height:36px;border-radius:18px;display:flex;align-items:center;padding:0 4px;cursor:pointer;&:hover{background:",";}.avatar{height:24px;width:24px;border-radius:12px;box-sizing:border-box;border:1px solid ",";&:not(:first-child){margin-left:-6px;}&.avater-name{text-align:center;background:rgb(22,133,252);justify-content:center;color:white;font-size:12px;text-align:center;display:flex;align-items:center;}}.item-line{margin-left:6px;width:1px;height:16px;background:",";}.remaining{box-sizing:border-box;border-radius:12px;border:1px solid ",";background:rgb(22,133,252);justify-content:center;display:flex;align-items:center;margin-left:-6px;width:24px;height:24px;svg{width:24px;height:24px;}}.arror{margin-left:6px;width:14px;height:14px;}"],e=>e.theme.color_btn_secondary_active,e=>e.theme.color_share_member__border_color,e=>e.theme.color_bg_border_02,e=>e.theme.color_share_member__border_color);var je=n(12603),Re=n(17307);const mt="__mb_delete_permission",Pe=[{value:"org_owner",label:"permissions_org_owner"},{value:"org_manager",label:"permissions_org_super_administrator"},{value:"org_admin",label:"permissions_org_administrator"},{value:"org_member",label:"permissions_org_collaboration_member"},{value:"org_viewer",label:"permissions_org_review_member"}],J=[{value:"space_manager",label:"permissions_space_manager"},{value:"space_member",label:"permissions_space_collaboration_member"},{value:"space_viewer",label:"permissions_space_review_member"},{value:"space_limiter",label:"permissions_space_unregistered_member"}],Y=[{value:"team_manager",label:"permissions_manager"},{value:"team_member",label:"permissions_can_edit"},{value:"team_viewer",label:"permissions_only_view"},{value:"team_ban_viewer",label:"permissions_ban_view"}],me=[{value:"project_manager",label:"permissions_manager"},{value:"project_member",label:"permissions_can_edit"},{value:"project_viewer",label:"permissions_only_view"},{value:"project_ban_viewer",label:"permissions_ban_view"}],Ne={space_owner:"project_manager",space_manager:"project_manager",space_member:"project_member",space_viewer:"project_viewer",team_owner:"project_manager",team_manager:"project_manager",team_member:"project_member",team_viewer:"project_viewer",team_ban_viewer:"project_ban_viewer",team_none:"project_viewer",project_owner:"project_manager"},ke={space_owner:"team_manager",space_manager:"team_manager",space_member:"team_member",space_viewer:"team_viewer",space_ban_viewer:"team_ban_viewer",team_none:"team_viewer",team_owner:"team_manager"},Ge=Object.fromEntries([...Pe,...J,...Y,...me].map(e=>[e.value,e.label]));var Me=n(19481),Ie=n(29152),Je=n(50159);const nt=e=>{const i=(0,y.d4)(Ie.XW),l=i.get(e);return(0,Je.u)(l,i)},yt=(e,i)=>{const l=(0,y.d4)(Ie.XW),c=(0,y.d4)(Ie._B),w=(0,y.d4)(Ie.kG),_=(0,y.d4)(Ie.iF),x=(0,y.d4)(Ie.yZ);let j=null,E=null;const W=e;let K=[],$=[],O=[];j=c.get(i),$=j.permissions,O=(0,I.Cj)(j.team_cid,l,_),E=je.W.Org,K=w,O=Object.values(Object.fromEntries(O.map(ce=>[ce.user_id,ce])));const le=Object.values(Object.fromEntries([...O,...$].map(ce=>[ce.user_id,ce]))),oe=(0,s.useMemo)(()=>{const ce=(0,I.Rc)(K);return K.reduce((ge,he)=>{const{user_id:ye}=he,H=(0,I.CF)({userId:ye,permissionsMap:ce,permissionScope:E});return ge.set(Number(ye),H)},new Map)},[K]),P=(0,s.useMemo)(()=>{const ce=(0,I.Rc)(le);return K.reduce((ge,he)=>{const{user_id:ye}=he,H=(0,I.CF)({userId:ye,permissionsMap:ce,permissionScope:W});return ge.set(Number(ye),H)},new Map)},[le,K]),re=(0,s.useMemo)(()=>{const ce=(0,I.Rc)(O);return O.reduce((ge,he)=>{const{user_id:ye}=he,H=(0,I.CF)({userId:ye,permissionsMap:ce,permissionScope:W});return ge.set(Number(ye),H)},new Map)},[O]);return{userCurrentSpacePermission:x,membersTopScopePermissonMap:oe,membersCurrentScopePermissonMap:P,membersInheritedCurrentScopePermissonMap:re,topScopePermissionMembers:K,currentScopePermissionMembers:$,inheritedPermissionMembers:O,combinedCurrentPermissionMembers:le}},xt=(e,i,l)=>{const c=(0,y.wA)();return(0,s.useCallback)(async(_,x)=>{const{name:j,email:E,mobile:W,permissionMap:K}=_,{memberCurrentScopePermisson:$,currentScopeRoleName:O}=K;if(!$)return;const le=j||E||W;let oe=!1;x===mt&&(oe=!0),$.isUnknown?await c({type:"entry:projectAccess:inviteOrgMemberToProject",payload:{projectCid:i,userCid:_.user_cid,roleName:x,userName:le}}):oe?await c({type:"entry:projectAccess:removeProjectMemberPermission",payload:{projectCid:i,userId:_.user_id,roleName:O,userName:le}}):await c({type:"entry:projectAccess:updateMemberProjectPermission",payload:{projectCid:i,userId:_.user_id,roleName:x,userName:le}})},[i,c])},bt=(e,i)=>{const l=(0,y.d4)(Ie.WR),c=(0,y.d4)(Ie.q7),w=(0,y.d4)(Ie.oV),_=(0,y.d4)(Ie.hG),{userCurrentSpacePermission:x,membersTopScopePermissonMap:j,membersCurrentScopePermissonMap:E,membersInheritedCurrentScopePermissonMap:W,topScopePermissionMembers:K,inheritedPermissionMembers:$,currentScopePermissionMembers:O,combinedCurrentPermissionMembers:le}=yt(e,i),oe=E.get(Number(l))||I.CZ,P=!!_.get(Number(l)),re=(0,s.useMemo)(()=>{const be=new Map;return K.forEach(Oe=>{let{user_id:Ae,role:Ke}=Oe;const We=j.get(Number(Ae))||I.CZ,Qe=w.get(Number(Ae))||I.CZ,ot=E.get(Number(Ae))||I.CZ,at=W.get(Number(Ae))||I.CZ,lt=!!_.get(Number(Ae)),Ct=c.get(Number(Ae));if(!Ct)return;const Et=Ct.permission,At=ot.isUnknown?Ke:ot.roleName;be.set(Number(Ae),{...Ct,permissionMap:{currentScopeRoleName:At,userCurrentSpacePermission:x,userCurrentScopePermisson:oe,memberTopScopePermisson:We,memberCurrentScopePermisson:ot,memberInheritedPermisson:at,memberOrgPermisson:Et,isSelf:Number(Ae)===Number(l),userIsSpaceLimiter:P,memberIsSpaceLimiter:lt,memberIsSpaceManager:Qe.isManager}})}),be},[K,j,E,W,_]),ce=(0,s.useMemo)(()=>O.sort((be,Oe)=>Me.Z8[Oe.role]-Me.Z8[be.role]).map(be=>re.get(Number(be.user_id))).filter(be=>be),[O,re]),ge=(0,s.useMemo)(()=>$.sort((be,Oe)=>Me.Z8[Oe.role]-Me.Z8[be.role]).map(be=>{const{user_id:Oe,role:Ae}=be,Ke=W.get(Number(Oe))||I.CZ,We=re.get(Number(be.user_id));return We?{...We,permissionMap:{...We.permissionMap,currentScopeRoleName:Ae,memberCurrentScopePermisson:Ke}}:null}).filter(be=>be),[$,re,W]),he=(0,s.useMemo)(()=>le.sort((be,Oe)=>Me.Z8[Oe.role]-Me.Z8[be.role]).map(be=>re.get(Number(be.user_id))).filter(be=>be),[le,re]),ye=(0,s.useMemo)(()=>{const be=he.map(Ae=>Number(Ae.user_id)),Oe=[];for(const[Ae,Ke]of re.entries())be.includes(Number(Ae))||Ke&&Oe.push(Ke);return Oe},[re,he]),H=(0,s.useMemo)(()=>{const be=ge.filter(Ae=>{var Ke;return(Ke=Ae.permissionMap)==null||(Ke=Ke.memberCurrentScopePermisson)==null?void 0:Ke.isManager});return Object.values(Object.fromEntries([...be,...ce].map(Ae=>[Ae.user_id,Ae])))},[ge,ce]),xe=(0,s.useMemo)(()=>{const be=H.map(Ae=>Number(Ae.user_id)),Oe=[];for(const[Ae,Ke]of re.entries())be.includes(Number(Ae))||Ke&&Oe.push(Ke);return Oe},[re,H]);return{isOnlyOneManager:(0,s.useMemo)(()=>he.filter(be=>{var Oe;return(Oe=be.permissionMap)==null||(Oe=Oe.memberCurrentScopePermisson)==null?void 0:Oe.isManager}).length===1,[he]),userCurrentScopePermisson:oe,userCurrentSpacePermission:x,currentMembers:ce,inheritedMembers:ge,joinedMembers:he,unjoinedMembers:ye,assignedMembers:H,unassignedMembers:xe,currentOrgMembersMap:c}};var wt=n(83199),r=n(72214);const ue=()=>{var e;const i=(0,y.d4)(u.query.getUser),l=(0,y.d4)(u.query.getProject),c=(0,y.d4)(u.query.getInitData),w=nt(l==null?void 0:l.team_cid),_=l==null?void 0:l.cid,x=(0,y.wA)(),j=(0,s.useCallback)(P=>{P.stopPropagation(),x({type:u.entryKey["sharing:init"],payload:{mainPage:"access"}}),x({type:u.entryKey["sharing:function:track"],payload:{operation:"\u56E2\u961F\u534F\u4F5C"}})},[x]),{currentMembers:E,inheritedMembers:W,joinedMembers:K}=bt(je.W.Project,_);let $=E;w>=1?W.forEach(P=>{$.find(ce=>ce.id===P.id)||$.push(P)}):$=K;const le=(e=$)==null?void 0:e.filter(P=>Number(P.user_id)!==Number(i==null?void 0:i.id));le&&($=le.slice(0,2));const oe=(0,s.useCallback)(P=>{var re;const{avatar:ce,name:ge,id:he}=P;return ce&&!ce.includes("/images/avatar.png")?(0,r.jsx)("img",{className:"avatar",src:P.avatar,alt:P.name},he):(0,r.jsx)("div",{className:"avatar avater-name",children:ge==null||(re=ge.slice(0,1))==null?void 0:re.toUpperCase()},he)},[]);return!c||JSON.stringify(c)==="{}"?null:(0,r.jsx)(wt.A,{content:I18N.imockSharing.team_collaborator,direction:"down",distance:5,enterHoverTime:500,children:(0,r.jsxs)(Ye,{onClick:j,children:[oe(i),$.length>0&&$.map(P=>oe(P)),(0,r.jsx)("div",{className:"remaining",children:(0,r.jsx)(Re.C,{name:"sharing/add_member",isColorPure:!0})}),(0,r.jsx)(Re.C,{name:"sharing/member_arror",isColorPure:!0,className:"arror"})]})})},ve=(0,s.memo)(ue),Te=A.Ay.div.withConfig({displayName:"styles__StyledSharingSliderBar",componentId:"sc-1garbfp-0"})(["display:flex;height:100%;align-items:center;position:relative;padding-left:24px;.tab-item{color:",";font-size:14px;font-family:PingFang SC;cursor:pointer;height:100%;display:flex;align-items:center;&:not(:first-child){margin-left:14px;}&.tab-sel{color:",";font-weight:500;border-top:2px solid rgba(0,0,0,0);border-bottom:2px solid ",";box-sizing:border-box;}}"],e=>e.theme.color_share_switch_sel_color,e=>e.theme.color_text_L1,e=>e.theme.color_text_L1),He=e=>{let{tabs:i,handleChangeTabIndex:l,tabIndex:c,className:w}=e;return(0,r.jsx)(Te,{className:w,children:i.map((_,x)=>(0,r.jsx)("div",{className:te()("tab-item",c===x&&"tab-sel"),id:"tab-item-"+x,onClick:()=>l(x),children:_},x))})},qe=(0,s.memo)(He);var dt=n(37342),It=n(84957);const Ft=()=>{let e=null;const i=(0,y.wA)(),l=(0,y.d4)(u.query.getProject),c=(0,y.d4)(u.query.getCanEditByUser),w=(0,y.d4)(u.query.getHostType),_=(0,y.d4)(u.query.getIsEditMode),x=(0,y.d4)(u.query.getInitData),j=(0,y.d4)(u.query.getTabIndex),E=(0,y.d4)(u.query.getUser),[W,K]=(0,s.useState)(!1),$=(l==null?void 0:l.is_org_project)||!1,O=w==="iframe"||_,oe=new URLSearchParams(location.search).get("view_mode")||"read_only",P=O&&$&&x&&JSON.stringify(x)!=="{}",re=c&&!$,ce=(0,s.useCallback)(()=>{const H=w==="iframe",xe=(H?"\u5DE5\u4F5C\u533A":"\u7F16\u8F91\u533A")+"-v8_\u4E2A\u4EBA_\u5206\u4EAB_\u56E2\u961F\u534F\u4F5C\u5347\u7EA7",_e=(H?"dashboard":"workspace")+"-v8_solo_share_upgrade",be={payEntrance:xe,checkoutPlace:_e,checkoutArea:H?"dashboard":"proto",mode:"org",isSelectOrg:!0};if(H){if(!E||!E.solo_org)return;const Oe="/workspace/"+E.solo_org.cid+"/admin/order?payment_param="+(0,It._)(be);(0,dt.JW)(Oe,"_blank","noreferrer")}else MB.global.popupHelper.chargeAsync(be)},[]),ge=()=>{e=setTimeout(()=>{K(!0)},1e3)},he=()=>{e&&clearTimeout(e),K(!1)},ye=(0,s.useCallback)(H=>{i({type:u.entryKey["sharing:init"],payload:{tabIndex:H}})},[i]);return(0,r.jsx)(De,{className:te()(re&&"tool-upgrade"),children:O?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(qe,{tabIndex:j,tabs:[I18N.imockSharing.default_share,I18N.imockSharing.advanced_sharing],handleChangeTabIndex:ye}),re&&(0,r.jsxs)("div",{className:"upgrade-team-business",onClick:ce,onMouseEnter:ge,onMouseLeave:he,children:[(0,r.jsx)("span",{className:"team-business",children:I18N.imockSharing.team_collaboration}),W&&(0,r.jsxs)("div",{className:"content",onClick:H=>H.stopPropagation(),children:[(0,r.jsx)("div",{className:"top-bar"}),(0,r.jsx)("span",{children:I18N.imockSharing.upgrade_to_team_business_plan}),(0,r.jsx)("a",{className:"learn-text",href:I18N.link.link_upgrade_enterprise,target:"_blank",rel:"noopener noreferrer",children:I18N.imockSharing.learn_more})]})]}),P&&(0,r.jsx)(ve,{})]}):(0,r.jsx)("div",{className:"sharing-title",children:oe==="read_only"?I18N.pPreviewToolbar.share:I18N.pPreviewToolbar.share_preview})})},Vt=(0,s.memo)(Ft),$t=A.Ay.div.withConfig({displayName:"styles__StyledSharingAdvancedPage",componentId:"sc-1h5adoi-0"})(["width:100%;height:calc(100% - ","px);padding:16px 20px 5px;overflow-y:auto;.create-item{display:flex;align-items:center;padding:6px 12px;height:32px;color:",";text-align:center;font-size:14px;font-family:PingFang SC;width:fit-content;border-radius:6px;cursor:pointer;svg{width:12px;margin-right:4px;svg path{fill:",";}}&:not(.no-edit):hover{background:",";}&:not(.no-edit):active{background:",";}&.no-edit{opacity:0.3;pointer-events:none;}}"],fe.gE,e=>e.theme.color_text_L1,e=>e.theme.color_text_L1,e=>e.theme.color_btn_secondary_hover,e=>e.theme.color_btn_secondary_active),Rn=A.Ay.div.withConfig({displayName:"styles__StyledSharingEmpty",componentId:"sc-1h5adoi-1"})(["width:100%;height:calc(100% - ","px);display:flex;justify-content:center;flex-direction:column;align-items:center;svg{width:254px;}.create-sharing{width:134px;margin-top:40px;}"],fe.gE);var un=n(25234),Nn=n(21066),pn=n(51090);const In=A.Ay.div.withConfig({displayName:"styles__StyledSharingNormalItem",componentId:"sc-11k1y99-0"})(["margin-top:12px;padding:0px 13px;height:134px;display:flex;flex-direction:column;justify-content:center;background:",";border-radius:8px;.share-icon{width:24px;height:24px;border-radius:4px;margin-left:6px;cursor:pointer;&.tempDisabled{pointer-events:none;}svg{width:100%;height:100%;}}"],e=>e.theme.color_bg_canvas),mn=A.Ay.div.withConfig({displayName:"styles__StyledCenterItem",componentId:"sc-11k1y99-1"})(["display:flex;min-height:36px;width:100%;margin-top:12px;margin-bottom:16px;&.default-link{margin-bottom:0px;}&.advance-item{margin-bottom:12px;}&.userNoEdit{.left.normal-hover{cursor:not-allowed;.view-access-select{svg,path{fill:",";}}}}&.notView{cursor:not-allowed;.url-copy-button{background:",";border:"," solid 1px;color:",";pointer-events:none;}}.left{flex-grow:1;background-color:",";display:flex;align-items:center;border:"," solid 1px;border-right:none;border-radius:6px 0 0 6px;&.can-not-edit{pointer-events:none;}&.normal-hover{cursor:pointer;&:hover{background-color:",";}}.chore{margin-right:21px;color:",";}.view-access-select{margin-left:10px;display:flex;align-items:center;.access-name{color:",";}&.is-expired{","}.svg-icon{color:",";transition:all 0.2s;transform :",";}}.single-preview{width:100%;padding:0 6px;color:",";}}.url-copy-button{flex-grow:0;width:97px;}"],e=>e.theme.color_share_access__button_disable,e=>e.theme.color_share_copy__button_disable_bg,e=>e.theme.color_bg_border_02,e=>e.theme.color_share_copy__button_disable,e=>e.isViewActiveDropdown?e.theme.color_btn_secondary_hover:e.theme.color_bg_white,e=>e.theme.color_bg_border_02,e=>e.theme.color_btn_secondary_hover,e=>e.theme.color_text_L3,e=>e.theme.color_text_L1,e=>e.theme.color_text_L3,e=>e.theme.color_text_L1,e=>e.isViewActiveDropdown?"rotate(-180deg)":"",e=>e.theme.color_text_L1),jn=(0,A.Ay)(Nn.Ay).withConfig({displayName:"styles__StyledMenuContent",componentId:"sc-11k1y99-2"})(["ul{width:270px;li > a{padding-left:10px;svg{position:absolute;right:8px;}}}",";&.advance_menu ul{width:244px;}&.misc ul{width:80px;min-width:auto;}"],pn.ZJ),tn=A.Ay.button.withConfig({displayName:"styles__StyledCopyButton",componentId:"sc-11k1y99-3"})(["display:flex;position:relative;width:82px;font-size:12px;font-weight:500;border-top-right-radius:6px;border-bottom-right-radius:6px;background-color:",";&:hover{background-color:",";}&:active{background-color:",";}color:",";&.is-disabled{cursor:not-allowed;pointer-events:none;color:",";background-color:",";}.state{position:absolute;left:0;top:0;display:flex;justify-content:center;align-items:center;width:100%;height:100%;transition:all 0.15s ease-out;}.state-1{opacity:0;.copy-check{color:#ffffff;width:24px;}}&.is-state-1 .state-0{opacity:0;transform:translateY(50%);}&.is-state-1 .state-1{opacity:1;transform:none;}"],e=>e.theme.color_btn_primary_normal,e=>e.theme.color_btn_primary_hover,e=>e.theme.color_btn_primary_clicked,e=>e.theme.color_text_btn,e=>e.theme.color_text_disabled02,e=>e.theme.color_btn_primary_disabled),hn=A.Ay.div.withConfig({displayName:"styles__StyledSharingItemHead",componentId:"sc-1tpfzbt-0"})(["display:flex;align-items:center;justify-content:space-between;color:",";font-size:12px;font-family:PingFang SC;.head-left{display:flex;font-size:14px;font-weight:500;align-items:center;color:",";.public-access{margin-right:8px;}.link-form{width:176px;input{width:176px;}}.link-name{width:176px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;cursor:text;&.link-name-not-edit{pointer-events:none;}&:not(.link-name-not-edit):hover{border-bottom:1px solid ",";}position:relative;height:24px;line-height:24px;}input{height:24px;line-height:24px;color:",";width:240px;border-bottom:1px solid ",";}.edit-name{width:20px;height:20px;margin-left:5px;}}.head-right{display:flex;justify-content:center;align-items:center;border-radius:4px;padding-left:4px;&:hover{background-color:",";}}.foot-right{display:flex;align-items:center;}.view-mode-icon{width:16px;height:16px;margin-right:6px;[stroke]{stroke:currentColor;fill:none;}}.share-icon{margin-left:5px;}&.canNotEdit{label{pointer-events:none;opacity:0.3;cursor:not-allowed;}}"],e=>e.theme.color_text_L1,e=>e.theme.color_text_L1,e=>e.theme.color_proto,e=>e.theme.color_text_L1,e=>e.theme.color_proto,e=>e.theme.color_btn_secondary_active);function Gs(e){const{fBlur:i,name:l}=e,[c,w]=(0,s.useState)(!1),[_,x]=(0,s.useState)(l),j=(0,s.useRef)(null);(0,s.useEffect)(()=>{if(c){var O;(O=j.current)==null||O.focus()}},[c]);const E=()=>{i(),w(!1)};return{inputRef:j,isRenaming:c,setIsRenaming:w,inputName:_,setInputName:x,handleFocus:()=>{var O;(O=j.current)==null||O.select()},handleBlur:E,handleKeyDown:O=>{O.key==="Enter"&&E()},handleInput:O=>{let le=O.target.value;le.length>200&&(le=le.substring(0,200)),x(le)}}}const Dt={embed:"embed",QRcode:"QRcode",setting:"setting",mkt:"mkt_icon",showPage:"showPage"},Ys=A.Ay.div.withConfig({displayName:"styles__StyledIconBox",componentId:"sc-1juwfby-0"})(["display:flex;justify-content:center;align-items:center;width:20px;height:20px;color:",";cursor:pointer;border-radius:4px;position:relative;transition:background-color 0.2s ease-in-out;.Tooltip{display:flex;}&.tempDisabled{opacity:0.3;}&.isBorder{border-radius:50%;border:1px solid ",";}&.disabled{cursor:not-allowed;color:",";}&:not(.disabled):hover{background:",";}&:not(.disabled):active{background:",";}"],e=>e.theme.color_text_L2,e=>e.theme.color_bg_border_02,e=>e.theme.color_text_disabled01,e=>e.theme.color_btn_secondary_active,e=>e.theme.color_btn_secondary_active);function _n(e){const{className:i,size:l=20,name:c,onClick:w,onMouseEnter:_,onMouseLeave:x,children:j,tempDisabled:E,direction:W,toolTipName:K,type:$,isColorPure:O,isBorder:le}=e,oe=P=>{E||w(P,$)};return(0,r.jsx)(wt.A,{content:K,direction:W||"up",distance:5,enterHoverTime:500,children:(0,r.jsxs)(Ys,{className:te()(i,E&&"tempDisabled",le&&"isBorder"),onClick:oe,onMouseEnter:_,onMouseLeave:x,children:[(0,r.jsx)(Re.C,{size:l,name:c,isColorPure:O}),j]})})}const ys=e=>{let{sharingData:i,handleItemAction:l}=e;const{link_name:c}=i,w=(0,y.wA)(),_=i.device_model,[x,j]=(0,s.useState)(c),E=(0,y.d4)(u.query.getCanEditByUser),W=(0,y.d4)(u.query.getIsEditMode),K=(0,y.d4)(u.query.getHostType),$=(0,y.d4)(u.query.getScreenMetaList),O=(0,y.d4)(u.query.getAdvancedSharingList),le=K==="iframe"||W,oe=le&&E,P=le&&E,re=()=>{const Qe=_e.current.value;if(Qe==="")Oe(x),w({type:u.entryKey["sharing:init"],payload:{sharingToast:I18N.Common.name_cannot_be_empty}});else if((0,V.it)({value:Qe,currentSharing:i,sharingList:O}))Oe(x),w({type:u.entryKey["sharing:init"],payload:{sharingToast:I18N.imockSharing.sharing_name_repeate_wran}});else{j(Qe);const ot={link_name:Qe};w({type:u.entryKey["sharing:remote:sharing:update"],payload:{sharingData:i,updatedKV:ot}})}},ce=(0,s.useMemo)(()=>i.type==="advanced"?(0,V.Sy)($,i):null,[i,$]),{isRenaming:ge,setIsRenaming:he,handleKeyDown:ye,handleBlur:H,handleFocus:xe,inputRef:_e,handleInput:be,setInputName:Oe,inputName:Ae}=Gs({name:x||"",fBlur:re}),Ke=(0,s.useCallback)(()=>{he(!0)},[he]),We=(0,s.useMemo)(()=>[{name:"sharing/embed_icon",toolTipName:I18N.imockSharing.insert,className:Dt.embed,tempDisabled:!1},ENV.IS_ON_PREMISES?null:{name:"sharing/QRcode_icon",toolTipName:I18N.imockSharing.qr_code,className:Dt.QRcode,tempDisabled:!1},{name:"sharing/more",toolTipName:I18N.LeftSidePanel.menu,className:Dt.setting,tempDisabled:!P}].filter(Boolean),[P]);return(0,r.jsxs)(hn,{className:te()(!oe&&"canNotEdit"),children:[(0,r.jsxs)("div",{className:"head-left",children:[(0,r.jsx)(Re.C,{className:"view-mode-icon",name:_==="device"?"sharing/mode_device":"sharing/mode_canvas"}),ge?(0,r.jsx)("form",{className:"link-form",children:(0,r.jsx)("input",{value:Ae,onFocus:xe,onChange:be,ref:_e,onBlur:H,onKeyPress:ye})}):(0,r.jsx)(r.Fragment,{children:(0,r.jsx)("div",{className:te()("link-name",!P&&"link-name-not-edit"),onClick:Ke,children:x})})]}),(0,r.jsx)(wt.A,{content:I18N.imockSharing.tab_screen,direction:"up",distance:5,enterHoverTime:500,children:(0,r.jsxs)("div",{className:"head-right",children:[(0,r.jsx)("div",{children:ce}),(0,r.jsx)(_n,{className:"share-icon",name:"sharing/page_visible",tempDisabled:!P,size:20,onClick:Qe=>l(Qe,Dt.showPage)})]})}),(0,r.jsx)("div",{className:"foot-right",children:We.map((Qe,ot)=>Qe&&(0,r.jsx)(_n,{className:te()("share-icon",Qe.className),name:Qe.name,type:Qe.className,toolTipName:Qe.toolTipName,onClick:l,tempDisabled:Qe.tempDisabled,isColorPure:Qe.isColorPure,size:20},ot))})]})},$s=(0,s.memo)(ys),Qs=A.Ay.div.withConfig({displayName:"styles__StyledSharingItemFoot",componentId:"sc-1b50v3w-0"})(["display:flex;align-items:center;justify-content:space-between;color:",";font-size:12px;font-family:PingFang SC;.visit_count{color:",";.svg-icon{path{fill:rgba(22,132,252,1);}path:last-of-type{fill:#fff;}}}.expiration-time{display:flex;align-items:center;color:",";.expire-text{margin:0 4px;cursor:pointer;.expired-desc{color:",";}.expired-no{color:",";}}.expire-icon{width:24px;height:24px;}&.is-expired{color:",";}svg{color:",";cursor:pointer;}.self-transform{svg{transition:all 0.4s;transform:rotate(360deg);}}}"],e=>e.theme.color_text_L2,e=>e.theme.color_text_L1,e=>e.theme.color_text_L3,e=>e.theme.color_text_L1,e=>e.theme.color_text_L3,e=>e.theme.color_text_L1,e=>e.theme.color_text_L1),Bn=(0,A.DU)([".visit-tips{padding:6px;.tip-updated{display:flex;cursor:pointer;align-items:center;font-size:12px;p{margin:0;display:flex;align-items:center;}.icon-updated{display:inline-flex;align-items:center;margin-left:10px;line-height:14px;color:rgba(112,188,246,1);&:hover{color:rgba(149,209,248,1);}.svg-icon{margin-right:2px;path{fill:rgba(22,132,252,1);}path:last-of-type{fill:#fff;}}}}}"]);var Fn=n(79287),qn=n.n(Fn);function En(e,i,l){const c=(0,s.useMemo)(()=>{const x=qn()(),j=qn()(e.expired_at).subtract(2,"s");return j.isBefore(x)?0:j.diff(x,"days")+1},[e]),w=c<=0;let _;return i?_="\u5206\u4EAB\u8D85\u9650\uFF0C\u5347\u7EA7\u89E3\u9501":c>0&&c<=9999?_=c+" \u5929\u540E\u5931\u6548":c>9999?_=l===1?"\u6C38\u4E45\uFF08\u9650\u65F6\u514D\u8D39\uFF09":"\u6C38\u4E45\u6709\u6548":_="\u91CD\u65B0\u751F\u6548",{isExpired:w,remainTimeText:_}}var an=n(74533),kn=n(53559);const Js=e=>{let{sharingData:i,handleUpdateSharing:l}=e;const c=(0,y.wA)(),[w,_]=(0,s.useState)(null),[x,j]=(0,s.useState)(!1),{remainTimeText:E,isExpired:W}=En(i,!1,999),K=i.device_model,$=i.expire_type==="forever",O=(0,y.d4)(u.query.getUser),le=(0,y.d4)(u.query.getOrg),oe=(0,y.d4)(u.query.getProject),P=(0,y.d4)(Ie.cb),re=oe==null?void 0:oe.is_org_project;let ce=!1,ge=!1;if(re){const{plan:_e,trial:be}=(0,kn.rM)(le);ge=be,ce=_e===an.Sj.OrgFull&&!ge}const he=ge||ce,ye=P.roleName&&["org_owner","org_admin","org_manager"].includes(P.roleName),H=he?ye?"enterpriseAdmin":"enterpriseUser":"nonEnterprise",xe=(0,s.useCallback)(()=>{l({expire_type:i.expire_type}),j(!0),setTimeout(()=>j(!1),500),c({type:u.entryKey["sharing:function:track"],payload:{operation:"\u91CD\u7F6E\u6709\u6548\u671F",viewMode:K,isDefault:!1}})},[c,l,i.expire_type,K]);return(0,s.useEffect)(()=>{(async()=>{if(i.access_token)try{const be=await(0,B.dJ)(i.access_token);_(be.count)}catch(be){console.error("Error fetching visit count:",be)}})()},[i.access_token]),(0,r.jsxs)(Qs,{children:[(0,r.jsxs)("div",{className:"visit_count",children:[I18N.imockSharing.visit_count," ",w]}),(0,r.jsxs)("div",{className:te()("expiration-time",{"is-expired":W}),children:[(0,r.jsx)("div",{className:"expire-text",children:(0,r.jsx)("span",{className:W?"expired-desc":"expired-no",children:E})}),!$&&(0,r.jsx)(_n,{direction:"down",toolTipName:I18N.imockSharing.resetLink,onClick:xe,className:te()("expire-icon",{"self-transform":x}),size:12,name:"sharing/refresh_24"})]}),(0,r.jsx)(Bn,{})]})},Xs=(0,s.memo)(Js);var ut=n(15515);const es=e=>{const{project:i,sharing:l,user:c}=e,[w,_]=(0,s.useState)(!1),[x,j]=(0,s.useState)(void 0);return{isURLCopied:w,handleCopyURL:()=>{(0,V.kv)({project:i,action:l.password!==""?"\u590D\u5236\u94FE\u63A5\u548C\u5BC6\u7801":"\u590D\u5236\u94FE\u63A5",linkName:l.link_name}),_(!0),clearTimeout(x);const W=setTimeout(()=>_(!1),3e3);j(W);const K=qn()().format("YYYY-MM-DD HH:mm:ss"),$=(0,V.EL)(c)&&!(0,ut.kV)(fe.nM);(0,ut.cH)(fe.nM,K),$&&(0,G.Sx)({prototype_activation_time:K})}}};var wn=n(43641);function Tn(e){const{password:i}=e;return{isHavePassword:(0,s.useMemo)(()=>i!==null&&i!=="",[i])}}var ts=n(70812);const nn=e=>{var i;let{sharingData:l,setShowDelConfirmModal:c,fromDefault:w}=e;const _=(0,y.wA)(),x=(0,s.useRef)(null),j=l.view_access,E=l.device_model,W=(0,y.d4)(u.query.getProject),K=(0,y.d4)(u.query.getCanEditByUser),$=(0,y.d4)(u.query.getIsEditMode),O=(0,y.d4)(u.query.getHostType),le=(0,y.d4)(u.query.getUser),oe=(0,y.d4)(u.query.getHostCurrentScreen),P=oe==null?void 0:oe.cid,re=(W==null?void 0:W.is_org_project)||!1,ce=O==="iframe"||$,ge=ce&&K,[he,ye]=(0,s.useState)({top:0,left:0}),[H,xe]=(0,s.useState)(!1),{isURLCopied:_e,handleCopyURL:be}=es({project:W,sharing:l,user:le}),{isHavePassword:Oe}=Tn(l),Ae=(0,s.useCallback)(()=>{const gt=(0,V.O8)(W,l,P);(0,wn.$)(gt),be(),_({type:u.entryKey["sharing:function:track"],payload:{operation:"\u9AD8\u7EA7\u5206\u4EAB\u590D\u5236\u94FE\u63A5",viewMode:E,isDefault:!1}}),ce&&ts.U.protoEditorShareTrack(le==null?void 0:le.id,O==="iframe"?"\u5DE5\u4F5C\u53F0\u53F3\u952E\u9AD8\u7EA7\u5206\u4EAB":"\u9AD8\u7EA7\u5206\u4EAB")},[_,l,P,be,W,E]),Ke=(0,s.useCallback)(gt=>{const kt={view_access:gt};_({type:u.entryKey["sharing:remote:sharing:update"],payload:{sharingData:l,updatedKV:kt}}),_({type:u.entryKey["sharing:function:track"],payload:{operation:gt==="public"?"\u6240\u6709\u4EBA":"\u5207\u6362\u56E2\u961F",viewMode:E,isDefault:!1}})},[l,_,E]),We=(0,s.useCallback)(()=>{c({isOpened:!0,item:l})},[c,l]),Qe=(0,s.useCallback)(()=>{_({type:u.entryKey["sharing:go-settingPage"],payload:{currentSharing:l,settingPageType:"edit"}}),_({type:u.entryKey["sharing:function:track"],payload:{operation:"\u8BBE\u7F6E",viewMode:E,isDefault:!1}})},[_,l,E]),ot=(0,s.useCallback)(gt=>{_({type:u.entryKey["sharing:remote:sharing:update"],payload:{sharingData:l,updatedKV:gt}})},[_,l]),[at,lt]=(0,s.useState)(void 0),Ct=(0,s.useMemo)(()=>{if(at==="viewAccess"){const gt=(0,r.jsx)(Re.C,{name:"toolbar/selected",className:"selected-icon"});if(re){const kt=j==="public";return[{label:I18N.imockSharing.share_anyone_view,onclick:()=>Ke("public"),icon:kt?gt:(0,r.jsx)("div",{style:{width:0}})},{label:I18N.imockSharing.org_members_only,onclick:()=>Ke("restricted"),icon:kt?(0,r.jsx)("div",{style:{width:0}}):gt}]}else return[]}else return[{label:I18N.imockSharing.setting,onclick:Qe},{label:I18N.imockSharing.delete,onclick:We}]},[at,Ke,We,Qe,j,re]),Et=(0,s.useCallback)(gt=>{if(!re||!ge)return;lt("viewAccess");const kt=gt.currentTarget.getBoundingClientRect();ye({top:kt.y+kt.height+3,left:kt.x-1}),xe(!H)},[re,ge,H,lt,ye]),At=(0,s.useCallback)((gt,kt)=>{if(gt!=null&&gt.currentTarget)switch(kt){case Dt.QRcode:gt.stopPropagation(),_({type:u.entryKey["sharing:init"],payload:{topPageIndex:"qrCode",currentSelectSharing:l}}),_({type:u.entryKey["sharing:function:track"],payload:{operation:"\u70B9\u51FB\u626B\u7801",viewMode:E,isDefault:!1}});break;case Dt.embed:_({type:u.entryKey["sharing:init"],payload:{topPageIndex:"embed",currentSelectSharing:l}}),_({type:u.entryKey["sharing:function:track"],payload:{operation:"\u70B9\u51FB\u5D4C\u5165\u4E09\u65B9",viewMode:E,isDefault:!1}});break;case Dt.mkt:(0,dt.JW)("/com24/upload?project_cid="+(W==null?void 0:W.cid),"_blank","noreferrer");break;case Dt.setting:{lt("misc");const Ot=gt.currentTarget.getBoundingClientRect(),on=document.getElementById("v8-share-page").getBoundingClientRect().bottom-Ot.bottom<120?Ot.y-75:Ot.bottom+5;ye({top:on,left:O==="iframe"?Ot.x+20:Ot.x-60}),xe(!H)}break;case Dt.showPage:_({type:u.entryKey["sharing:go-settingPage"],payload:{currentSharing:l,settingPageType:"edit",subSettingPageType:"visible"}});break;default:break}},[H,lt,ye,xe,_,W,l,E,O]),Pt=(0,s.useCallback)(()=>{var gt;ye({...he,left:((gt=x.current)==null?void 0:gt.getBoundingClientRect().x)-1})},[he]);(0,s.useEffect)(()=>(window.addEventListener("resize",Pt),()=>window.removeEventListener("resize",Pt)));const{isExpired:Ht}=En(l,!1,999);return(0,r.jsxs)(In,{className:te()(w&&"from-default"),children:[(0,r.jsx)($s,{sharingData:l,handleItemAction:At}),(0,r.jsxs)(mn,{className:te()("item-center",!ge&&"userNoEdit","advance-item"),isViewActiveDropdown:H&&at==="viewAccess",children:[(0,r.jsx)("div",{ref:x,className:te()("left","sharingV2-click-visible",{"normal-hover":!0},!re&&"can-not-edit"),onClick:Et,children:(0,r.jsxs)("div",{className:"view-access-select",children:[(0,r.jsx)("div",{className:"chore",children:I18N.imockSharing.permission_access}),(0,r.jsx)("div",{className:"access-name",children:(i=I18N.imockSharing[fe.nQ[j]])!=null?i:"missing data"}),re&&(0,r.jsx)(Re.C,{size:24,name:"sharing/dropdown_24"})]})}),(0,r.jsxs)(tn,{type:"button",className:te()("copy","sharingV2-click-visible","url-copy-button","is-state-"+Number(_e),{"is-disabled":Ht}),onClick:Ae,children:[(0,r.jsx)("span",{className:"state state-0",children:Ht?I18N.dModule.link_expired_err_title:Oe?I18N.imockSharing.copy_url_pwd:I18N.imockSharing.copy_url}),(0,r.jsx)("span",{className:"state state-1",children:(0,r.jsx)(Re.C,{name:"new_replace/check",className:"copy-check"})})]})]}),(0,r.jsx)(Xs,{sharingData:l,handleUpdateSharing:ot}),H&&(0,r.jsx)(jn,{className:te()("design-avoid",at,"advance_menu"),position:he,onClose:()=>{xe(!1)},children:Ct.map((gt,kt)=>(0,r.jsx)(Nn.Dr,{text:gt.label,onClick:gt.onclick,icon:gt.icon,disabled:gt.disabled,canClick:gt.tempDisabled},kt))})]})},qs=(0,s.memo)(nn),xs=A.Ay.div.withConfig({displayName:"styles__StyledDeletingConfirmModal",componentId:"sc-1ws30dd-0"})(["display:flex;position:absolute;top:0;bottom:0;left:0;width:100%;height:100%;justify-content:center;align-items:center;background:rgba(0,0,0,0.4);.confirm-content{display:flex;height:fit-content;border-radius:10px;background:",";width:calc(100% - 54px);color:",";font-family:PingFang SC;font-style:normal;flex-direction:column;padding-bottom:18px;border:1px solid ",";box-shadow:0px 9px 28px 0px rgba(0,0,0,0.09),0px 6px 16px 0px rgba(0,0,0,0.02),0px 3px 6px 0px rgba(0,0,0,0.02);.top{width:100%;height:","px;display:flex;align-items:center;justify-content:center;justify-content:space-between;padding:0 24px;font-size:16px;font-weight:500;line-height:normal;border-bottom:1px solid ",";.close{width:24px;height:24px;svg{width:24px;height:24px;}}}.center{font-size:14px;line-height:22px;width:100%;padding:20px 24px;}.bottom{width:100%;padding-right:24px;display:flex;align-items:center;justify-content:flex-end;.delete{margin-left:12px;}}}"],e=>e.theme.color_bg_white,e=>e.theme.color_text_L1,e=>e.theme.color_share_del_confirm_border_color,fe.gE,e=>e.theme.color_bg_border_02);function Sn(e){let{handleConfirmAction:i}=e;return(0,r.jsx)(xs,{children:(0,r.jsxs)("div",{className:"confirm-content",children:[(0,r.jsxs)("div",{className:"top",children:[(0,r.jsx)("div",{children:I18N.imockSharing.delete_share}),(0,r.jsx)(_n,{name:"sharing/close",onClick:()=>i(!1),className:"close"})]}),(0,r.jsx)("div",{className:"center",children:I18N.imockSharing.deletion_shared_links_warning}),(0,r.jsxs)("div",{className:"bottom",children:[(0,r.jsx)(un.tA,{onClick:()=>i(!1),children:I18N.imockSharing.cancel}),(0,r.jsx)(un.Qi,{className:"delete",onClick:()=>i(!0),children:I18N.imockSharing.delete})]})]})})}const zn=s.memo(Sn),Ln=()=>{const e=(0,y.d4)(u.query.getUser),i=(0,y.d4)(u.query.getOrg),{cid:l,name:c,is_org_project:w}=(0,y.d4)(u.query.getProject),_=(0,y.d4)(u.query.getHostType),x=(0,y.d4)(u.query.getAdvancedSharingList),j=(0,y.d4)(u.query.getCanEditByUser),E=(0,y.d4)(u.query.getProjShareToEdit),W=(0,y.d4)(u.query.getTheme),[K,$]=(0,s.useState)({isOpened:!1,item:null}),[O,le]=(0,s.useState)(!1),oe=(0,y.wA)(),P=x.length===0,re=(0,s.useCallback)(async ge=>{ge&&oe({type:u.entryKey["sharing:remote:sharing:delete"],payload:{sharingCid:K.item.cid}}),$({isOpened:!1,item:null})},[K.item,$,oe]);(0,s.useEffect)(()=>{(async()=>{const ye=(await(0,B.X0)({projectCid:l})).map(H=>({...H,type:"advanced"})).sort((H,xe)=>new Date(xe.created_at).getTime()-new Date(H.created_at).getTime());if(E){const H=ye.find(xe=>xe.access_token===E);H&&(oe({type:u.entryKey["sharing:go-settingPage"],payload:{currentSharing:H,settingPageType:"edit"}}),oe({type:u.entryKey["sharing:init"],payload:{projShareToEdit:""}}))}oe({type:u.entryKey["sharing:advancedSharingList:update"],payload:{sharingList:ye}}),le(!0)})()},[l,oe]);const ce=async()=>{const ge=(0,V.jc)(e,i),he=()=>{(0,G.kH)("create_advanced_sharing_click",{project_name:c,project_cid:l,source:_==="iframe"?"\u5DE5\u4F5C\u53F0":"\u7F16\u8F91\u533A"})};if(x.length>=ge&&!ENV.IS_ON_PREMISES){const H=(i==null?void 0:i.plan)==="org_full"?"MaxOrgSize":"NormalOrgSize";window.SharingEventEmitter.emit("sharing:count",{whichModal:H}),window.top.postMessage(JSON.stringify({sharingMessage:"sharing:count",payload:{whichModal:H}}),"*"),he();return}const ye=(0,V.zM)(l,x,{view_access:w?"restricted":"public"});oe({type:u.entryKey["sharing:go-settingPage"],payload:{currentSharing:ye,settingPageType:"create"}}),he()};return O?P?(0,r.jsxs)(Rn,{children:[(0,r.jsx)(Re.C,{name:W==="dark"?"sharing/empty_dark":"sharing/empty",isColorPure:!0}),(0,r.jsx)(un.jn,{onClick:ce,className:"create-sharing",children:I18N.imockSharing.new_share})]}):(0,r.jsxs)($t,{children:[(0,r.jsxs)("div",{className:"create-item "+(j?"":"no-edit"),onClick:ce,children:[(0,r.jsx)(Re.C,{name:"sharing/add_new"}),I18N.imockSharing.new_share]}),x.map((ge,he)=>(0,r.jsx)(qs,{setShowDelConfirmModal:$,sharingData:ge},ge.cid+"-"+he)),K.isOpened&&(0,r.jsx)(zn,{handleConfirmAction:re})]}):null},ns=(0,s.memo)(Ln),ss=A.Ay.div.withConfig({displayName:"styles__StyledSharingDefaultMainPage",componentId:"sc-zm7bo-0"})(["width:100%;height:calc(100% - ","px);.default-top{height:calc(100% - ","px);display:flex;flex-direction:column;justify-content:center;padding:0 24px;.switch-content{height:24px;display:flex;align-items:center;color:",";font-family:PingFang SC;font-size:14px;font-style:normal;font-weight:500;line-height:normal;justify-content:space-between;span{margin-right:10px;}.visit-count{font-weight:400;font-size:12px;color:",";}}.wm-tip{height:25px;margin-top:12px;display:flex;span{height:25px;font-size:12px;font-weight:400;line-height:25px;color:",";}.divider{width:1px;height:13px;margin:6px 10px;background:",";}.btn{display:inline-block;padding:4px 6px;width:60px;height:25px;line-height:17px;font-size:12px;font-weight:500;border-radius:4px;background:",";color:",";&:hover{background:",";}}}}.default-bottom{height:","px;display:flex;align-items:center;justify-content:space-between;padding:0 24px;color:",";background:",";.bottom-left{display:flex;align-items:center;font-family:PingFang SC;font-size:14px;font-style:normal;font-weight:500;line-height:normal;}.share-icon{width:28px;height:28px;margin-left:14px;&:hover,&:active{background:",";}}svg{width:24px;height:24px;}.default-setting{display:flex;align-items:center;font-family:PingFang SC;font-size:14px;font-style:normal;font-weight:400;line-height:14px;padding:6px 12px 6px 6px;height:28px;border-radius:6px;cursor:pointer;svg{margin-right:2px;}&:not(.no-edit):hover,&:not(.no-edit):active{background:",";}&.no-edit{opacity:0.3;pointer-events:none;}}}&.canNotEdit{label{pointer-events:none;opacity:0.3;cursor:not-allowed;}}"],fe.gE,fe.gE,e=>e.theme.color_text_L1,e=>e.theme.color_text_L2,e=>e.theme.color_text_L2,e=>e.theme.color_btn_secondary_hover,e=>e.theme.color_info_bg,e=>e.theme.color_text_link_normal,e=>e.theme.color_grid,fe.gE,e=>e.theme.color_text_L1,e=>e.theme.color_bg_canvas,e=>e.theme.color_btn_secondary_active,e=>e.theme.color_btn_secondary_active);var St=n(92114),sn=n(85449),bs=n(67771),os=n(21770),rs=n(35428),Un=n(17573);const Wn=e=>{var i;let{defaultShare:l}=e;const c=(0,y.wA)(),w=(0,s.useRef)(null),_=(0,y.d4)(u.query.getProject),x=l,[j,E]=(0,s.useState)(null);_&&(x.visibility=_.visibility);const W=(0,y.d4)(u.query.getHostType),K=(0,y.d4)(u.query.getIsEditMode),$=(0,y.d4)(u.query.getUser),O=W==="iframe"||K,le=(0,y.d4)(u.query.getCanEditByUser),oe=(0,y.d4)(u.query.getHostCurrentScreen),P=oe==null?void 0:oe.cid,re=(0,y.d4)(u.query.getUser),ce=(0,y.d4)(u.query.getOrg),ge=(0,y.d4)(Ie.cb),he=(_==null?void 0:_.is_org_project)||!1,ye=!he&&le,[H,xe]=(0,s.useState)({top:0,left:0}),[_e,be]=(0,s.useState)(!1),[Oe,Ae]=(0,s.useState)(x==null?void 0:x.visibility);let Ke=!1,We=!1;if(he){const{plan:tt,trial:Nt}=(0,kn.rM)(ce);We=Nt,Ke=tt===an.Sj.OrgFull&&!We}const Qe=We||Ke,ot=ge.roleName&&["org_owner","org_admin","org_manager"].includes(ge.roleName),at=Qe?ot?"enterpriseAdmin":"enterpriseUser":"nonEnterprise",lt=O&&le&&Oe==="open",Ct=O&&le,{isURLCopied:Et,handleCopyURL:At}=es({project:_,sharing:x,user:$}),[Pt,Ht]=(0,s.useState)(!1),[gt,kt]=(0,s.useState)(!0);(0,s.useEffect)(()=>{const tt=(0,sn.fV)();if(tt){const{mdWMMktList:Nt,mtWMMktList:Xt,noWMMktList:Ks}=tt;(Nt.size||Xt.size)&&(0,Un._5)()&&kt(!1);const Jo=[...Nt,...Xt,...Ks];Jo.length&&(0,bs.q)(Jo).then(Xo=>{if(Xo.mdWMMktList.length>0||Xo.mtWMMktList.length>0){if(!(0,Un._5)())return;Ht(!0),ts.U.watermarkExposureTrack("share")}})}},[]);const Ot=()=>{const{isSoloMdMember:tt}=(0,os.s)(re,MB.currentOrg),Nt=!!MB.currentOrg,Xt={mode:"mat",payEntrance:"\u7F16\u8F91\u533A-v8-"+(Nt?"\u56E2\u961F":"\u4E2A\u4EBA")+"-\u4ED8\u8D39\u7D20\u6750\u8BD5\u7528-\u5206\u4EAB\u884C\u4E3A\u63D0\u793A-"+(tt?"\u5347\u7EA7\u7D20\u6750\u4F1A\u5458":"\u5347\u7EA7\u53CC\u4F1A\u5458"),checkoutPlace:"workspace_v8_"+(Nt?"org":"solo")+"_watermark_share_"+(tt?"template":"vip-template"),checkoutArea:"proto"};MB.global.popupHelper.chargeAsync({...Xt}),(0,rs._)({click_button:"\u5206\u4EAB-"+(tt?"\u5347\u7EA7\u7D20\u6750\u4F1A\u5458":"\u5347\u7EA7\u53CC\u4F1A\u5458")})},Jt=(0,s.useCallback)(tt=>{const Nt={access:tt};c({type:u.entryKey["sharing:remote:sharing:update"],payload:{sharingData:x,updatedKV:Nt}}),c({type:u.entryKey["sharing:function:track"],payload:{operation:tt==="public"?"\u6240\u6709\u4EBA":"\u5207\u6362\u56E2\u961F",viewMode:x.view_mode,isDefault:!0}})},[x,c]),ft=(0,s.useMemo)(()=>{const tt=(0,r.jsx)(Re.C,{name:"toolbar/selected",className:"selected-icon"});if(he){const Nt=(x==null?void 0:x.view_access)==="public";return[{label:I18N.imockSharing.share_anyone_view,onclick:()=>Jt("public"),icon:Nt?tt:(0,r.jsx)("div",{style:{width:0}})},{label:I18N.imockSharing.org_members_only,onclick:()=>Jt("restricted"),icon:Nt?(0,r.jsx)("div",{style:{width:0}}):tt}]}else return[]},[Jt,he,x]),vt=(0,s.useMemo)(()=>{const tt=[{name:"sharing/embed_icon",toolTipName:I18N.imockSharing.insert,className:Dt.embed,tempDisabled:Oe==="close",isBorder:!0}];return ENV.IS_ON_PREMISES||tt.unshift({name:"sharing/QRcode_icon",toolTipName:I18N.imockSharing.qr_code,className:Dt.QRcode,tempDisabled:Oe==="close",isBorder:!0}),ye&&tt.push({name:"sharing/mkt_icon",toolTipName:gt?I18N.imockSharing.publish_to_community:"\u542B\u4ED8\u8D39\u7D20\u6750\uFF0C\u4E0D\u652F\u6301\u4E0A\u4F20",className:Dt.mkt,tempDisabled:Oe==="close"||!gt,isColorPure:!0,isBorder:!0}),tt},[Oe,ye,gt]),on=(0,s.useCallback)(()=>{const tt=Oe==="close"?"open":"close",Nt={visibility:tt};Ae(tt),c({type:u.entryKey["sharing:remote:sharing:update"],payload:{sharingData:x,updatedKV:Nt}}),c({type:u.entryKey["sharing:function:track"],payload:{operation:tt==="open"?"\u6253\u5F00\u8BBF\u95EE":"\u5173\u95ED\u8BBF\u95EE",viewMode:x.view_mode,isDefault:!0}})},[Oe,c,x,Ae]),Jn=(0,s.useCallback)(tt=>{if(!he||!lt)return;const Nt=tt.currentTarget.getBoundingClientRect();let Xt=Nt.y+Nt.height+3;W==="iframe"&&(Xt=Xt+56),xe({top:Xt,left:Nt.x-1}),be(!_e)},[he,lt,_e,xe,W]),Xn=(0,s.useCallback)(()=>{const tt=(0,V.O8)(_,x,P);(0,wn.$)(tt),At(),c({type:u.entryKey["sharing:function:track"],payload:{operation:"\u9ED8\u8BA4\u5206\u4EAB\u590D\u5236\u94FE\u63A5",viewMode:x.view_mode,isDefault:!0}}),O&&ts.U.protoEditorShareTrack(re==null?void 0:re.id,W==="iframe"?"\u5DE5\u4F5C\u53F0\u53F3\u952E\u666E\u901A\u5206\u4EAB":"\u666E\u901A\u5206\u4EAB")},[_,x,P,At,c]),vn=(0,s.useCallback)(()=>{const tt=x,{view_mode:Nt}=x;c({type:u.entryKey["sharing:go-settingPage"],payload:{currentSharing:tt,settingPageType:"edit"}}),c({type:u.entryKey["sharing:function:track"],payload:{operation:"\u8BBE\u7F6E",viewMode:Nt,isDefault:!0}})},[x,c]),rn=(0,s.useCallback)((tt,Nt)=>{if(!(tt!=null&&tt.currentTarget))return;const Xt=x,{view_mode:Ks}=x;switch(Nt){case Dt.QRcode:tt.stopPropagation(),c({type:u.entryKey["sharing:init"],payload:{topPageIndex:"qrCode",currentSelectSharing:Xt}}),c({type:u.entryKey["sharing:function:track"],payload:{operation:"\u70B9\u51FB\u626B\u7801",viewMode:Ks,isDefault:!1}});break;case Dt.embed:c({type:u.entryKey["sharing:init"],payload:{topPageIndex:"embed",currentSelectSharing:Xt}}),c({type:u.entryKey["sharing:function:track"],payload:{operation:"\u70B9\u51FB\u5D4C\u5165\u4E09\u65B9",viewMode:Ks,isDefault:!1}});break;case Dt.mkt:(0,dt.JW)("/com24/upload?project_cid="+(_==null?void 0:_.cid),"_blank","noreferrer");break;default:break}},[c,_,x]),Yt=(0,s.useCallback)(()=>{var tt;xe({...H,left:((tt=w.current)==null?void 0:tt.getBoundingClientRect().x)-1})},[H]);return(0,s.useEffect)(()=>(window.addEventListener("resize",Yt),()=>window.removeEventListener("resize",Yt))),(0,s.useEffect)(()=>{(async()=>{const Nt=x.access_token;if(Nt)try{const Xt=await(0,B.dJ)(Nt);E(Xt.count)}catch(Xt){console.error("Error fetching visit count:",Xt)}})()},[x.access_token]),x?(0,r.jsxs)(ss,{className:te()(!Ct&&"canNotEdit"),children:[(0,r.jsxs)("div",{className:"default-top",children:[O?(0,r.jsxs)("div",{className:"switch-content",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{children:I18N.imockSharing.public_access}),(0,r.jsx)(St.A,{size:"small",readOnly:!0,isIOS:!0,isChecked:Oe==="open",onChange:on})]}),(0,r.jsx)("div",{className:"visit-count",children:j!==null&&j!==0&&(0,r.jsxs)(r.Fragment,{children:[I18N.imockSharing.visit_count," ",j]})})]}):(0,r.jsxs)("div",{className:"switch-content",children:[I18N.imockSharing.default_share,j!==null&&j!==0&&(0,r.jsxs)("div",{className:"visit-count",children:[I18N.imockSharing.visit_count," ",j]})]}),(0,r.jsxs)(mn,{className:te()("item-center","default-link",Oe==="close"&&"notView",!lt&&"userNoEdit"),isViewActiveDropdown:_e,children:[(0,r.jsx)("div",{ref:w,className:te()("left","sharingV2-click-visible",{"normal-hover":!0},!he&&"can-not-edit"),onClick:Jn,children:(0,r.jsxs)("div",{className:"view-access-select",children:[(0,r.jsx)("div",{className:"chore",children:I18N.imockSharing.permission_access}),(0,r.jsx)("div",{className:"access-name",children:(i=I18N.imockSharing[fe.nQ[x.view_access]])!=null?i:"missing data"}),he&&(0,r.jsx)(Re.C,{size:24,name:"sharing/dropdown_24"})]})}),(0,r.jsxs)(tn,{type:"button",className:te()("copy","sharingV2-click-visible","url-copy-button","is-state-"+Number(Et)),onClick:Xn,children:[(0,r.jsx)("span",{className:"state state-0",children:x.password&&x.password.length>0?I18N.imockSharing.copy_url_pwd:I18N.imockSharing.copy_url}),(0,r.jsx)("span",{className:"state state-1",children:(0,r.jsx)(Re.C,{name:"new_replace/check",className:"copy-check"})})]})]}),Pt&&(0,r.jsxs)("div",{className:"wm-tip",children:[(0,r.jsx)("span",{children:I18N.WaterMark.mkt.share.tip}),(0,r.jsx)("div",{className:"divider"}),(0,r.jsx)("div",{className:"btn",onClick:Ot,children:I18N.WaterMark.mkt.remove_wm})]})]}),(0,r.jsxs)("div",{className:"default-bottom",children:[(0,r.jsxs)("div",{className:"bottom-left",children:[(0,r.jsx)("div",{children:I18N.imockSharing.share_mode}),vt.map((tt,Nt)=>(0,r.jsx)(_n,{className:te()("share-icon",tt.className),name:tt.name,type:tt.className,toolTipName:tt.toolTipName,onClick:rn,tempDisabled:tt.tempDisabled,isColorPure:tt.isColorPure,isBorder:tt.isBorder,size:24},Nt))]}),O&&(0,r.jsxs)("div",{className:te()("default-setting",!lt&&"no-edit"),onClick:vn,children:[(0,r.jsx)(Re.C,{name:"sharing/default_setting"}),I18N.imockSharing.setting]})]}),_e&&(0,r.jsx)(jn,{className:te()("design-avoid","viewAccess"),position:H,onClose:()=>{be(!1)},children:ft.map((tt,Nt)=>(0,r.jsx)(Nn.Dr,{text:tt.label,onClick:tt.onclick,icon:tt.icon,disabled:tt.disabled,canClick:tt.tempDisabled},Nt))}),(0,r.jsx)(Bn,{})]}):null},eo=(0,s.memo)(Wn),to=A.Ay.div.withConfig({displayName:"styles__StyledSharingMainPage",componentId:"sc-7p2gxy-0"})(["width:100%;position:relative;height:100%;"]),no=A.Ay.div.withConfig({displayName:"styles__StyledSharingEmbedded",componentId:"sc-xvloju-0"})(["width:100%;padding:20px 32px 0 32px;.desc{line-height:17px;font-size:12px;font-family:PingFang SC;color:",";margin-bottom:20px;}.copy-wrapper{display:flex;justify-content:space-between;height:112px;.demo-img{width:192px;height:100%;object-fit:cover;flex-shrink:0;}.copy-box{display:flex;flex-direction:column;width:148px;height:100%;border:1px solid ",";border-radius:2px;overflow:hidden;.sharing-embedded-url{flex-grow:1;height:0;padding:6px 8px;white-space:normal;word-wrap:break-word;color:",";font-size:12px;font-weight:500;}.copy-button{width:100%;height:28px;font-size:12px;background:",";border-top:1px solid ",";color:",";&:hover{background:",";}}}}.open-setting{justify-content:flex-start;.opener-wrapper{display:flex;align-items:center;span{color:#1684fc;margin-right:3px;cursor:pointer;}.svg-icon{width:6px;height:4px;cursor:pointer;transition:transform 0.2s ease-in-out;color:",";}&.is-open{.svg-icon{transform:rotate(-180deg);}}}}.open-setting.line-item.embedded-padding{padding:0;margin-top:14px;}.hidden{height:0;overflow:hidden;transition:height 0.2s;}.hidden.is-open{height:156px;}"],e=>e.theme.color_text_L1,e=>e.theme.color_btn_secondary_active,e=>e.theme.color_text_L2,e=>e.theme.color_bg_card,e=>e.theme.color_btn_secondary_active,e=>e.theme.color_text_L1,e=>e.theme.color_btn_secondary_active,e=>e.theme.color_text_L3);var yn=n(53940);const Qt=A.Ay.div.withConfig({displayName:"styles__StyledSharingTitleBar",componentId:"sc-174zu8p-0"})(["width:100%;height:","px;display:flex;align-items:center;border-bottom:1px solid ",";color:",";font-size:14px;font-family:PingFang SC;font-style:normal;font-weight:500;line-height:24px;.title{cursor:pointer;display:flex;align-items:center;svg{width:32px;height:32px;margin-left:10px;}}"],fe.gE,e=>e.theme.color_border_state,e=>e.theme.color_text_L1),Cn=e=>{let{title:i,handleClick:l}=e;return(0,r.jsx)(Qt,{children:(0,r.jsxs)("div",{className:"title",onClick:l,children:[(0,r.jsx)(Re.C,{name:"sharing/nav_back"}),i]})})},Rt=()=>{let e="read_only";const i=(0,y.wA)(),l=(0,y.d4)(u.query.getCurrentSelectSharing),c=(0,y.d4)(u.query.getProject),w=(0,y.d4)(u.query.getTheme),_=(0,y.d4)(u.query.getHostCurrentScreen),x=(0,y.d4)(u.query.getHostType),j=_==null?void 0:_.cid,{screen_visible_list:E,access_token:W,is_first_canvas_open:K}=l||{};if(l.type==="default"){const{view_mode:he}=l;e=he}else{const{device_model:he}=l;e=he}let $="";const O=(0,y.d4)(u.query.getIsEditMode);l.type==="default"?$=O||e==="read_only"?j:new URLSearchParams(location.search).get("screen")||"":$=j;let le="";const oe=(0,V.a2)(W);x==="iframe"?le='<iframe src="'+oe+"/embed/v2/sharing?view_mode="+e+'" allowTransparency="true" frameborder="0"></iframe>':E&&E.length!==0?le='<iframe src="'+oe+"/embed/v2/sharing?view_mode="+e+"&selection="+E[0]+(K?"":"&screen="+$)+'" allowTransparency="true" frameborder="0"></iframe>':le='<iframe src="'+oe+"/embed/v2/sharing?view_mode="+e+(K?"":"&screen="+$)+'" allowTransparency="true" frameborder="0"></iframe>';let P=null;const re=(0,s.useCallback)(he=>{const ye=he.currentTarget;ye.innerHTML=I18N.imockSharing.successfully_copied,clearTimeout(P),P=setTimeout(()=>{ye.innerHTML=I18N.imockSharing.successfully_copied},3e3),(0,V.kv)({action:"\u590D\u5236\u4EE3\u7801",project:c||{},linkName:l.link_name});try{MB.notice({text:"\u590D\u5236\u6210\u529F"})}catch(H){window.top.postMessage(JSON.stringify({sharingMessage:"sharing:notice",payload:{type:"embedCopy"}}),"*")}},[l,P,c]),ce=(0,s.useCallback)(he=>{(0,wn.$)(le),re(he)},[re,le]),ge=(0,s.useCallback)(()=>{i({type:u.entryKey["sharing:topPageIndex:jump"],payload:{topPageIndex:"edit"}})},[i]);return(0,r.jsxs)(s.Fragment,{children:[(0,r.jsx)(Cn,{title:I18N.imockSharing.insert,handleClick:ge}),(0,r.jsxs)(no,{children:[(0,r.jsx)("p",{className:"desc",children:I18N.imockSharing.zoom_insertion_desc}),(0,r.jsxs)("div",{className:"copy-wrapper",children:[(0,r.jsx)("img",{src:w===yn.Sx.DARK?"/mb-workspace/images/sharing/share_embedded_dark.png":"/mb-workspace/images/sharing/share_embedded_light.png",className:"demo-img"}),(0,r.jsxs)("div",{className:"copy-box",children:[(0,r.jsx)("p",{className:"sharing-embedded-url",children:le}),(0,r.jsx)("button",{className:"copy-button copy","data-clipboard-text":le,onClick:ce,children:I18N.imockSharing.copy_code})]})]})]})]})},jt=(0,s.memo)(Rt);var zt=n(60719);const xn=(0,A.AH)([".vip-title{display:inline-block;color:",";background-color:",";font-weight:500;font-size:12px;padding:0 4px;height:20px;text-align:center;border-radius:4px;line-height:20px;}"],e=>e.isIframe?zt.f.color_text_link_normal.value_dark:e.theme.color_text_link_normal,e=>e.isIframe?zt.f.color_info_bg.value_dark:e.theme.color_info_bg),An=A.Ay.div.withConfig({displayName:"styles__StyledNewSharePage",componentId:"sc-v150qt-0"})(["width:100%;height:100%;background-color:",";.basic-content{width:100%;height:calc(100% - ","px);:first-child{margin-bottom:16px;}}.header{height:","px;display:flex;align-items:center;border-bottom:1px solid ",";span{margin-left:24px;font-size:14px;font-weight:500;color:",";}}.share-link-title{margin-top:20px;margin-bottom:10px;display:flex;flex-direction:column;justify-content:center;margin-left:24px;font-size:12px;.title-text{color:",";}.name-input{display:flex;align-items:center;height:30px;font-size:14px;font-weight:500;color:",";span{max-width:212px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;position:relative;height:24px;line-height:24px;&:hover:after{box-sizing:border-box;content:'';position:absolute;top:0;left:0;width:100%;height:100%;border-bottom:1px solid rgba(22,133,252,1);}}.input-icon{margin-left:8px;}input{width:100%;margin-right:32px;height:24px;line-height:24px;color:",";border-bottom:1px solid rgba(22,133,252,1);}}}.tabs{margin:8px 24px 18px 24px;border-bottom:1px solid ",";.sharing-nav{width:90px;height:25px;min-height:25px;padding:0px;}.nav-item{flex:0;padding:0 24px 0 0;}.nav-label{height:24px;}.active .nav-label{color:",";font-weight:600;}.active.basic{.nav-label{&::after{content:'';position:absolute;bottom:-1px;width:30px;height:2px;background:",";}}}.active.visible{.nav-label{&::after{content:'';position:absolute;bottom:-1px;width:50px;height:2px;background:",";}}}}.line-item{display:flex;padding:0 24px;height:34px;align-items:center;justify-content:space-between;flex-grow:0;.item-title{color:",";}.item-expired{display:flex;.WorkspaceSelect{border-radius:6px;}.general-input{width:65px;height:28px;border-radius:6px;margin-right:12px;}}.RadioGroup label{min-height:unset;margin-right:unset;font-size:12px;&:not(:last-child){margin-right:16px;}}.switch-group{display:flex;.view-sticky{display:flex;align-items:center;margin-right:17px;label{margin-right:4px;}}.view-prd{display:flex;align-items:center;.question-action{display:flex;align-items:center;margin:0 8px;color:",";&:hover{color:",";}}}label.checked{color:",";}}}"],e=>e.theme.color_bg_white,fe.gE,fe.gE,e=>e.theme.color_bg_border_02,e=>e.theme.color_text_L1,e=>e.theme.color_text_L2,e=>e.theme.color_text_L1,e=>e.theme.color_text_L1,e=>e.theme.color_background_icon_hover2,e=>e.theme.color_text_L1,e=>e.theme.color_text_L1,e=>e.theme.color_text_L1,e=>e.theme.color_text_L1,e=>e.theme.color_text_L3,e=>e.theme.color_text_L2,e=>e.theme.color_text_L1),vs=A.Ay.div.withConfig({displayName:"styles__StyledBasic",componentId:"sc-v150qt-1"})(["overflow-y:overlay;.divider{height:1px;background:",";margin:4px 24px;}&::-webkit-scrollbar-track{background-color:transparent;}&::-webkit-scrollbar{width:6px;height:6px;}&::-webkit-scrollbar-thumb{background-color:#dbdbdb;border-radius:4px;&:hover{background-color:#cccccc;}}&::-webkit-scrollbar-corner{background-color:transparent;}.expiration,.menu-list-type{cursor:pointer;display:flex;align-items:center;color:",";.misc{display:flex;align-items:center;}.drop-down-icon{margin-left:6px;}}.expiration{.drop-down-icon .svg-icon{transition:all 0.2s;transform :",";}}.menu-list-type{.drop-down-icon .svg-icon{transition:all 0.2s;transform :",";}}.password-input-item{display:flex;align-items:center;> :last-child{margin-left:10px;}}.last{margin-bottom:-8px;}.line-item.version-control{"," .vip-title{cursor:pointer;margin-left:4px;}}"],e=>e.theme.color_background_icon_hover2,e=>e.theme.color_text_L1,e=>e.isActiveContextMenu&&e.menuListType==="expiration"?"rotate(-180deg)":"rotate(0deg)",e=>e.isActiveContextMenu&&e.menuListType==="viewMode"?"rotate(-180deg)":"rotate(0deg)",xn),Mn=A.Ay.div.withConfig({displayName:"styles__StyledVisible",componentId:"sc-v150qt-2"})(["height:328px;.visible-check{height:32px;}"]),_s=(0,A.DU)([".custom-title{display:flex;justify-content:space-between;align-items:baseline;","}}#IBOT_SELECT_MENU_ROOT .SelectMenuPortal .WorkspaceSelectMenu .SelectOption{height:28px;&:hover{.vip-title{background-color:",";}}}#IBOT_SELECT_MENU_ROOT .SelectMenuPortal .WorkspaceSelectMenu.is-open{right:-14px;}"],xn,e=>e.isIframe?zt.f.color_bg_white.value_dark:e.theme.color_bg_white);var Hn=n(90108);const ws=A.Ay.div.withConfig({displayName:"styles__StyledPasswordTextInput",componentId:"sc-k8kmsm-0"})(["display:flex;background-color:",";height:28px;&.is-warning{.password-input{border:1px solid #ff6161;border-radius:4px 0 0 4px;&:focus{border:1px solid #ff6161;}}}.divider{height:100%;width:1px;background-color:",";}.password-input-wrapper{position:relative;display:flex;align-items:center;width:100px;.password-input{position:relative;width:100%;font-size:12px;padding-right:22px;padding-left:8px;overflow:hidden;white-space:nowrap;text-overflow:clip;color:",";border:1px solid ",";border-radius:6px;height:100%;&:focus{border:1px solid ",";outline:1px solid ",";outline-offset:-2px;}&:hover{border:1px solid ",";}}.reset-pwd{width:20px;height:20px;position:absolute;border-radius:4px;right:4px;color:",";cursor:pointer;&:hover{path{fill:",";}color:",";background-color:",";}&:active{path{fill:",";}color:",";background-color:",";}}}.password-button{width:72px;padding:8px 12px;color:",";font-size:12px;line-height:16px;white-space:nowrap;border:1px solid ",";border-radius:0 4px 4px 0;border-left:none;background-color:",";&.saved{background-color:",";color:#999;pointer-events:none;}}"],e=>e.theme.color_bg_white,e=>e.theme.color_btn_secondary_active,e=>e.theme.color_text_L1,e=>e.theme.color_bg_border_02,e=>e.theme.color_proto,e=>e.theme.color_proto,e=>e.theme.color_proto,e=>e.theme.color_text_L3,e=>e.theme.color_text_L2,e=>e.theme.color_text_L2,e=>e.theme.color_btn_secondary_hover,e=>e.theme.color_text_L2,e=>e.theme.color_text_L2,e=>e.theme.color_btn_secondary_active,e=>e.theme.color_text_L1,e=>e.theme.color_bg_border_02,e=>e.theme.color_bg_canvas,e=>e.theme.color_bg_canvas);function Ss(e){return Math.random().toString(36).slice(-e)}function so(e){const{onSubmit:i,value:l}=e,[c,w]=(0,s.useState)(e.value),_=(0,s.useRef)(null),x=K=>{w(K.target.value)},j=()=>{const K=Ss(6);w(K),i(K)},E=()=>{if(!i(c)){w(l);try{MB.notice({text:"\u5BC6\u7801\u683C\u5F0F\u9519\u8BEF\uFF0C\u4E0D\u5F97\u4E3A\u7A7A\u6216\u7279\u6B8A\u5B57\u7B26",type:"warning"})}catch($){window.top.postMessage(JSON.stringify({sharingMessage:"sharing:notice"}),"*")}}},W=K=>{K.key==="Enter"&&(E(),_.current.blur())};return(0,r.jsx)(ws,{children:(0,r.jsxs)("div",{className:"password-input-wrapper",children:[(0,r.jsx)("input",{ref:_,type:"text",className:"password-input",value:c,onChange:x,onBlur:E,onKeyPress:W}),(0,r.jsx)(wt.A,{content:I18N.imockSharing.gen_pwd_randomly,direction:"down",children:(0,r.jsx)(Re.C,{className:"reset-pwd",name:"common/spinner",onClick:j})})]})})}function Cs(e){const{isOrgProject:i,sharingData:l,updateSharing:c}=e,w=l.view_mode,{isHavePassword:_}=Tn(l),x=(0,y.wA)(),E=(0,y.d4)(u.query.getHostType)==="iframe",{comment_permission:W,wechat:K,view_sticky:$,is_first_canvas_open:O}=l,le=(0,s.useMemo)(()=>(0,V.R0)(i),[i]),oe=()=>{if(_)c({password:""}),x({type:u.entryKey["sharing:settingPage:default:confirm"]});else{const xe=Ss(6);P(xe)}x({type:u.entryKey["sharing:function:track"],payload:{operation:_?"\u5173\u95ED\u5BC6\u7801\u4FDD\u62A4":"\u6253\u5F00\u5BC6\u7801\u4FDD\u62A4",viewMode:w}})},P=xe=>/^\s*$/.test(xe)||!/^\w+$/.test(xe)?!1:(c({password:xe}),x({type:u.entryKey["sharing:settingPage:default:confirm"]}),x({type:u.entryKey["sharing:function:track"],payload:{operation:"\u5237\u65B0\u5BC6\u7801",viewMode:w}}),!0),re=()=>{c({wechat:!K}),x({type:u.entryKey["sharing:settingPage:default:confirm"]}),x({type:u.entryKey["sharing:function:track"],payload:{operation:K?"\u5173\u95ED\u8DF3\u8FC7\u79FB\u52A8\u7AEF\u63D0\u793A\u9875":"\u6253\u5F00\u8DF3\u8FC7\u79FB\u52A8\u7AEF\u63D0\u793A\u9875",viewMode:w}})},ce=()=>{c({is_first_canvas_open:!O}),x({type:u.entryKey["sharing:settingPage:default:confirm"]}),x({type:u.entryKey["sharing:function:track"],payload:{operation:O?"\u5173\u95ED\u9ED8\u8BA4\u6253\u5F00\u7B2C\u4E00\u4E2A\u753B\u5E03":"\u6253\u5F00\u9ED8\u8BA4\u6253\u5F00\u7B2C\u4E00\u4E2A\u753B\u5E03",viewMode:w}})},ge=(0,s.useMemo)(()=>W==="org_member",[W]),he=()=>{c({view_sticky:$==="view_sticky"?"no_sticky":"view_sticky"}),x({type:u.entryKey["sharing:settingPage:default:confirm"]}),x({type:u.entryKey["sharing:function:track"],payload:{operation:$?"\u5173\u95ED\u6279\u6CE8\u53EF\u89C1":"\u6253\u5F00\u6279\u6CE8\u53EF\u89C1",viewMode:w}})},ye=()=>{c({comment_permission:W==="org_member"?"off":"org_member"}),x({type:u.entryKey["sharing:settingPage:default:confirm"]}),x({type:u.entryKey["sharing:function:track"],payload:{operation:ge?"\u5173\u95ED\u8BC4\u8BBA":"\u6253\u5F00\u8BC4\u8BBA",viewMode:w}})},H=xe=>{let{value:_e}=xe;c({view_access:_e}),x({type:u.entryKey["sharing:settingPage:default:confirm"]}),x({type:u.entryKey["sharing:remote:sharing:update"],payload:{sharingData:l,updatedKV:{access:_e}}}),x({type:u.entryKey["sharing:function:track"],payload:{operation:_e==="public"?"\u6240\u6709\u4EBA":"\u5207\u6362\u56E2\u961F",viewMode:w,isDefault:!1}})};return(0,r.jsxs)(vs,{children:[i&&(0,r.jsxs)("div",{className:"line-item",children:[(0,r.jsx)("label",{className:"item-title",children:I18N.imockSharing.permission_access}),(0,r.jsx)(Hn.A,{name:"access",optionList:le,value:l.view_access,onChange:H})]}),(0,r.jsxs)("div",{className:"line-item",children:[(0,r.jsx)("label",{className:"item-title",children:I18N.imockSharing.permission_password_protect}),(0,r.jsxs)("div",{className:"password-input-item",children:[_&&(0,r.jsx)(so,{value:l.password,onSubmit:P}),(0,r.jsx)(St.A,{size:"small",isIOS:!0,isChecked:_,onChange:oe})]})]}),(0,r.jsx)("div",{className:"divider"}),(0,r.jsxs)("div",{className:"line-item",children:[(0,r.jsx)("label",{className:"item-title",children:I18N.imockSharing.note_display}),(0,r.jsx)(St.A,{size:"small",isIOS:!0,isChecked:$==="view_sticky",onChange:he})]}),(0,r.jsxs)("div",{className:"line-item",children:[(0,r.jsx)("label",{className:"item-title",children:I18N.imockSharing.comment_allowed}),(0,r.jsx)(St.A,{size:"small",isIOS:!0,isChecked:ge,onChange:ye})]}),(0,r.jsx)("div",{className:"divider"}),(0,r.jsxs)("div",{className:"line-item",children:[(0,r.jsx)("label",{className:"item-title",children:I18N.imockSharing.share_skip_install_run_inwechat}),(0,r.jsx)(St.A,{size:"small",isIOS:!0,isChecked:K,onChange:re})]}),!E&&(0,r.jsxs)("div",{className:"line-item",children:[(0,r.jsx)("label",{className:"item-title",children:"\u9ED8\u8BA4\u6253\u5F00\u7B2C\u4E00\u4E2A\u753B\u5E03"}),(0,r.jsx)(St.A,{size:"small",isIOS:!0,isChecked:O,onChange:ce})]})]})}var oo=n(69623);const Ms=()=>[{key:"read_only",label:I18N.imockSharing.read_only_mode,icon:"sharing/mode_canvas"},{key:"device",label:I18N.imockSharing.device_mode,icon:"sharing/mode_device"},{key:"inspect",label:I18N.imockSharing.inspect_mode,icon:"sharing/mode_inspect"}],Ns=e=>{let{sharingData:i,updateSharing:l}=e;const c=O=>()=>{l({device_model:O})},[w,_]=(0,s.useState)(!1),x=(0,s.createRef)(),j=(0,y.d4)(u.query.getTheme),[E,W]=(0,s.useState)({left:0,top:0}),K=()=>{if(!(x!=null&&x.current))return;const{left:O,top:le,height:oe}=x.current.getBoundingClientRect();W({left:O-58,top:le+oe+6}),setTimeout(()=>{_(!0)},0)},$=()=>{_(!1)};return(0,r.jsx)(ro,{className:te()({dark:j==="dark"}),children:(0,r.jsxs)("div",{className:"device-model",children:[(0,r.jsxs)("div",{className:"device-model-header",children:[(0,r.jsx)("div",{className:"device-model-title",children:I18N.imockSharing.default_mode}),(0,r.jsxs)("div",{className:"modal-container",ref:x,children:[(0,r.jsx)(Re.C,{onMouseEnter:K,onMouseLeave:$,className:"tipsIcon",name:"sharing/question",size:14}),w&&(0,r.jsx)(Vn,{theme:j,position:E})]})]}),(0,r.jsx)("div",{className:"device-model-type-container",children:Ms().map((O,le)=>{let{key:oe,label:P,icon:re}=O;const ce="device-model-"+oe+"   ";return(0,r.jsxs)("div",{className:te()("device-model-type-item",ce,{"is-active":oe===i.device_model,dark:j==="dark"}),onClick:c(oe),children:[(0,r.jsx)(Re.C,{name:re,size:16}),(0,r.jsx)("span",{children:P})]},le)})})]})})},Vn=(0,s.memo)(e=>{const{theme:i,position:l}=e;return(0,oo.createPortal)((0,r.jsxs)(Is,{className:te()("device-model-modal",{light:i==="light",dark:i==="dark"}),style:{left:l.left,top:l.top},children:[(0,r.jsx)("div",{className:"icon-triangle"}),(0,r.jsxs)("div",{className:te()("modal-content"),children:[(0,r.jsxs)("div",{className:"content-item read_only",children:[(0,r.jsx)("img",{src:"/mb-proto2/images/sharing/intro_read_only_"+i+"_2.png"}),(0,r.jsxs)("div",{className:"content-item-text",children:[(0,r.jsx)("div",{className:"intro-title",children:I18N.imockSharing.read_only_mode}),(0,r.jsx)("div",{className:"intro-content",children:I18N.imockSharing.read_only_mode_intro})]})]}),(0,r.jsxs)("div",{className:"content-item device",children:[(0,r.jsx)("img",{src:"/mb-proto2/images/sharing/intro_device_"+i+"_2.png"}),(0,r.jsxs)("div",{className:"content-item-text",children:[(0,r.jsx)("div",{className:"intro-title",children:I18N.imockSharing.device_mode}),(0,r.jsx)("div",{className:"intro-content",children:I18N.imockSharing.device_mode_intro})]})]}),(0,r.jsxs)("div",{className:"content-item inspect",children:[(0,r.jsx)("img",{src:"/mb-proto2/images/sharing/intro_inspect_"+i+"_2.png"}),(0,r.jsxs)("div",{className:"content-item-text",children:[(0,r.jsx)("div",{className:"intro-title",children:I18N.imockSharing.inspect_mode}),(0,r.jsx)("div",{className:"intro-content",children:I18N.imockSharing.inspect_mode_intro})]})]})]})]}),document.body)}),ro=A.Ay.div.withConfig({displayName:"ViewModeModel__StyledDeviceModel",componentId:"sc-spi606-0"})(["position:relative;margin-bottom:14px;margin-top:20px;.device-model{padding:0 24px;.device-model-header{display:flex;align-items:center;margin-bottom:10px;color:",";.device-model-title{margin-right:4px;line-height:14px;}}.modal-container{display:flex;.tipsIcon{color:",";&:hover{color:",";}}}.device-model-type-container{display:flex;justify-content:space-between;.svg-icon > *{fill:currentColor;}.device-model-type-item{width:111px;height:32px;display:flex;align-items:center;justify-content:center;cursor:pointer;border:1px solid rgba(219,219,219,1);border-radius:6px;color:",";&.dark{border:1px solid #4f5052;}span{margin-left:4px;font-size:14px;}&:hover{border:1px solid  ",";}.svg-icon{[stroke]{stroke:currentColor;fill:none;}}&.is-active{border:1px solid  ",";color:",";.svg-icon{color:",";}}}}}"],e=>e.theme.color_text_L2,e=>e.theme.color_text_L3,e=>e.theme.color_text_L2,e=>e.theme.color_text_L1,e=>e.theme.color_text_link_normal,e=>e.theme.color_text_link_normal,e=>e.theme.color_text_link_normal,e=>e.theme.color_text_link_normal),Is=A.Ay.div.withConfig({displayName:"ViewModeModel__StyledDeviceModelModal",componentId:"sc-spi606-1"})(["&.device-model-modal{z-index:100;position:absolute;border-radius:8px;&.dark{.modal-content{outline:1px solid ",";}}&.light{box-shadow:0px 2px 10px 0px #27364E14;box-shadow:4px 12px 40px 0px #27364E1A;}.icon-triangle{z-index:1;position:absolute;width:10px;height:10px;top:-4px;left:58px;background:",";transform:rotate(45deg);border-top-left-radius:1px;}&.dark .icon-triangle{width:9px;height:9px;top:-5px;left:59px;border-top:1px solid ",";border-left:1px solid ",";}.modal-content{display:flex;flex-direction:column;padding:20px;width:374px;height:366px;border-radius:8px;background:",";&:lang(en){height:250px;}img{width:160px;height:96px;}.content-item:not(:last-child){margin-bottom:16px;}.content-item-text{display:flex;flex-direction:column;justify-content:center;height:100%;margin-left:16px;}.device,.read_only,.inspect{width:100%;height:96px;display:flex;flex-direction:row;justify-content:space-between;align-items:center;.intro-title{width:56px;height:22px;color:",";font-size:14px;font-weight:600;margin-bottom:6px;&:lang(en){width:max-content;}}.intro-content{color:",";}}}}"],e=>e.theme.color_bg_border_02,e=>e.theme.color_bg_white,e=>e.theme.color_bg_border_02,e=>e.theme.color_bg_border_02,e=>e.theme.color_bg_white,e=>e.theme.color_text_L1,e=>e.theme.color_text_L2);function io(){const e=(0,y.d4)(u.query.getCurrentSharing),i=(0,y.d4)(u.query.getProject),l=(0,y.wA)(),c=(0,s.useCallback)(x=>{l({type:u.entryKey["sharing:currentSharing:update"],payload:{updatedKV:x}})},[l]),w=x=>{l({type:u.entryKey["sharing:currentSharing:update"],payload:{updatedKV:x}}),(0,ut.a0)(i.cid+"_default_sharing_view_mode",x.device_model,ut.qW.String),l({type:u.entryKey["sharing:settingPage:default:confirm"]})},_=()=>{l({type:u.entryKey["sharing:topPageIndex:jump"],payload:{topPageIndex:"edit"}})};return(0,r.jsxs)(An,{children:[(0,r.jsx)(Cn,{title:I18N.imockSharing.sharing_setting_title,handleClick:_}),(0,r.jsxs)("div",{className:"basic-content",children:[(0,r.jsx)(Ns,{sharingData:e,updateSharing:w}),(0,r.jsx)(Cs,{isOrgProject:i.is_org_project,sharingData:e,updateSharing:c})]})]})}var is=n(89208);const js=()=>(0,r.jsx)(Es,{}),Es=A.Ay.div.withConfig({displayName:"Divider__StyledDivider",componentId:"sc-x06h85-0"})(["height:1px;background:",";margin:8px 24px;"],e=>e.theme.color_background_icon_hover2);var ao=n(23089),lo=n(5649),ks=n(12246),co=n(51785);function uo(e){const{isOrgProject:i,sharingData:l,updateSharing:c,settingPageType:w}=e,_=l.device_model,x=(0,s.useMemo)(()=>(0,V.R0)(i),[i]),{isHavePassword:j}=Tn(l),E=(0,y.d4)(u.query.getUser),W=(0,y.d4)(u.query.getOrg),$=(0,y.d4)(u.query.getHostType)==="iframe",O=(0,y.wA)(),le="v8-\u5206\u4EAB\u5F39\u7A97_\u81EA\u5B9A\u4E49\u94FE\u63A5\u6709\u6548\u671F";let oe=!1,P=!1;if(i){const{plan:ft}=(0,kn.rM)(W);oe=[an.Sj.OrgExpired,an.Sj.OrgFree].includes(ft),P=ft!==an.Sj.OrgFull}else{const ft=co.tz.InitialUser(E),vt=ft.planSdk.prototypePlan.getUserPlan(),on=ft.planSdk.prototypePlan.getUserStatus();oe=![an.L1.Lifetime,an.L1.PremiumLifetime].includes(vt)&&on!==an.pZ.Trial,P=![an.L1.Lifetime,an.L1.PremiumLifetime].includes(vt)}const{view_sticky:re,comment_permission:ce,wechat:ge,enable_version_record:he,is_first_canvas_open:ye}=l,H=ft=>{let{value:vt}=ft;c({view_access:vt})},xe=()=>{if(j)c({password:""});else{const ft=Ss(6);_e(ft)}O({type:u.entryKey["sharing:function:track"],payload:{operation:j?"\u5173\u95ED\u5BC6\u7801\u4FDD\u62A4":"\u6253\u5F00\u5BC6\u7801\u4FDD\u62A4",viewMode:_,isDefault:!0}})},_e=ft=>/^\s*$/.test(ft)||!/^\w+$/.test(ft)?!1:(c({password:ft}),O({type:u.entryKey["sharing:function:track"],payload:{operation:"\u5237\u65B0\u5BC6\u7801",viewMode:_,isDefault:!0}}),!0),be=()=>{c({wechat:!ge}),O({type:u.entryKey["sharing:function:track"],payload:{operation:ge?"\u5173\u95ED\u8DF3\u8FC7\u79FB\u52A8\u7AEF\u63D0\u793A\u9875":"\u6253\u5F00\u8DF3\u8FC7\u79FB\u52A8\u7AEF\u63D0\u793A\u9875",viewMode:_,isDefault:!0}})},Oe=()=>{c({is_first_canvas_open:!ye}),O({type:u.entryKey["sharing:function:track"],payload:{operation:ye?"\u6253\u5F00\u9ED8\u8BA4\u6253\u5F00\u7B2C\u4E00\u4E2A\u753B\u5E03":"\u5173\u95ED\u9ED8\u8BA4\u6253\u5F00\u7B2C\u4E00\u4E2A\u753B\u5E03",viewMode:_,isDefault:!0}})},Ae=(0,s.useMemo)(()=>ce==="org_member",[ce]),Ke=()=>{c({view_sticky:!re,sticky:!re}),O({type:u.entryKey["sharing:function:track"],payload:{operation:re?"\u5173\u95ED\u6279\u6CE8\u53EF\u89C1":"\u6253\u5F00\u6279\u6CE8\u53EF\u89C1",viewMode:_,isDefault:!0}})},We=()=>{c({comment_permission:ce==="org_member"?"off":"org_member"}),O({type:u.entryKey["sharing:function:track"],payload:{operation:Ae?"\u5173\u95ED\u8BC4\u8BBA":"\u6253\u5F00\u8BC4\u8BBA",viewMode:_,isDefault:!0}})},[Qe,ot]=(0,s.useState)("1"),[at,lt]=(0,s.useState)("forever"),{remainTimeText:Ct}=En(l,!1,999);(0,s.useEffect)(()=>{l&&l.expire_type==="forever"?lt(l.expire_type):(ot(l.expire_type),lt(Ct))},[l,Ct]);const Et=(0,s.useRef)(null),At=()=>{if(oe){const ft=(0,ks.l)(W,le);if(W||(ft.mode="org",ft.isSelectOrg=!0),$){const vt="/workspace?payment_param="+(0,It._)(ft);(0,dt.JW)(vt,"_blank","noreferrer")}else MB.global.popupHelper.chargeAsync(ft);return!0}return!1},Pt=ft=>{if(ft==="forever")c({expire_type:ft});else if(At()){c({expire_type:"forever"},{isCustom:!0});return}O({type:u.entryKey["sharing:function:track"],payload:{operation:ft==="forever"?"\u6709\u6548\u671F\u6C38\u4E45":"\u6709\u6548\u671F\u81EA\u5B9A\u4E49",viewMode:_,isDefault:!1}}),lt(ft)},Ht=[{label:"\u6C38\u4E45\u6709\u6548",value:"forever"},{label:oe?(0,r.jsxs)("div",{className:"custom-title",children:["\u81EA\u5B9A\u4E49",(0,r.jsx)("span",{className:"vip-title",children:"\u56E2\u961F\u7248"})]}):"\u81EA\u5B9A\u4E49",value:"custom"}],gt=ft=>/^([1-9]\d{0,3}|9999)$/.test(ft),kt=ft=>{const vt=ft.target.value;if(!gt(vt))try{MB.notice({text:"\u8F93\u5165\u503C\u65E0\u6548\uFF0C\u8BF7\u91CD\u65B0\u8F93\u5165",type:"warning"});return}catch(Jn){window.top.postMessage(JSON.stringify({sharingMessage:"sharing:notice"}),"*")}c({expire_type:vt}),ot(vt)},Ot=()=>{const ft=(0,ks.l)(W,"\u7F16\u8F91\u533A_v8\u539F\u578B\u5206\u4EAB_\u7248\u672C\u8BB0\u5F55\u5F00\u5173","v8proto-share-set-version",!0);if(ft.immediateUse="org_full",$){const vt="/workspace?payment_param="+(0,It._)(ft);(0,dt.JW)(vt,"_blank","noreferrer")}else MB.global.popupHelper.chargeAsync(ft)},Jt=()=>{P?Ot():(c({enable_version_record:!he}),O({type:u.entryKey["sharing:function:track"],payload:{operation:he?"\u5173\u95ED\u67E5\u770B\u7248\u672C\u8BB0\u5F55":"\u6253\u5F00\u67E5\u770B\u7248\u672C\u8BB0\u5F55",viewMode:_,isDefault:!1}}))};return(0,r.jsxs)(s.Fragment,{children:[(0,r.jsxs)(vs,{children:[l.type==="advanced"&&i&&(0,r.jsxs)("div",{className:"line-item",children:[(0,r.jsx)("label",{className:"item-title",children:I18N.imockSharing.permission_access}),(0,r.jsx)(Hn.A,{name:"access",optionList:x,value:l.view_access,onChange:H})]}),(0,r.jsxs)("div",{className:"line-item "+(i?"mt":""),children:[(0,r.jsx)("label",{className:"item-title",children:I18N.imockSharing.permission_password_protect}),(0,r.jsxs)("div",{className:"password-input-item",children:[j&&(0,r.jsx)(so,{value:l.password,onSubmit:_e}),(0,r.jsx)(St.A,{size:"small",isIOS:!0,isChecked:j,onChange:xe})]})]}),(0,r.jsxs)("div",{className:"line-item",children:[(0,r.jsx)("label",{className:"item-title",children:I18N.imockSharing.permission_link_expired}),(0,r.jsxs)("div",{className:"item-expired",children:[at==="custom"&&(0,r.jsx)(lo.A,{className:"general-input",attr:"width",value:Qe,cursorDirection:!1,min:1,max:9999,rightTitle:"\u5929",actionButton:!1,ref:Et,isSelect:!0,onBlur:kt,disableKeyboardEvents:!0}),(0,r.jsx)(ao.mq,{value:at,attr:"expire_type",placeholder:w==="create"?Qe+"\u5929\u540E\u5931\u6548":at,optionList:Ht,onChange:ft=>Pt(ft)})]})]}),(0,r.jsx)(js,{}),(0,r.jsxs)("div",{className:"line-item",children:[(0,r.jsx)("label",{className:"item-title",children:I18N.imockSharing.note_display}),(0,r.jsx)(St.A,{size:"small",isIOS:!0,isChecked:re,onChange:Ke})]}),(0,r.jsxs)("div",{className:"line-item mt",children:[(0,r.jsx)("label",{className:"item-title",children:I18N.imockSharing.comment_allowed}),(0,r.jsx)(St.A,{size:"small",isIOS:!0,isChecked:Ae,onChange:We})]}),(0,r.jsxs)("div",{className:"line-item version-control mt",children:[(0,r.jsxs)("label",{className:"item-title",children:[I18N.imockSharing.version_control,P&&(0,r.jsx)("span",{className:"vip-title",onClick:Ot,children:I18N.Common.business_plan})]}),(0,r.jsx)(St.A,{size:"small",isIOS:!0,isChecked:he,readOnly:P,onChange:Jt})]}),(0,r.jsx)(js,{}),(0,r.jsxs)("div",{className:"line-item",children:[(0,r.jsx)("label",{className:"item-title",children:I18N.imockSharing.share_skip_install_run_inwechat}),(0,r.jsx)(St.A,{size:"small",isIOS:!0,isChecked:ge,onChange:be})]}),!$&&(0,r.jsxs)("div",{className:"line-item",children:[(0,r.jsx)("label",{className:"item-title",children:"\u9ED8\u8BA4\u6253\u5F00\u7B2C\u4E00\u4E2A\u753B\u5E03"}),(0,r.jsx)(St.A,{size:"small",isIOS:!0,isChecked:ye,onChange:Oe})]})]}),(0,r.jsx)(_s,{isIframe:$})]})}var ln=n(95549),po=n(25582),_t=n.n(po);const Ts=A.Ay.div.withConfig({displayName:"styles__StyledCheck",componentId:"sc-1wxzhto-0"})(["position:relative;display:flex;align-items:center;cursor:pointer;color:",";&.readonly{cursor:default;}&.is-disabled{cursor:not-allowed;&::after{content:'';position:absolute;left:0;top:0;width:100%;height:100%;background-color:#f2f2f2;}}> input[type=radio],> input[type=checkbox]{position:absolute;opacity:0;width:12px;height:12px;}.Check-state{position:relative;width:12px;height:12px;font-size:12px;display:flex;align-items:center;border:1px solid ",";border-radius:",";transition:all 0.2s ease-in-out;background-color:",";.icon{transition:all 0.2s ease-in-out;position:absolute;top:-1px;left:-1px;}}.Check-label{margin-left:0.33333em;color:",";}&.is-checked .Check-state{background-color:",";border:1px solid ",";color:#fff;.icon{transform:scale(0.833);color:#f2f4f5;}}&:not(.is-checked) .Check-state .icon{speak:none;opacity:0;}"],e=>e.theme.color_text_L2,e=>e.theme.color_text_disabled01,e=>e.isCircle?"50%":"2px",e=>e.theme.color_bg_white,e=>e.theme.color_text_L2,e=>e.theme.color_text_L3,e=>e.theme.color_text_L2);class Zn extends s.PureComponent{constructor(){super(...arguments),(0,ln.A)(this,"onToggle",i=>{const{onChange:l}=this.props;l(i)})}render(){const{className:i,isDisabled:l,readOnly:c,isChecked:w,isCircle:_}=this.props,x=te()(i,{"is-checked":w,"is-disabled":l,readonly:c});return(0,r.jsx)(Ts,{className:x,onClick:this.onToggle,isCircle:_,children:(0,r.jsx)("span",{className:"Check-state",children:(0,r.jsx)(Re.C,{name:"new_replace/box_check"})})})}}(0,ln.A)(Zn,"propTypes",{isChecked:_t().bool,isDisabled:_t().bool,readOnly:_t().bool,onChange:_t().func,label:_t().any,name:_t().string,value:_t().any,className:_t().string,isCircle:_t().bool}),(0,ln.A)(Zn,"defaultProps",{isChecked:!1,label:"",className:"",isCircle:!1,onChange:()=>null,onToggle:()=>null});var as=n(61068),ls=n(69246),Ls=n(85584);const ho=A.Ay.div.withConfig({displayName:"styles__StyledSharingScreenHiddenList",componentId:"sc-1bmii7a-0"})(["padding:0 17px;.sm-hidden-check{display:flex;height:40px;align-items:center;justify-content:space-between;.item-title{color:",";}}.sm-check{.Check-state{background-color:transparent;border:1px solid ",";}.Check-label{color:",";}&.is-checked .Check-state{background-color:#1684fc;border:1px solid #1684fc;.icon{color:#fff;}}&.is-checked.is-disabled .Check-state{background-color:",";border:1px solid ",";span.icon{color:",";}}&.is-disabled .Check-state{background-color:",";border:1px solid ",";}&.is-disabled::after{background-color:unset;}}.screen-config-header{display:flex;padding-left:8px;flex-direction:row;height:36px;&.is-disabled{cursor:not-allowed;color:#ccc;.screen-name{color:",";}> label{&.is-disabled::after{background-color:unset;}}span.Check-label{color:",";}.content-wrapper{span{color:",";}}}span.Check-label{color:",";margin-left:10px;}.content-wrapper{display:flex;align-items:center;span{&.divider{margin-left:10px;margin-right:11px;}color:",";}}}.screen-list-content{height:210px;overflow-y:overlay;background:",";margin:0 8px;&::-webkit-scrollbar-track{background-color:transparent;}&::-webkit-scrollbar{width:6px;height:6px;}&::-webkit-scrollbar-thumb{background-color:#dbdbdb;border-radius:4px;&:hover{background-color:#cccccc;}}&.dark{&::-webkit-scrollbar-thumb{background-color:#666;border-radius:4px;&:hover{background-color:#cccccc;}}}&::-webkit-scrollbar-corner{background-color:transparent;}&::-webkit-scrollbar{width:6px;}.screen-name{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;}&.is-disabled{cursor:not-allowed;color:#ccc;.screen-name{color:",";}}ol,li{list-style:none;}.sm-list{height:auto;overflow-y:overlay;&::-webkit-scrollbar-track{background-color:transparent;}&::-webkit-scrollbar{width:6px;height:6px;}&::-webkit-scrollbar-thumb{background-color:#dbdbdb;border-radius:4px;&:hover{background-color:#cccccc;}}&::-webkit-scrollbar-corner{background-color:transparent;}margin-left:8px;padding-left:15px;.sm-box{display:flex;align-items:center;height:36px;&.is-disabled{cursor:not-allowed;.sm-item{cursor:not-allowed;.expander{svg{color:",";cursor:not-allowed;}}.screen-name{color:",";}}}}.sm-item{display:flex;height:100%;width:100%;align-items:center;cursor:pointer;.sm-icon{min-width:20px;min-height:20px;margin-right:4px;color:",";}.expander{display:flex;align-items:center;justify-content:center;margin-left:-15px;margin-right:1px;width:14px;height:14px;.arrow-icon{margin-right:0;color:#999;width:8px;&:not(.is-expand){transform:rotate(-90deg);}}}.screen-icon{margin-right:4px;}.screen-name{color:",";}}}}"],e=>e.theme.color_text_L1,e=>e.theme.color_text_disabled01,e=>e.theme.color_text_L1,e=>e.theme.color_btn_secondary_active,e=>e.theme.color_btn_secondary_active,e=>e.theme.color_text_disabled01,e=>e.theme.color_btn_secondary_active,e=>e.theme.color_btn_secondary_active,e=>e.theme.color_text_disabled01,e=>e.theme.color_text_disabled01,e=>e.theme.color_text_disabled01,e=>e.theme.color_text_L2,e=>e.theme.color_text_L2,e=>e.theme.color_bg_card,e=>e.theme.color_text_disabled01,e=>e.theme.color_text_disabled01,e=>e.theme.color_text_disabled01,e=>e.theme.color_text_L2,e=>e.theme.color_text_L1);class As extends s.PureComponent{constructor(i){super(i),(0,ln.A)(this,"handleCheck",x=>{const{onUpdateScreenVisibleList:j,screenVisibleList:E}=this.props,W=new Set(E),K=(0,Ls.YU)(x),$=W.has(x.cid);K.forEach(le=>{let{cid:oe}=le;$?W.delete(oe):W.add(oe)});const O=[];for(const le of W){const oe=this.screenDataMap[le];oe&&!(0,Ls.Mo)(oe)&&O.push(oe)}j(Array.from(W))}),(0,ln.A)(this,"onSelectAll",x=>{const{onUpdateScreenVisibleList:j}=this.props;j(x?this.pageKeyList:[])});const{screenMetaList:l}=i,{treeData:c,pageAttrMap:w,pageKeyList:_}=l;this.screenDataMap=w,this.screenTreeData=c,this.pageKeyList=_,this.pageExceptFolderList=(0,V.RF)(w)}componentDidMount(){const i=(0,ut.Yt)("currentJumpingSharingScreenMetaCid",void 0,ut.qW.String);(0,ut.G5)("currentJumpingSharingScreenMetaCid"),i!==void 0&&setTimeout(()=>document.getElementById("app-sharing").querySelector('.content-item[data-cid="'+i+'"]').scrollIntoView(),300)}render(){const{theme:i,screenVisibleList:l,isDisplayScreenAll:c}=this.props,w=(l==null?void 0:l.length)===this.pageKeyList.length,_=(0,V.Mj)(c,l,this.pageExceptFolderList);return(0,r.jsxs)(ho,{children:[(0,r.jsxs)("div",{className:te()("screen-config-header",{"is-disabled":c}),children:[(0,r.jsx)(as.A,{className:"sm-check",label:I18N.imockSharing.select_all,onChange:this.onSelectAll,isDisabled:c,isChecked:w}),(0,r.jsxs)("div",{className:"content-wrapper",children:[(0,r.jsx)("span",{className:"divider",children:"|"}),(0,r.jsx)("span",{children:I18N.imockSharing.select_n_screens.replace("%1",_).replace("%2",this.pageExceptFolderList.length)})]})]}),(0,r.jsx)("div",{className:te()("screen-list-content",{"is-disabled":c,dark:i==="dark"}),children:(0,r.jsx)("div",{className:"sm-list",children:(0,r.jsx)(Os,{theme:i,isDisplayScreenAll:c,screenTreeData:this.screenTreeData,screenVisibleList:l,onCheck:this.handleCheck})})})]})}}(0,ln.A)(As,"propTypes",{theme:_t().string,screenMetaList:_t().object,screenVisibleList:_t().array,onUpdateScreenVisibleList:_t().func,isDisplayScreenAll:_t().bool});const Os=e=>{let{theme:i,isDisplayScreenAll:l,screenTreeData:c,screenVisibleList:w,onCheck:_}=e;return(0,r.jsx)(r.Fragment,{children:c.children.map(x=>(0,r.jsx)(Kn,{theme:i,treeNode:x,root:!0,depth:0,screenVisibleList:w,isDisplayScreenAll:l,onCheck:_},x.cid))})};Os.propTypes={theme:_t().string,isDisplayScreenAll:_t().bool,screenTreeData:_t().object,screenVisibleList:_t().array,onCheck:_t().func};class Kn extends s.PureComponent{constructor(i){super(i),(0,ln.A)(this,"handleCheck",l=>{l.stopPropagation();const{isDisplayScreenAll:c}=this.props;if(c)return;const{treeNode:w,onCheck:_}=this.props;_(w)}),(0,ln.A)(this,"handleExpand",l=>{const{isDisplayScreenAll:c}=this.props;c||(l.stopPropagation(),this.setState({expand:!this.state.expand}))}),this.state={expand:!0}}render(){const{isDisplayScreenAll:i,treeNode:l,root:c,depth:w,screenVisibleList:_,onCheck:x,theme:j}=this.props,{children:E,data:W}=l,K=E.length!==0,{expand:$}=this.state,O=_&&_.includes(l.cid);return(0,r.jsxs)("li",{className:te()("content-item"),"data-cid":l.cid,children:[(0,r.jsxs)("div",{className:te()("sm-box",{"is-display":O,"is-disabled":i}),children:[(0,r.jsx)(Zn,{isDisabled:i,className:"sm-check",isChecked:O,onChange:this.handleCheck}),(0,r.jsx)(Ps,{isDisabled:i,theme:j,root:c,depth:w,showExpander:K,data:W,expand:$,onClick:this.handleCheck,onExpand:this.handleExpand})]}),E.length>0&&$&&(0,r.jsx)("ol",{className:"sm-child",children:E.map(le=>(0,r.jsx)(Kn,{theme:j,treeNode:le,depth:w+1,screenVisibleList:_,isDisplayScreenAll:i,onCheck:x},le.cid))})]})}}(0,ln.A)(Kn,"propTypes",{theme:_t().string,isDisplayScreenAll:_t().bool,treeNode:_t().object,screenVisibleList:_t().array,depth:_t().number,root:_t().bool,onCheck:_t().func});class Ps extends s.PureComponent{render(){const{depth:i,showExpander:l,data:c,expand:w,onExpand:_,onClick:x,theme:j,isDisabled:E}=this.props,W=19*(i+1);return(0,r.jsxs)("div",{className:te()("sm-item"),style:{paddingLeft:W},onClick:x,children:[l&&(0,r.jsx)("a",{className:"expander",onClick:_,children:(0,r.jsx)(Re.C,{className:te()("arrow-icon",{"is-expand":w}),name:"common/expand"})}),(0,r.jsx)(ls.k,{icon:c.icon,theme:j,disabled:E,isExpand:w}),(0,r.jsx)("span",{className:"screen-name",children:c.name})]})}}(0,ln.A)(Ps,"propTypes",{theme:_t().string,isDisabled:_t().bool,showExpander:_t().bool,data:_t().object,depth:_t().number,expand:_t().bool,onExpand:_t().func,onClick:_t().func});function mo(e){const i=[{value:1,label:I18N.imockSharing.all_pages},{value:2,label:I18N.imockSharing.partial_pages}],{sharingData:l,updateSharing:c}=e,[w,_]=(0,s.useState)(l.screen_visible_switch?2:1),x=(0,y.d4)(u.query.getTheme),j=(0,y.d4)(u.query.getScreenMetaList),E=K=>{c({screen_visible_list:K})},W=K=>{let{value:$}=K;c({screen_visible_switch:$==="2",screen_visible_list:[]}),_($)};return(0,r.jsxs)(Mn,{children:[(0,r.jsx)("div",{className:"line-item visible-check",children:(0,r.jsx)(Hn.A,{name:"access",optionList:i,value:w,onChange:W})}),j&&(0,r.jsx)(As,{theme:x,screenMetaList:j,screenVisibleList:l.screen_visible_list,isDisplayScreenAll:!l.screen_visible_switch,onUpdateScreenVisibleList:E})]})}var Ds=n(79150);const go=e=>{let{handleConfirm:i,handleCancel:l}=e;const c=(0,y.d4)(u.query.getCurrentSharing),w=(0,y.d4)(u.query.getTheme),_=(0,y.d4)(u.query.getScreenMetaList),x=c.type==="default"?!1:c.screen_visible_switch&&(0,V.Mb)(_,c).selectedSize===0,j=()=>{x||i()};return(0,r.jsxs)(Rs,{className:"confirm-bar",children:[(0,r.jsx)(un.jn,{className:te()("confirm",{dark:w==="dark"}),disabled:x,onClick:j,children:I18N.SettingPanel.confirm}),(0,r.jsx)(un.tA,{className:"cancel",onClick:l,children:I18N.imockSharing.cancel})]})},Rs=A.Ay.div.withConfig({displayName:"ConfirmBar__StyledConfirmBar",componentId:"sc-1m75upe-0"})(["&.confirm-bar{display:inline-flex;flex-direction:row-reverse;padding:20px 24px;transition:all 0.2s ease-in-out 0s;position:absolute;bottom:0px;right:0px;.confirm{margin-left:12px;}}"]),Bs=()=>[{key:0,name:"basic",label:I18N.imockSharing.sharing_basic},{key:1,name:"visible",label:I18N.imockSharing.sharing_visible}];function cs(){const e=(0,y.d4)(u.query.getProject),i=(0,y.d4)(u.query.getSettingPageType),l=(0,y.d4)(u.query.getSubSettingPageType),c=(0,y.d4)(u.query.getCurrentSharing),w=(0,y.d4)(u.query.getAdvancedSharingList),_="recommend",x=(0,y.wA)(),[j,E]=(0,s.useState)(l==="basic"?0:1),[W,K]=(0,s.useState)(c.link_name),[$,O]=(0,s.useState)(!1),le=We=>{E(We)},oe=(0,s.useCallback)(async(We,Qe)=>{const{isCustom:ot}=Qe||{};x({type:u.entryKey["sharing:settingPage:advanced:confirm"],payload:{updatedKV:We,...ot!==void 0&&{isCustom:ot}}})},[x]),P=(0,s.useCallback)(()=>{x({type:u.entryKey["sharing:topPageIndex:jump"],payload:{topPageIndex:"edit"}}),i==="edit"&&$&&x({type:"sharing:advance:click:track"})},[x,i,$]),re=(0,s.useCallback)((We,Qe)=>{x({type:u.entryKey["sharing:currentSharing:update"],payload:{updatedKV:We}}),i==="edit"&&(O(!0),oe(We,Qe))},[x,i,oe,O]),ce=()=>{const We=_e.current.value;We===""?(x({type:u.entryKey["sharing:init"],payload:{sharingToast:I18N.Common.name_cannot_be_empty}}),Ae(W)):(0,V.it)({value:We,currentSharing:c,sharingList:w})?(Ae(W),x({type:u.entryKey["sharing:init"],payload:{sharingToast:I18N.imockSharing.sharing_name_repeate_wran}})):(K(We),re({link_name:We}))},{isRenaming:ge,setIsRenaming:he,handleKeyDown:ye,handleBlur:H,handleFocus:xe,inputRef:_e,handleInput:be,inputName:Oe,setInputName:Ae}=Gs({name:c.link_name,fBlur:ce}),Ke=()=>{he(!0)};return(0,r.jsxs)(An,{children:[i==="create"?(0,r.jsx)("div",{className:"header",children:(0,r.jsx)("span",{children:I18N.imockSharing.sharing_create_title})}):(0,r.jsx)(Cn,{title:I18N.imockSharing.sharing_setting_title,handleClick:P}),(0,r.jsxs)("div",{className:"share-link-title",children:[(0,r.jsx)("div",{className:"title-text",children:I18N.SmartFill.title}),(0,r.jsx)("div",{className:te()("name-input",{"is-renaming":ge}),children:ge?(0,r.jsx)("form",{children:(0,r.jsx)("input",{value:Oe,onFocus:xe,onChange:be,ref:_e,onBlur:H,onKeyPress:ye})}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("span",{onClick:Ke,children:W}),(0,r.jsx)(Ds.A,{size:20,name:"sharing/pen_20",className:"input-icon",onClick:Ke})]})})]}),(0,r.jsx)(Ns,{sharingData:c,updateSharing:re}),(0,r.jsxs)("div",{className:"tabs",children:[(0,r.jsx)(is.A,{className:"sharing-nav",activeIndex:j,onTabChange:le,layoutV9:_,children:Bs().map(We=>{let{key:Qe,name:ot,...at}=We;return(0,r.jsx)(is.n,{...at,active:j===Qe,className:te()({visible:ot==="visible",basic:ot==="basic"})},Qe)})}),(0,r.jsx)("div",{})]}),j===0?(0,r.jsx)(uo,{isOrgProject:e.is_org_project,sharingData:c,updateSharing:re,settingPageType:i}):(0,r.jsx)(mo,{sharingData:c,updateSharing:re}),i==="create"&&(0,r.jsx)(go,{handleConfirm:oe,handleCancel:P})]})}function fo(){return(0,y.d4)(u.query.getCurrentSharing).type==="default"?(0,r.jsx)(io,{}):(0,r.jsx)(cs,{})}const qt=A.Ay.div.withConfig({displayName:"styles__StyledSharingToast",componentId:"sc-lv8qo5-0"})(["z-index:1;border-radius:4px;position:absolute;display:flex;align-items:center;padding:6px 10px;color:#FFF;font-size:14px;font-family:PingFang SC;font-style:normal;font-weight:400;line-height:24px;background:#454647;top:72px;left:50%;transform:translateX(-50%);svg{width:21px;height:21px;margin-right:4px;}"]),yo=(0,s.memo)(function(){const i=(0,y.d4)(u.query.getSharingToast),l=(0,y.wA)();return(0,s.useEffect)(()=>{setTimeout(()=>{l({type:u.entryKey["sharing:init"],payload:{sharingToast:""}})},1500)},[l]),i?(0,r.jsxs)(qt,{children:[(0,r.jsx)(Re.C,{name:"sharing/toast_waring",isColorPure:!0}),i]}):null}),xo=A.Ay.div.withConfig({displayName:"styles__StyledSharingQrCode",componentId:"sc-17am38q-0"})(["display:flex;align-items:center;justify-content:center;flex-direction:column;height:calc(100% - ","px);p{margin-top:16px;color:","}"],fe.gE,e=>e.theme.color_text_L3);var Gn=n(37810);const bo=A.Ay.div.withConfig({displayName:"styles__StyledQRcodeBox",componentId:"sc-1xfoi8f-0"})(["display:flex;justify-content:center;align-items:center;background-color:",";border-radius:8px;width:180px;height:180px;filter:",";border:1px solid ",";.qrcode{width:160px;height:160px;}&.qrcode-and-icon{.p-icon-box{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:24px;height:24px;overflow:hidden;background-color:#f2f2f3;border-radius:2px;img{display:block;width:100%;height:100%;}}}"],e=>e.theme.color_sharing_qrcode_bg,e=>e.theme.color_sharing_qrcode_filter,e=>e.theme.color_share_del_confirm_border_color);function Fs(e){const{isQRcodePanel:i,text:l,project:c}=e,w=c.icon||null;return i?(0,r.jsxs)(bo,{className:"qrcode-and-icon",children:[(0,r.jsx)(Gn.A,{className:"qrcode",text:l,width:160,height:160}),w&&(0,r.jsx)("div",{className:"p-icon-box",children:(0,r.jsx)("img",{src:w})})]}):null}const vo=()=>{const e=(0,y.wA)(),i=(0,y.d4)(u.query.getCurrentSelectSharing),l=(0,y.d4)(u.query.getProject),c=(0,y.d4)(u.query.getHostCurrentScreen),w=c==null?void 0:c.cid,_=(0,s.useMemo)(()=>(0,V.O8)(l,i,w),[i,l,w]),x=(0,s.useCallback)(()=>{e({type:u.entryKey["sharing:topPageIndex:jump"],payload:{topPageIndex:"edit"}})},[e]);return(0,r.jsxs)(s.Fragment,{children:[(0,r.jsx)(Cn,{title:I18N.imockSharing.qr_code,handleClick:x}),(0,r.jsxs)(xo,{children:[(0,r.jsx)(Fs,{isQRcodePanel:!0,project:l,text:_}),(0,r.jsx)("p",{children:I18N.imockSharing.qr_tips})]})]})},_o=(0,s.memo)(vo),ds=()=>{var e;const i=(0,y.wA)(),l=(0,y.d4)(u.query.getHostSharingData),c=(0,y.d4)(u.query.getProject),w=c==null?void 0:c.is_org_project,{link_name:_,view_access:x}=l,j=(0,y.d4)(u.query.getUser),E=(0,y.d4)(u.query.getHostType),W=(0,y.d4)(u.query.getIsEditMode),K=E==="iframe"||W,$=(0,y.d4)(u.query.getCanEditByUser),O=(0,y.d4)(u.query.getHostCurrentScreen),le=O==null?void 0:O.cid,{isURLCopied:oe,handleCopyURL:P}=es({project:c,sharing:l,user:j}),re=K&&$,ce=(0,s.useMemo)(()=>[{name:"sharing/QRcode_icon",toolTipName:I18N.imockSharing.qr_code,className:Dt.QRcode,tempDisabled:!1,isBorder:!0},{name:"sharing/embed_icon",toolTipName:I18N.imockSharing.insert,className:Dt.embed,tempDisabled:!1,isBorder:!0}],[]),ge=(0,s.useCallback)(()=>{const ye=(0,V.O8)(c,l,le);(0,wn.$)(ye),P(),i({type:u.entryKey["sharing:function:track"],payload:{operation:"\u9AD8\u7EA7\u5206\u4EAB\u590D\u5236\u94FE\u63A5",viewMode:l.device_model,isDefault:!1}})},[i,l,P,le,c]),he=(0,s.useCallback)((ye,H)=>{if(!(ye!=null&&ye.currentTarget))return;const xe=l,{device_model:_e}=l;switch(H){case Dt.QRcode:ye.stopPropagation(),i({type:u.entryKey["sharing:init"],payload:{topPageIndex:"qrCode",currentSelectSharing:xe}}),i({type:u.entryKey["sharing:function:track"],payload:{operation:"\u70B9\u51FB\u626B\u7801",viewMode:_e,isDefault:!1}});break;case Dt.embed:i({type:u.entryKey["sharing:init"],payload:{topPageIndex:"embed",currentSelectSharing:xe}}),i({type:u.entryKey["sharing:function:track"],payload:{operation:"\u70B9\u51FB\u5D4C\u5165\u4E09\u65B9",viewMode:_e,isDefault:!1}});break;default:break}},[i,l]);return(0,r.jsxs)(ss,{children:[(0,r.jsxs)("div",{className:"default-top",children:[(0,r.jsx)("div",{className:"switch-content",children:_}),(0,r.jsxs)(mn,{className:te()("item-center","default-link",!re&&"userNoEdit"),children:[(0,r.jsx)("div",{className:te()("left","sharingV2-click-visible",{"normal-hover":!0},!w&&"can-not-edit"),children:(0,r.jsxs)("div",{className:"view-access-select",children:[(0,r.jsx)("div",{className:"chore",children:I18N.imockSharing.permission_access}),(0,r.jsx)("div",{className:"access-name",children:(e=I18N.imockSharing[fe.nQ[x]])!=null?e:"missing data"}),w&&(0,r.jsx)(Re.C,{size:24,name:"sharing/dropdown_24"})]})}),(0,r.jsxs)(tn,{type:"button",className:te()("copy","sharingV2-click-visible","url-copy-button","is-state-"+Number(oe)),onClick:ge,children:[(0,r.jsx)("span",{className:"state state-0",children:l.password&&l.password.length>0?I18N.imockSharing.copy_url_pwd:I18N.imockSharing.copy_url}),(0,r.jsx)("span",{className:"state state-1",children:(0,r.jsx)(Re.C,{name:"new_replace/check",className:"copy-check"})})]})]})]}),(0,r.jsx)("div",{className:"default-bottom",children:(0,r.jsxs)("div",{className:"bottom-left",children:[(0,r.jsx)("div",{children:I18N.imockSharing.share_mode}),ce.map((ye,H)=>(0,r.jsx)(_n,{className:te()("share-icon",ye.className),name:ye.name,type:ye.className,toolTipName:ye.toolTipName,onClick:he,tempDisabled:ye.tempDisabled,isColorPure:ye.isColorPure,isBorder:ye.isBorder,size:24},H))]})})]})},wo=(0,s.memo)(ds),So=()=>{const e=(0,y.d4)(u.query.getTopPageIndex),i=(0,y.d4)(u.query.getTabIndex),l=(0,y.d4)(u.query.getSharingToast),c=(0,y.d4)(u.query.getHostSharingData),w=!c||c.type==="default",_=(0,y.d4)(u.query.getProject),x=(0,y.d4)(u.query.getIsEditMode),E=(0,y.d4)(u.query.getHostType)==="iframe"||x,[W,K]=(0,s.useState)(c);return(0,s.useEffect)(()=>{const{sharing:$}=(0,B.Y5)(_);K($)},[c,_]),(0,r.jsxs)(to,{children:[e==="edit"&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(Vt,{}),i===0?!E&&!w?(0,r.jsx)(wo,{}):W?(0,r.jsx)(eo,{defaultShare:W}):(0,r.jsx)(r.Fragment,{}):(0,r.jsx)(ns,{})]}),e==="embed"&&(0,r.jsx)(jt,{}),e==="setting"&&(0,r.jsx)(fo,{}),e==="qrCode"&&(0,r.jsx)(_o,{}),l&&(0,r.jsx)(yo,{})]})},bn=(0,s.memo)(So),Yn=/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z0-9-]{2,63}$/i,On=/^(?:\+?86)?1(?:3\d{3}|5[^4\D]\d{2}|8\d{3}|7(?:[0-35-9]\d{2}|4(?:0\d|1[0-2]|9\d))|9[0-35-9]\d{2}|6[2567]\d{2}|4[579]\d{2})\d{6}$/;var us=n(19249);const ps=async(e,i)=>{try{let c=null;return e?c=await(0,us.DE)("/api/dashboard/v4/users/search?email="+e):i&&(c=await(0,us.DE)("/api/dashboard/v4/users/search?mobile="+i)),c}catch(c){var l;return c!=null&&(l=c.message)!=null&&l.includes("failed with 404")?{}:null}};var hs=n(35603);const Co=(0,A.Ay)(hs.A).withConfig({displayName:"styles__StyledPermissionTipDropdown",componentId:"sc-1ofnwys-0"})(["display:flex;align-items:center;justify-content:center;line-height:14px;button{.permisison-tip-icon{margin:5px 6px 0 6px;&:hover{path{fill:","}}}}"],e=>e.theme.color_project_access_tip_hover),ms=(0,A.DU)(['#IBOT_DROPDOWN_MENU_ROOT{.DropdownMenuBase{.permission-tip{.content{min-height:fit-content;padding:0;background-color:#333;border:1px solid #4f5052;.multi-line{padding:14px 14px 20px 14px;p,ul{padding:0;padding-left:3px;}&::before{content:"";width:0;height:0;border:11px solid transparent;border-bottom-color:#4F5052;position:absolute;top:-1px;left:',';margin-top:-18px;border-bottom-width:9px;}&::after{content:"";width:0;height:0;border:9px solid transparent;border-bottom-color:#333;position:absolute;top:3px;left:',";margin-top:-18px;border-bottom-width:7px;}}.single-line{padding:4px 12px;p{margin:0;padding:0;}}h4{font-weight:500;font-size:14px;line-height:16px;margin:0;margin-bottom:10px;}ul{text-align:justify;list-style:none;li{list-style:none;margin-bottom:8px;&:last-child{margin-bottom:0px;}}}.desc{font-weight:400;font-size:12px;line-height:18px;white-space:nowrap;.strong{font-weight:500;}.link{margin-left:4px;text-align:left;color:#1684fc;cursor:pointer;&:hover{text-decoration:underline;}}}.extra{white-space:nowrap;margin:12px 0 8px;font-weight:400;font-size:12px;color:rgba(255,255,255,0.5);}}}}}"],e=>e.isOnlyMemberManager?"66px":"88px",e=>e.isOnlyMemberManager?"68px":"90px");let gn=function(e){return e.OrgSpace="orgspace-permission-tip",e.OrgSpaceLimiter="orgspace-limiter-permission-tip",e.RootFolder="root-folder-permission-tip",e.SubFolder="sub-folder-permission-tip",e.Project="project-permission-tip",e}({});const Mo=e=>{const{tipType:i,position:l="center",className:c,isOnlyMemberManager:w=!1}=e,[_,x]=(0,s.useState)({}),j=(0,y.d4)(Ie.il);(0,s.useEffect)(()=>{const W=document.querySelector(".sharingBoxV2 ");if(W){const{left:K,top:$}=W.getBoundingClientRect();x({left:Number(K)+13,top:Number($)+29})}},[]);const E=()=>{switch(i){case gn.Project:return(0,r.jsxs)("section",{className:"multi-line",children:[(0,r.jsxs)("h4",{children:["\u{1F537} ",I18N.imockSharing.permissions]}),(0,r.jsxs)("ul",{children:[(0,r.jsxs)("li",{children:[(0,r.jsxs)("strong",{children:[I18N.imockSharing.permissions_manager,I18N.imockSharing.common_colon]}),I18N.imockSharing.permissions_manager_file]}),(0,r.jsxs)("li",{children:[(0,r.jsxs)("strong",{children:[I18N.imockSharing.permissions_can_edit,I18N.imockSharing.common_colon]}),I18N.imockSharing.permissions_can_edit_file]}),(0,r.jsxs)("li",{children:[(0,r.jsxs)("strong",{children:[I18N.imockSharing.permissions_only_view,I18N.imockSharing.common_colon]}),I18N.imockSharing.permissions_only_view_file]}),(0,r.jsxs)("li",{children:[(0,r.jsxs)("strong",{children:[I18N.imockSharing.permissions_ban_view,I18N.imockSharing.common_colon]}),I18N.imockSharing.permissions_ban_view_file]})]}),(0,r.jsx)("p",{className:"extra",dangerouslySetInnerHTML:{__html:I18N.imockSharing.permissions_automatically_sync_desc}})]});case gn.SubFolder:return(0,r.jsxs)("section",{className:"multi-line",children:[(0,r.jsx)("h4",{children:I18N.imockSharing.permissions}),(0,r.jsxs)("p",{className:"extra",children:["\u6839\u6587\u4EF6\u5939\u6210\u5458\u53CA\u6743\u9650\u81EA\u52A8\u540C\u6B65\u81F3\u7EC4\u5185\uFF0C\u82E5\u6709\u8C03\u6574\uFF0C",(0,r.jsx)("br",{}),"\u8BF7\u524D\u5F80\u6839\u6587\u4EF6\u5939\u8FDB\u884C\u6210\u5458\u53CA\u6743\u9650\u8C03\u6574"]})]});case gn.RootFolder:return(0,r.jsxs)("section",{className:"multi-line",children:[(0,r.jsx)("h4",{children:I18N.imockSharing.permissions}),(0,r.jsxs)("ul",{children:[(0,r.jsxs)("li",{className:"desc",children:[(0,r.jsxs)("strong",{children:[I18N.imockSharing.permissions_manager,I18N.imockSharing.common_colon]}),I18N.imockSharing.permissions_manager_folder]}),(0,r.jsxs)("li",{className:"desc",children:[(0,r.jsxs)("strong",{children:[I18N.imockSharing.permissions_can_edit,I18N.imockSharing.common_colon]}),I18N.imockSharing.permissions_can_edit_folder]}),(0,r.jsxs)("li",{className:"desc",children:[(0,r.jsxs)("strong",{children:[I18N.imockSharing.permissions_only_view,I18N.imockSharing.common_colon]}),I18N.imockSharing.permissions_only_view_folder]}),(0,r.jsxs)("li",{className:"desc",children:[(0,r.jsxs)("strong",{children:[I18N.imockSharing.permissions_ban_view,I18N.imockSharing.common_colon]}),I18N.imockSharing.permissions_ban_view_folder]})]})]});case gn.OrgSpace:return(0,r.jsxs)("section",{className:"multi-line",children:[(0,r.jsx)("h4",{children:I18N.imockSharing.permissions}),(0,r.jsxs)("ul",{children:[(0,r.jsxs)("li",{className:"desc",children:[(0,r.jsxs)("strong",{children:[I18N.imockSharing.permissions_space_manager,I18N.imockSharing.common_colon]}),I18N.imockSharing.permissions_space_manager_desc]}),(0,r.jsxs)("li",{className:"desc",children:[(0,r.jsxs)("strong",{children:[I18N.imockSharing.permissions_space_collaboration_member,I18N.imockSharing.common_colon]}),I18N.imockSharing.permissions_space_collaboration_member_desc]}),(0,r.jsxs)("li",{className:"desc",children:[(0,r.jsxs)("strong",{children:[I18N.imockSharing.permissions_space_review_member,I18N.imockSharing.common_colon]}),I18N.imockSharing.permissions_space_review_member_desc]}),(0,r.jsxs)("li",{className:"desc",children:[(0,r.jsxs)("strong",{children:[I18N.imockSharing.permissions_space_unregistered_member,I18N.imockSharing.common_colon]}),I18N.imockSharing.permissions_space_unregistered_member_desc]})]})]});case gn.OrgSpaceLimiter:return(0,r.jsx)("section",{className:"single-line",children:(0,r.jsxs)("p",{className:"desc",children:["\u8BE5\u6210\u5458\u53EA\u5BF9\u56E2\u961F\u5185\u6307\u5B9A\u6587\u4EF6/\u6587\u4EF6\u5939\u53EF\u67E5\u770B/\u7F16\u8F91 ",(0,r.jsx)("a",{href:"/hc/articles/222",className:"link",children:" \u67E5\u770B\u8BE6\u60C5"})]})});default:break}};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(Co,{opener:(0,r.jsx)("svg",{className:"permisison-tip-icon",width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2.33341 7.00008C2.33341 4.42275 4.42275 2.33341 7.00008 2.33341C9.57741 2.33341 11.6667 4.42275 11.6667 7.00008C11.6667 9.57741 9.57741 11.6667 7.00008 11.6667C4.42275 11.6667 2.33341 9.57741 2.33341 7.00008ZM7.00008 1.16675C3.77842 1.16675 1.16675 3.77842 1.16675 7.00008C1.16675 10.2217 3.77842 12.8334 7.00008 12.8334C10.2217 12.8334 12.8334 10.2217 12.8334 7.00008C12.8334 3.77842 10.2217 1.16675 7.00008 1.16675ZM6.00842 5.82717V5.69267C6.00912 5.53262 6.06636 5.35509 6.19406 5.22162C6.31201 5.09835 6.54189 4.95841 6.99673 4.95841C7.42386 4.95841 7.72087 5.16234 7.87234 5.39386C8.0341 5.6411 8.00223 5.84856 7.92545 5.9522C7.82971 6.08146 7.71083 6.20085 7.56715 6.33019C7.52345 6.36954 7.46957 6.41642 7.4118 6.46669L7.41179 6.4667C7.30849 6.55659 7.19276 6.6573 7.10047 6.74511C6.77279 7.05691 6.41686 7.49208 6.41686 8.16675L6.41875 8.46216L7.5854 8.45467L7.58354 8.16515C7.58397 7.96563 7.66576 7.81765 7.90469 7.5903C7.985 7.51388 8.0572 7.45142 8.1398 7.37995L8.13984 7.37992C8.20093 7.32707 8.26773 7.26928 8.34772 7.19727C8.51407 7.04752 8.69919 6.8677 8.86295 6.64662C9.30517 6.0496 9.20176 5.29489 8.84863 4.75513C8.48521 4.19965 7.82399 3.79175 6.99673 3.79175C6.28084 3.79175 5.72583 4.02342 5.35109 4.41508C4.98633 4.79631 4.84308 5.27667 4.84175 5.68971V5.82717H6.00842ZM6.41874 9.04175V10.2107H7.58541V9.04175H6.41874Z",fill:"#999999"})}),mode:"dark",menuX:l,shouldOpenOnHover:!0,hoverDelay:100,menuClassName:te()("permission-tip",c&&c),menu:E(),menuBaseStyle:_}),(0,r.jsx)(ms,{isOnlyMemberManager:w})]})};var zs=n(79186);const No=A.Ay.div.withConfig({displayName:"styles__StyledReadOnlyOption",componentId:"sc-1j0j1bo-0"})(["min-width:65px;text-align:start;padding-left:10px;cursor:default;&:lang(en){width:auto;}&.disabled{cursor:not-allowed;}.label{color:#9EA9BC;font-size:12px;}"]),Us=(0,A.Ay)(zs.Ay).withConfig({displayName:"styles__StyledPermissionSelector",componentId:"sc-1j0j1bo-1"})(["min-width:65px;&:lang(en){width:auto;}&.is-disabled{opacity:1;.caret{display:none;}button{span{color:#9EA9BC;}}}&.is-open .caret{transform:rotate(180deg);svg{transform:translateY(-3px) rotate(-45deg);}}button{text-align:right;span{color:#35445D;font-size:12px;}}.caret{margin:0 0 0 6px;transition:transform .2s;svg{width:6px;height:6px;margin:1px;border:solid 1px #35445D;border-top-color:transparent;border-right-color:transparent;transform:translateY(0) rotate(-45deg);path{opacity:0;}}}"]),Io=(0,A.DU)([".permission-select.CheckSelectMenu{padding:8px;border-radius:8px;border:1px solid ",";color:",";background:",";box-shadow:",";&:lang(en){min-width:136px;}&:not(.is-empty){padding:8px;}.SelectOption{height:24px;margin-bottom:2px;padding:0;color:",";border-radius:4px;line-height:24px;&:last-child{margin-bottom:0;}&.is-active,&:not(.empty-msg):not(.is-disabled):hover{background-color:",";color:",";}&:hover{color:",";}> span.Ellipsis{min-width:80px;padding:0 10px;margin-left:20px;&:lang(en){width:calc(100% - 22px);}}> .svg-icon{position:absolute;margin:0 0 0 10px;path{fill:",";}}&[data-value=\"__mb_delete_permission\"]{position:relative;margin-top:9px;&::before{position:absolute;top:-5px;right:0;left:0;border-top:solid 1px rgba(255,255,255,.1);content:'';}}}}"],e=>e.theme.color_bg_border_01,e=>e.theme.color_text_L1,e=>e.theme.color_bg_white,e=>e.theme.shadow_m,e=>e.theme.color_text_L1,e=>e.theme.color_btn_secondary_hover,e=>e.theme.color_text_L1,e=>e.theme.color_text_L1,e=>e.theme.color_text_L1);var Ws=n(46219);const Hs=e=>{let i=[],l={};switch(e){case je.W.OrgSpace:i=J,l=Me.FU;break;case je.W.Folder:i=Y,l=Me.lY;break;case je.W.Project:i=me,l=Me.au;break;default:break}return i.map(c=>({...c,permission:(0,I.pf)(c.value,l)}))},jo=(e,i)=>{let l={};switch(e){case je.W.OrgSpace:return i;case je.W.Folder:l=ke;break;case je.W.Project:l=Ne;break;default:return i}return l[i]||i},Eo=e=>{switch(e){case je.W.OrgSpace:return I18N.imockSharing.permission_no_right_project;case je.W.Folder:return I18N.imockSharing.permission_no_right_folder;case je.W.Project:return I18N.imockSharing.permission_no_right_project;default:return I18N.imockSharing.permission_no_right}},ko=e=>{const{value:i,optionList:l,handleChange:c}=e,w=(0,s.useRef)(null),[_,x]=(0,s.useState)(!0),j=l.filter(W=>W.value===i),E=(0,s.useCallback)(()=>{w.current&&w.current.close()},[]);return(0,s.useEffect)(()=>(document.body.addEventListener("wheel",E),()=>{document.body.removeEventListener("wheel",E)}),[E]),(0,s.useEffect)(()=>{const W=setTimeout(()=>{x(!1)},1e3);return()=>{clearTimeout(W)}},[]),_?(0,r.jsx)(Us,{unstyled:!0,ref:w,placeholder:I18N.imockSharing.submit,menuTheme:"check",value:i,menuX:"right",onChange:c,optionList:j,menuClassName:"permission-select"}):(0,r.jsx)(Us,{unstyled:!0,ref:w,placeholder:I18N.imockSharing.submit,menuTheme:"check",value:i,menuX:"right",onChange:c,optionList:l,menuClassName:"permission-select"})},To=(0,s.memo)(ko);var Lo=n(46710);const Ao=(e,i)=>{const{isSelf:l,userCurrentSpacePermission:c,userCurrentScopePermisson:w,memberCurrentScopePermisson:_,memberTopScopePermisson:x,memberOrgPermisson:j,memberIsSpaceManager:E}=i;return e.map(K=>{let{value:$,label:O,permission:le}=K,oe=!1;const P=le.roleName.includes("ban_viewer");return c.isManager&&l?oe=P:w.isMember?w.level<_.level||w.level<le.level?oe=!0:(!x.isMember&&x.isViewer&&!j.isMember&&le.isMember&&(oe=!0),P&&(oe=!w.isManager||l||E)):oe=!0,Object.assign({},{value:$,label:I18N.imockSharing[O]||O},{isDisabled:oe})})},gs=e=>{const{readOnlyTooltip:i,isReset:l=!1,member:c,isOnlyOneManager:w,permissionScope:_,onPermissionChange:x,currentOrg:j}=e;let{readOnly:E}=e,W=E,K=i;const $=Hs(_),{permissionMap:O}=c,{memberCurrentScopePermisson:le,userCurrentScopePermisson:oe,userCurrentSpacePermission:P,currentScopeRoleName:re,isSelf:ce,userIsSpaceLimiter:ge,memberIsSpaceLimiter:he}=O;let ye=Ao($,O);_===je.W.OrgSpace&&!he&&(ye=ye.filter(_e=>_e.value!=="space_limiter")),(_===je.W.OrgSpace||he)&&!le.isUnknown&&!le.isInherited&&!l&&(ce&&!le.isUnknown||oe.isManager&&ye.push({value:mt,label:I18N.imockSharing.remove,isDisabled:!1})),!W&&_===je.W.OrgSpace&&ge&&!l&&(E=!0,W=!0),!W&&([je.W.Project,je.W.Folder].includes(_)||le.isViewer)&&!l&&(oe.isMember?oe.level<le.level?(W=!0,K="\u65E0\u6743\u66F4\u6539\u6743\u9650\u9AD8\u7684\u6210\u5458\u6743\u9650"):le.isManager&&w?(W=!0,K=Eo(_)):(_===je.W.OrgSpace&&!oe.isManager||[je.W.Project,je.W.Folder].includes(_)&&!oe.isManager&&le.isBanned)&&(W=!0):P!=null&&P.isManager&&ce||(W=!0));let H=jo(_,re);l&&(H="");const xe=_e=>{W||x(c,_e)};if(j){const{protoSeat:_e}=(0,Lo.rA)(j,Number(c.user_id)),Oe=_e?"":"(\u65E0\u5E2D\u4F4D)";ye.map(Ae=>{(Ae.value==="project_manager"||Ae.value==="project_member")&&(Ae.label+=Oe)})}if(W||E){const _e=ye.find(be=>be.value===H);return _e?(0,r.jsx)(No,{className:te()("read-only-option",!E&&W&&"disabled"),children:(0,r.jsx)(Ws.A,{content:K,position:"bottom",children:(0,r.jsx)("span",{className:"label",children:_e.label})})}):null}return(0,r.jsx)(To,{value:H,handleChange:xe,optionList:ye})},$n=(0,s.memo)(gs),Vs=(0,A.DU)(["#IBOT_DROPDOWN_MENU_ROOT{.add-outer-member-tip{.content{min-height:fit-content;padding:2px 8px;background-color:#333;.desc{white-space:nowrap;.copy-text{text-decoration:underline;cursor:pointer;}}}}}"]),fs=A.Ay.section.withConfig({displayName:"styles__StyledMemberList",componentId:"sc-188anjy-0"})(['margin-bottom:10px;width:406px;&.sharing{.members > .enterTip > span > div{display:flex;flex-direction:column;align-items:center;justify-content:center;}}&[data-expanded="false"]{.members{display:none;}.caption{margin-bottom:15px;}}&+.member-list{margin-top:10px;}.caption{position:relative;display:flex;align-items:center;justify-content:flex-start;padding:0;font-weight:400;font-size:14px;line-height:20px;color:',";span{color:",";}.invite-item{display:flex;align-items:center;height:32px;text-align:center;font-family:PingFang SC;width:fit-content;border-radius:6px;font-weight:500;font-size:14px;color:",";cursor:pointer;position:absolute;right:20px;z-index:1;&:hover{color:",";}&:active{color:",";}.svg-icon{width:32px;color:inherit;& > *{fill:currentColor;}}}.btn-add-collaborator{position:absolute;right:0;display:flex;align-items:center;color:#1883FB;.svg-icon{margin-right:4px;width:12px;height:12px;}}.btn-toggle-expand{margin-left:10px;user-select:none;color:#1883FB;cursor:pointer;&.with-red-point{position:relative;&::after{content:'';background:rgb(228,33,33);position:absolute;width:6px;height:6px;top:-2px;left:100%;border-radius:50%;}}}}.members{.item{display:flex;align-items:center;justify-content:space-between;padding:10px 20px;&:hover{background:",";border-radius:4px;}.title,.account,.Select{button{font-weight:500;font-size:14px;line-height:20px;letter-spacing:1.2px;color:#545F6F;.Ellipsis{max-width:100px;&:lang(en){max-width:none;}}}}.title{flex:1;display:flex;justify-content:flex-start;align-items:center;.avatar{width:30px;height:30px;overflow:hidden;border-radius:50%;margin-right:12px;border:1px solid ",";&.avater-name{text-align:center;background:rgb(22,133,252);justify-content:center;color:white;font-size:14px;text-align:center;display:flex;align-items:center;}}.name{width:120px;overflow:hidden;color:#1f292e;white-space:nowrap;text-overflow:ellipsis;}}.account{flex:1;width:160px;color:#999;}.register{display:inline-block;text-align:center;height:22px;line-height:22px;border:1px solid rgb(41,141,248);box-sizing:border-box;border-radius:4px;width:48px;color:rgb(41,141,248);font-size:12px;font-weight:400;margin-left:8px;position:relative;color:red;&:lang(en){display:block;background:#F1F8FF;border:none;color:#1684FC;padding:3px 4px;width:max-content;margin-left:10px;font-weight:500;font-size:12px;line-height:12px;height:auto;}}}}.invite{.item{.title{.name{width:150px;&:lang(en){width:max-content;flex:1;display:flex;align-items:center;}}}.account{width:150px;display:inline-block;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;word-break:break-all;&:lang(en){margin:10px;}}}.addOuter{color:#999999;width:108px;text-align:right;.add{font-size:12px;margin-right:2px;}button{color:rgb(91,107,115);position:relative;top:2px;left:4px;}}.enterTip{font-size:12px;color:",";}}.inviteJoin{border-radius:4px;background:#298DF8;color:#fff;font-size:12px;font-weight:400;padding:7px 11px;cursor:pointer;word-break:keep-all;&:lang(en){padding:5px 11px;}}&.dark{.members .item .register{&:lang(en){background:rgba(22,132,252,0.1);}}}"],e=>e.theme.color_text_L1,e=>e.theme.color_text_L1,e=>e.theme.color_text_link_normal,e=>e.theme.color_text_link_hover,e=>e.theme.color_text_link_hover,e=>e.theme.color_btn_secondary_hover,e=>e.theme.color_share_member__border_color,e=>e.theme.color_AI_Text_Auto_fill_path_hover);var a=n(94586),t=n(94827),o=n(18941),m=Number.isNaN||function(i){return typeof i=="number"&&i!==i};function U(e,i){return!!(e===i||m(e)&&m(i))}function de(e,i){if(e.length!==i.length)return!1;for(var l=0;l<e.length;l++)if(!U(e[l],i[l]))return!1;return!0}function Le(e,i){i===void 0&&(i=de);var l,c=[],w,_=!1;function x(){for(var j=[],E=0;E<arguments.length;E++)j[E]=arguments[E];return _&&l===this&&i(j,c)||(w=e.apply(this,j),_=!0,l=this,c=j),w}return x}const Ee=Le;var Ue=typeof performance=="object"&&typeof performance.now=="function",Ze=Ue?function(){return performance.now()}:function(){return Date.now()};function Be(e){cancelAnimationFrame(e.id)}function Xe(e,i){var l=Ze();function c(){Ze()-l>=i?e.call(null):w.id=requestAnimationFrame(c)}var w={id:requestAnimationFrame(c)};return w}var we=-1;function Se(e){if(e===void 0&&(e=!1),we===-1||e){var i=document.createElement("div"),l=i.style;l.width="50px",l.height="50px",l.overflow="scroll",document.body.appendChild(i),we=i.offsetWidth-i.clientWidth,document.body.removeChild(i)}return we}var ze=null;function $e(e){if(e===void 0&&(e=!1),ze===null||e){var i=document.createElement("div"),l=i.style;l.width="50px",l.height="50px",l.overflow="scroll",l.direction="rtl";var c=document.createElement("div"),w=c.style;return w.width="100px",w.height="100px",i.appendChild(c),document.body.appendChild(i),i.scrollLeft>0?ze="positive-descending":(i.scrollLeft=1,i.scrollLeft===0?ze="negative":ze="positive-ascending"),document.body.removeChild(i),ze}return ze}var pt=150,Tt=function(i){var l=i.columnIndex,c=i.data,w=i.rowIndex;return w+":"+l},Mt=null,Zt=null,Ut=null;function Kt(e){var i,l=e.getColumnOffset,c=e.getColumnStartIndexForOffset,w=e.getColumnStopIndexForStartIndex,_=e.getColumnWidth,x=e.getEstimatedTotalHeight,j=e.getEstimatedTotalWidth,E=e.getOffsetForColumnAndAlignment,W=e.getOffsetForRowAndAlignment,K=e.getRowHeight,$=e.getRowOffset,O=e.getRowStartIndexForOffset,le=e.getRowStopIndexForStartIndex,oe=e.initInstanceProps,P=e.shouldResetStyleCacheOnItemSizeChange,re=e.validateProps;return i=function(ce){(0,o.A)(ge,ce);function ge(ye){var H;return H=ce.call(this,ye)||this,H._instanceProps=oe(H.props,(0,t.A)(H)),H._resetIsScrollingTimeoutId=null,H._outerRef=void 0,H.state={instance:(0,t.A)(H),isScrolling:!1,horizontalScrollDirection:"forward",scrollLeft:typeof H.props.initialScrollLeft=="number"?H.props.initialScrollLeft:0,scrollTop:typeof H.props.initialScrollTop=="number"?H.props.initialScrollTop:0,scrollUpdateWasRequested:!1,verticalScrollDirection:"forward"},H._callOnItemsRendered=void 0,H._callOnItemsRendered=Ee(function(xe,_e,be,Oe,Ae,Ke,We,Qe){return H.props.onItemsRendered({overscanColumnStartIndex:xe,overscanColumnStopIndex:_e,overscanRowStartIndex:be,overscanRowStopIndex:Oe,visibleColumnStartIndex:Ae,visibleColumnStopIndex:Ke,visibleRowStartIndex:We,visibleRowStopIndex:Qe})}),H._callOnScroll=void 0,H._callOnScroll=Ee(function(xe,_e,be,Oe,Ae){return H.props.onScroll({horizontalScrollDirection:be,scrollLeft:xe,scrollTop:_e,verticalScrollDirection:Oe,scrollUpdateWasRequested:Ae})}),H._getItemStyle=void 0,H._getItemStyle=function(xe,_e){var be=H.props,Oe=be.columnWidth,Ae=be.direction,Ke=be.rowHeight,We=H._getItemStyleCache(P&&Oe,P&&Ae,P&&Ke),Qe=xe+":"+_e,ot;if(We.hasOwnProperty(Qe))ot=We[Qe];else{var at=l(H.props,_e,H._instanceProps),lt=Ae==="rtl";We[Qe]=ot={position:"absolute",left:lt?void 0:at,right:lt?at:void 0,top:$(H.props,xe,H._instanceProps),height:K(H.props,xe,H._instanceProps),width:_(H.props,_e,H._instanceProps)}}return ot},H._getItemStyleCache=void 0,H._getItemStyleCache=Ee(function(xe,_e,be){return{}}),H._onScroll=function(xe){var _e=xe.currentTarget,be=_e.clientHeight,Oe=_e.clientWidth,Ae=_e.scrollLeft,Ke=_e.scrollTop,We=_e.scrollHeight,Qe=_e.scrollWidth;H.setState(function(ot){if(ot.scrollLeft===Ae&&ot.scrollTop===Ke)return null;var at=H.props.direction,lt=Ae;if(at==="rtl")switch($e()){case"negative":lt=-Ae;break;case"positive-descending":lt=Qe-Oe-Ae;break}lt=Math.max(0,Math.min(lt,Qe-Oe));var Ct=Math.max(0,Math.min(Ke,We-be));return{isScrolling:!0,horizontalScrollDirection:ot.scrollLeft<Ae?"forward":"backward",scrollLeft:lt,scrollTop:Ct,verticalScrollDirection:ot.scrollTop<Ke?"forward":"backward",scrollUpdateWasRequested:!1}},H._resetIsScrollingDebounced)},H._outerRefSetter=function(xe){var _e=H.props.outerRef;H._outerRef=xe,typeof _e=="function"?_e(xe):_e!=null&&typeof _e=="object"&&_e.hasOwnProperty("current")&&(_e.current=xe)},H._resetIsScrollingDebounced=function(){H._resetIsScrollingTimeoutId!==null&&Be(H._resetIsScrollingTimeoutId),H._resetIsScrollingTimeoutId=Xe(H._resetIsScrolling,pt)},H._resetIsScrolling=function(){H._resetIsScrollingTimeoutId=null,H.setState({isScrolling:!1},function(){H._getItemStyleCache(-1)})},H}ge.getDerivedStateFromProps=function(H,xe){return it(H,xe),re(H),null};var he=ge.prototype;return he.scrollTo=function(H){var xe=H.scrollLeft,_e=H.scrollTop;xe!==void 0&&(xe=Math.max(0,xe)),_e!==void 0&&(_e=Math.max(0,_e)),this.setState(function(be){return xe===void 0&&(xe=be.scrollLeft),_e===void 0&&(_e=be.scrollTop),be.scrollLeft===xe&&be.scrollTop===_e?null:{horizontalScrollDirection:be.scrollLeft<xe?"forward":"backward",scrollLeft:xe,scrollTop:_e,scrollUpdateWasRequested:!0,verticalScrollDirection:be.scrollTop<_e?"forward":"backward"}},this._resetIsScrollingDebounced)},he.scrollToItem=function(H){var xe=H.align,_e=xe===void 0?"auto":xe,be=H.columnIndex,Oe=H.rowIndex,Ae=this.props,Ke=Ae.columnCount,We=Ae.height,Qe=Ae.rowCount,ot=Ae.width,at=this.state,lt=at.scrollLeft,Ct=at.scrollTop,Et=Se();be!==void 0&&(be=Math.max(0,Math.min(be,Ke-1))),Oe!==void 0&&(Oe=Math.max(0,Math.min(Oe,Qe-1)));var At=x(this.props,this._instanceProps),Pt=j(this.props,this._instanceProps),Ht=Pt>ot?Et:0,gt=At>We?Et:0;this.scrollTo({scrollLeft:be!==void 0?E(this.props,be,_e,lt,this._instanceProps,gt):lt,scrollTop:Oe!==void 0?W(this.props,Oe,_e,Ct,this._instanceProps,Ht):Ct})},he.componentDidMount=function(){var H=this.props,xe=H.initialScrollLeft,_e=H.initialScrollTop;if(this._outerRef!=null){var be=this._outerRef;typeof xe=="number"&&(be.scrollLeft=xe),typeof _e=="number"&&(be.scrollTop=_e)}this._callPropsCallbacks()},he.componentDidUpdate=function(){var H=this.props.direction,xe=this.state,_e=xe.scrollLeft,be=xe.scrollTop,Oe=xe.scrollUpdateWasRequested;if(Oe&&this._outerRef!=null){var Ae=this._outerRef;if(H==="rtl")switch($e()){case"negative":Ae.scrollLeft=-_e;break;case"positive-ascending":Ae.scrollLeft=_e;break;default:var Ke=Ae.clientWidth,We=Ae.scrollWidth;Ae.scrollLeft=We-Ke-_e;break}else Ae.scrollLeft=Math.max(0,_e);Ae.scrollTop=Math.max(0,be)}this._callPropsCallbacks()},he.componentWillUnmount=function(){this._resetIsScrollingTimeoutId!==null&&Be(this._resetIsScrollingTimeoutId)},he.render=function(){var H=this.props,xe=H.children,_e=H.className,be=H.columnCount,Oe=H.direction,Ae=H.height,Ke=H.innerRef,We=H.innerElementType,Qe=H.innerTagName,ot=H.itemData,at=H.itemKey,lt=at===void 0?Tt:at,Ct=H.outerElementType,Et=H.outerTagName,At=H.rowCount,Pt=H.style,Ht=H.useIsScrolling,gt=H.width,kt=this.state.isScrolling,Ot=this._getHorizontalRangeToRender(),Jt=Ot[0],ft=Ot[1],vt=this._getVerticalRangeToRender(),on=vt[0],Jn=vt[1],Xn=[];if(be>0&&At)for(var vn=on;vn<=Jn;vn++)for(var rn=Jt;rn<=ft;rn++)Xn.push((0,s.createElement)(xe,{columnIndex:rn,data:ot,isScrolling:Ht?kt:void 0,key:lt({columnIndex:rn,data:ot,rowIndex:vn}),rowIndex:vn,style:this._getItemStyle(vn,rn)}));var Yt=x(this.props,this._instanceProps),tt=j(this.props,this._instanceProps);return(0,s.createElement)(Ct||Et||"div",{className:_e,onScroll:this._onScroll,ref:this._outerRefSetter,style:(0,a.A)({position:"relative",height:Ae,width:gt,overflow:"auto",WebkitOverflowScrolling:"touch",willChange:"transform",direction:Oe},Pt)},(0,s.createElement)(We||Qe||"div",{children:Xn,ref:Ke,style:{height:Yt,pointerEvents:kt?"none":void 0,width:tt}}))},he._callPropsCallbacks=function(){var H=this.props,xe=H.columnCount,_e=H.onItemsRendered,be=H.onScroll,Oe=H.rowCount;if(typeof _e=="function"&&xe>0&&Oe>0){var Ae=this._getHorizontalRangeToRender(),Ke=Ae[0],We=Ae[1],Qe=Ae[2],ot=Ae[3],at=this._getVerticalRangeToRender(),lt=at[0],Ct=at[1],Et=at[2],At=at[3];this._callOnItemsRendered(Ke,We,lt,Ct,Qe,ot,Et,At)}if(typeof be=="function"){var Pt=this.state,Ht=Pt.horizontalScrollDirection,gt=Pt.scrollLeft,kt=Pt.scrollTop,Ot=Pt.scrollUpdateWasRequested,Jt=Pt.verticalScrollDirection;this._callOnScroll(gt,kt,Ht,Jt,Ot)}},he._getHorizontalRangeToRender=function(){var H=this.props,xe=H.columnCount,_e=H.overscanColumnCount,be=H.overscanColumnsCount,Oe=H.overscanCount,Ae=H.rowCount,Ke=this.state,We=Ke.horizontalScrollDirection,Qe=Ke.isScrolling,ot=Ke.scrollLeft,at=_e||be||Oe||1;if(xe===0||Ae===0)return[0,0,0,0];var lt=c(this.props,ot,this._instanceProps),Ct=w(this.props,lt,ot,this._instanceProps),Et=!Qe||We==="backward"?Math.max(1,at):1,At=!Qe||We==="forward"?Math.max(1,at):1;return[Math.max(0,lt-Et),Math.max(0,Math.min(xe-1,Ct+At)),lt,Ct]},he._getVerticalRangeToRender=function(){var H=this.props,xe=H.columnCount,_e=H.overscanCount,be=H.overscanRowCount,Oe=H.overscanRowsCount,Ae=H.rowCount,Ke=this.state,We=Ke.isScrolling,Qe=Ke.verticalScrollDirection,ot=Ke.scrollTop,at=be||Oe||_e||1;if(xe===0||Ae===0)return[0,0,0,0];var lt=O(this.props,ot,this._instanceProps),Ct=le(this.props,lt,ot,this._instanceProps),Et=!We||Qe==="backward"?Math.max(1,at):1,At=!We||Qe==="forward"?Math.max(1,at):1;return[Math.max(0,lt-Et),Math.max(0,Math.min(Ae-1,Ct+At)),lt,Ct]},ge}(s.PureComponent),i.defaultProps={direction:"ltr",itemData:void 0,useIsScrolling:!1},i}var it=function(i,l){var c=i.children,w=i.direction,_=i.height,x=i.innerTagName,j=i.outerTagName,E=i.overscanColumnsCount,W=i.overscanCount,K=i.overscanRowsCount,$=i.width,O=l.instance},Ve=50,st=function(i,l){var c=i.rowCount,w=l.rowMetadataMap,_=l.estimatedRowHeight,x=l.lastMeasuredRowIndex,j=0;if(x>=c&&(x=c-1),x>=0){var E=w[x];j=E.offset+E.size}var W=c-x-1,K=W*_;return j+K},et=function(i,l){var c=i.columnCount,w=l.columnMetadataMap,_=l.estimatedColumnWidth,x=l.lastMeasuredColumnIndex,j=0;if(x>=c&&(x=c-1),x>=0){var E=w[x];j=E.offset+E.size}var W=c-x-1,K=W*_;return j+K},rt=function(i,l,c,w){var _,x,j;if(i==="column"?(_=w.columnMetadataMap,x=l.columnWidth,j=w.lastMeasuredColumnIndex):(_=w.rowMetadataMap,x=l.rowHeight,j=w.lastMeasuredRowIndex),c>j){var E=0;if(j>=0){var W=_[j];E=W.offset+W.size}for(var K=j+1;K<=c;K++){var $=x(K);_[K]={offset:E,size:$},E+=$}i==="column"?w.lastMeasuredColumnIndex=c:w.lastMeasuredRowIndex=c}return _[c]},ht=function(i,l,c,w){var _,x;i==="column"?(_=c.columnMetadataMap,x=c.lastMeasuredColumnIndex):(_=c.rowMetadataMap,x=c.lastMeasuredRowIndex);var j=x>0?_[x].offset:0;return j>=w?Bt(i,l,c,x,0,w):Wt(i,l,c,Math.max(0,x),w)},Bt=function(i,l,c,w,_,x){for(;_<=w;){var j=_+Math.floor((w-_)/2),E=rt(i,l,j,c).offset;if(E===x)return j;E<x?_=j+1:E>x&&(w=j-1)}return _>0?_-1:0},Wt=function(i,l,c,w,_){for(var x=i==="column"?l.columnCount:l.rowCount,j=1;w<x&&rt(i,l,w,c).offset<_;)w+=j,j*=2;return Bt(i,l,c,Math.min(w,x-1),Math.floor(w/2),_)},Lt=function(i,l,c,w,_,x,j){var E=i==="column"?l.width:l.height,W=rt(i,l,c,x),K=i==="column"?et(l,x):st(l,x),$=Math.max(0,Math.min(K-E,W.offset)),O=Math.max(0,W.offset-E+j+W.size);switch(w==="smart"&&(_>=O-E&&_<=$+E?w="auto":w="center"),w){case"start":return $;case"end":return O;case"center":return Math.round(O+($-O)/2);case"auto":default:return _>=O&&_<=$?_:O>$||_<O?O:$}},Fe=Kt({getColumnOffset:function(i,l,c){return rt("column",i,l,c).offset},getColumnStartIndexForOffset:function(i,l,c){return ht("column",i,c,l)},getColumnStopIndexForStartIndex:function(i,l,c,w){for(var _=i.columnCount,x=i.width,j=rt("column",i,l,w),E=c+x,W=j.offset+j.size,K=l;K<_-1&&W<E;)K++,W+=rt("column",i,K,w).size;return K},getColumnWidth:function(i,l,c){return c.columnMetadataMap[l].size},getEstimatedTotalHeight:st,getEstimatedTotalWidth:et,getOffsetForColumnAndAlignment:function(i,l,c,w,_,x){return Lt("column",i,l,c,w,_,x)},getOffsetForRowAndAlignment:function(i,l,c,w,_,x){return Lt("row",i,l,c,w,_,x)},getRowOffset:function(i,l,c){return rt("row",i,l,c).offset},getRowHeight:function(i,l,c){return c.rowMetadataMap[l].size},getRowStartIndexForOffset:function(i,l,c){return ht("row",i,c,l)},getRowStopIndexForStartIndex:function(i,l,c,w){for(var _=i.rowCount,x=i.height,j=rt("row",i,l,w),E=c+x,W=j.offset+j.size,K=l;K<_-1&&W<E;)K++,W+=rt("row",i,K,w).size;return K},initInstanceProps:function(i,l){var c=i,w=c.estimatedColumnWidth,_=c.estimatedRowHeight,x={columnMetadataMap:{},estimatedColumnWidth:w||Ve,estimatedRowHeight:_||Ve,lastMeasuredColumnIndex:-1,lastMeasuredRowIndex:-1,rowMetadataMap:{}};return l.resetAfterColumnIndex=function(j,E){E===void 0&&(E=!0),l.resetAfterIndices({columnIndex:j,shouldForceUpdate:E})},l.resetAfterRowIndex=function(j,E){E===void 0&&(E=!0),l.resetAfterIndices({rowIndex:j,shouldForceUpdate:E})},l.resetAfterIndices=function(j){var E=j.columnIndex,W=j.rowIndex,K=j.shouldForceUpdate,$=K===void 0?!0:K;typeof E=="number"&&(x.lastMeasuredColumnIndex=Math.min(x.lastMeasuredColumnIndex,E-1)),typeof W=="number"&&(x.lastMeasuredRowIndex=Math.min(x.lastMeasuredRowIndex,W-1)),l._getItemStyleCache(-1),$&&l.forceUpdate()},x},shouldResetStyleCacheOnItemSizeChange:!1,validateProps:function(i){var l=i.columnWidth,c=i.rowHeight}}),ct=150,Gt=function(i,l){return i},en=null,Pn=null;function fn(e){var i,l=e.getItemOffset,c=e.getEstimatedTotalSize,w=e.getItemSize,_=e.getOffsetForIndexAndAlignment,x=e.getStartIndexForOffset,j=e.getStopIndexForStartIndex,E=e.initInstanceProps,W=e.shouldResetStyleCacheOnItemSizeChange,K=e.validateProps;return i=function($){(0,o.A)(O,$);function O(oe){var P;return P=$.call(this,oe)||this,P._instanceProps=E(P.props,(0,t.A)(P)),P._outerRef=void 0,P._resetIsScrollingTimeoutId=null,P.state={instance:(0,t.A)(P),isScrolling:!1,scrollDirection:"forward",scrollOffset:typeof P.props.initialScrollOffset=="number"?P.props.initialScrollOffset:0,scrollUpdateWasRequested:!1},P._callOnItemsRendered=void 0,P._callOnItemsRendered=Ee(function(re,ce,ge,he){return P.props.onItemsRendered({overscanStartIndex:re,overscanStopIndex:ce,visibleStartIndex:ge,visibleStopIndex:he})}),P._callOnScroll=void 0,P._callOnScroll=Ee(function(re,ce,ge){return P.props.onScroll({scrollDirection:re,scrollOffset:ce,scrollUpdateWasRequested:ge})}),P._getItemStyle=void 0,P._getItemStyle=function(re){var ce=P.props,ge=ce.direction,he=ce.itemSize,ye=ce.layout,H=P._getItemStyleCache(W&&he,W&&ye,W&&ge),xe;if(H.hasOwnProperty(re))xe=H[re];else{var _e=l(P.props,re,P._instanceProps),be=w(P.props,re,P._instanceProps),Oe=ge==="horizontal"||ye==="horizontal",Ae=ge==="rtl",Ke=Oe?_e:0;H[re]=xe={position:"absolute",left:Ae?void 0:Ke,right:Ae?Ke:void 0,top:Oe?0:_e,height:Oe?"100%":be,width:Oe?be:"100%"}}return xe},P._getItemStyleCache=void 0,P._getItemStyleCache=Ee(function(re,ce,ge){return{}}),P._onScrollHorizontal=function(re){var ce=re.currentTarget,ge=ce.clientWidth,he=ce.scrollLeft,ye=ce.scrollWidth;P.setState(function(H){if(H.scrollOffset===he)return null;var xe=P.props.direction,_e=he;if(xe==="rtl")switch($e()){case"negative":_e=-he;break;case"positive-descending":_e=ye-ge-he;break}return _e=Math.max(0,Math.min(_e,ye-ge)),{isScrolling:!0,scrollDirection:H.scrollOffset<_e?"forward":"backward",scrollOffset:_e,scrollUpdateWasRequested:!1}},P._resetIsScrollingDebounced)},P._onScrollVertical=function(re){var ce=re.currentTarget,ge=ce.clientHeight,he=ce.scrollHeight,ye=ce.scrollTop;P.setState(function(H){if(H.scrollOffset===ye)return null;var xe=Math.max(0,Math.min(ye,he-ge));return{isScrolling:!0,scrollDirection:H.scrollOffset<xe?"forward":"backward",scrollOffset:xe,scrollUpdateWasRequested:!1}},P._resetIsScrollingDebounced)},P._outerRefSetter=function(re){var ce=P.props.outerRef;P._outerRef=re,typeof ce=="function"?ce(re):ce!=null&&typeof ce=="object"&&ce.hasOwnProperty("current")&&(ce.current=re)},P._resetIsScrollingDebounced=function(){P._resetIsScrollingTimeoutId!==null&&Be(P._resetIsScrollingTimeoutId),P._resetIsScrollingTimeoutId=Xe(P._resetIsScrolling,ct)},P._resetIsScrolling=function(){P._resetIsScrollingTimeoutId=null,P.setState({isScrolling:!1},function(){P._getItemStyleCache(-1,null)})},P}O.getDerivedStateFromProps=function(P,re){return cn(P,re),K(P),null};var le=O.prototype;return le.scrollTo=function(P){P=Math.max(0,P),this.setState(function(re){return re.scrollOffset===P?null:{scrollDirection:re.scrollOffset<P?"forward":"backward",scrollOffset:P,scrollUpdateWasRequested:!0}},this._resetIsScrollingDebounced)},le.scrollToItem=function(P,re){re===void 0&&(re="auto");var ce=this.props,ge=ce.itemCount,he=ce.layout,ye=this.state.scrollOffset;P=Math.max(0,Math.min(P,ge-1));var H=0;if(this._outerRef){var xe=this._outerRef;he==="vertical"?H=xe.scrollWidth>xe.clientWidth?Se():0:H=xe.scrollHeight>xe.clientHeight?Se():0}this.scrollTo(_(this.props,P,re,ye,this._instanceProps,H))},le.componentDidMount=function(){var P=this.props,re=P.direction,ce=P.initialScrollOffset,ge=P.layout;if(typeof ce=="number"&&this._outerRef!=null){var he=this._outerRef;re==="horizontal"||ge==="horizontal"?he.scrollLeft=ce:he.scrollTop=ce}this._callPropsCallbacks()},le.componentDidUpdate=function(){var P=this.props,re=P.direction,ce=P.layout,ge=this.state,he=ge.scrollOffset,ye=ge.scrollUpdateWasRequested;if(ye&&this._outerRef!=null){var H=this._outerRef;if(re==="horizontal"||ce==="horizontal")if(re==="rtl")switch($e()){case"negative":H.scrollLeft=-he;break;case"positive-ascending":H.scrollLeft=he;break;default:var xe=H.clientWidth,_e=H.scrollWidth;H.scrollLeft=_e-xe-he;break}else H.scrollLeft=he;else H.scrollTop=he}this._callPropsCallbacks()},le.componentWillUnmount=function(){this._resetIsScrollingTimeoutId!==null&&Be(this._resetIsScrollingTimeoutId)},le.render=function(){var P=this.props,re=P.children,ce=P.className,ge=P.direction,he=P.height,ye=P.innerRef,H=P.innerElementType,xe=P.innerTagName,_e=P.itemCount,be=P.itemData,Oe=P.itemKey,Ae=Oe===void 0?Gt:Oe,Ke=P.layout,We=P.outerElementType,Qe=P.outerTagName,ot=P.style,at=P.useIsScrolling,lt=P.width,Ct=this.state.isScrolling,Et=ge==="horizontal"||Ke==="horizontal",At=Et?this._onScrollHorizontal:this._onScrollVertical,Pt=this._getRangeToRender(),Ht=Pt[0],gt=Pt[1],kt=[];if(_e>0)for(var Ot=Ht;Ot<=gt;Ot++)kt.push((0,s.createElement)(re,{data:be,key:Ae(Ot,be),index:Ot,isScrolling:at?Ct:void 0,style:this._getItemStyle(Ot)}));var Jt=c(this.props,this._instanceProps);return(0,s.createElement)(We||Qe||"div",{className:ce,onScroll:At,ref:this._outerRefSetter,style:(0,a.A)({position:"relative",height:he,width:lt,overflow:"auto",WebkitOverflowScrolling:"touch",willChange:"transform",direction:ge},ot)},(0,s.createElement)(H||xe||"div",{children:kt,ref:ye,style:{height:Et?"100%":Jt,pointerEvents:Ct?"none":void 0,width:Et?Jt:"100%"}}))},le._callPropsCallbacks=function(){if(typeof this.props.onItemsRendered=="function"){var P=this.props.itemCount;if(P>0){var re=this._getRangeToRender(),ce=re[0],ge=re[1],he=re[2],ye=re[3];this._callOnItemsRendered(ce,ge,he,ye)}}if(typeof this.props.onScroll=="function"){var H=this.state,xe=H.scrollDirection,_e=H.scrollOffset,be=H.scrollUpdateWasRequested;this._callOnScroll(xe,_e,be)}},le._getRangeToRender=function(){var P=this.props,re=P.itemCount,ce=P.overscanCount,ge=this.state,he=ge.isScrolling,ye=ge.scrollDirection,H=ge.scrollOffset;if(re===0)return[0,0,0,0];var xe=x(this.props,H,this._instanceProps),_e=j(this.props,xe,H,this._instanceProps),be=!he||ye==="backward"?Math.max(1,ce):1,Oe=!he||ye==="forward"?Math.max(1,ce):1;return[Math.max(0,xe-be),Math.max(0,Math.min(re-1,_e+Oe)),xe,_e]},O}(s.PureComponent),i.defaultProps={direction:"ltr",itemData:void 0,layout:"vertical",overscanCount:2,useIsScrolling:!1},i}var cn=function(i,l){var c=i.children,w=i.direction,_=i.height,x=i.layout,j=i.innerTagName,E=i.outerTagName,W=i.width,K=l.instance;if(0)var $},Dn=50,Qn=function(i,l,c){var w=i,_=w.itemSize,x=c.itemMetadataMap,j=c.lastMeasuredIndex;if(l>j){var E=0;if(j>=0){var W=x[j];E=W.offset+W.size}for(var K=j+1;K<=l;K++){var $=_(K);x[K]={offset:E,size:$},E+=$}c.lastMeasuredIndex=l}return x[l]},qo=function(i,l,c){var w=l.itemMetadataMap,_=l.lastMeasuredIndex,x=_>0?w[_].offset:0;return x>=c?Uo(i,l,_,0,c):er(i,l,Math.max(0,_),c)},Uo=function(i,l,c,w,_){for(;w<=c;){var x=w+Math.floor((c-w)/2),j=Qn(i,x,l).offset;if(j===_)return x;j<_?w=x+1:j>_&&(c=x-1)}return w>0?w-1:0},er=function(i,l,c,w){for(var _=i.itemCount,x=1;c<_&&Qn(i,c,l).offset<w;)c+=x,x*=2;return Uo(i,l,Math.min(c,_-1),Math.floor(c/2),w)},Wo=function(i,l){var c=i.itemCount,w=l.itemMetadataMap,_=l.estimatedItemSize,x=l.lastMeasuredIndex,j=0;if(x>=c&&(x=c-1),x>=0){var E=w[x];j=E.offset+E.size}var W=c-x-1,K=W*_;return j+K},Dr=fn({getItemOffset:function(i,l,c){return Qn(i,l,c).offset},getItemSize:function(i,l,c){return c.itemMetadataMap[l].size},getEstimatedTotalSize:Wo,getOffsetForIndexAndAlignment:function(i,l,c,w,_,x){var j=i.direction,E=i.height,W=i.layout,K=i.width,$=j==="horizontal"||W==="horizontal",O=$?K:E,le=Qn(i,l,_),oe=Wo(i,_),P=Math.max(0,Math.min(oe-O,le.offset)),re=Math.max(0,le.offset-O+le.size+x);switch(c==="smart"&&(w>=re-O&&w<=P+O?c="auto":c="center"),c){case"start":return P;case"end":return re;case"center":return Math.round(re+(P-re)/2);case"auto":default:return w>=re&&w<=P?w:w<re?re:P}},getStartIndexForOffset:function(i,l,c){return qo(i,c,l)},getStopIndexForStartIndex:function(i,l,c,w){for(var _=i.direction,x=i.height,j=i.itemCount,E=i.layout,W=i.width,K=_==="horizontal"||E==="horizontal",$=K?W:x,O=Qn(i,l,w),le=c+$,oe=O.offset+O.size,P=l;P<j-1&&oe<le;)P++,oe+=Qn(i,P,w).size;return P},initInstanceProps:function(i,l){var c=i,w=c.estimatedItemSize,_={itemMetadataMap:{},estimatedItemSize:w||Dn,lastMeasuredIndex:-1};return l.resetAfterIndex=function(x,j){j===void 0&&(j=!0),_.lastMeasuredIndex=Math.min(_.lastMeasuredIndex,x-1),l._getItemStyleCache(-1),j&&l.forceUpdate()},_},shouldResetStyleCacheOnItemSizeChange:!1,validateProps:function(i){var l=i.itemSize}}),Rr=Kt({getColumnOffset:function(i,l){var c=i.columnWidth;return l*c},getColumnWidth:function(i,l){var c=i.columnWidth;return c},getRowOffset:function(i,l){var c=i.rowHeight;return l*c},getRowHeight:function(i,l){var c=i.rowHeight;return c},getEstimatedTotalHeight:function(i){var l=i.rowCount,c=i.rowHeight;return c*l},getEstimatedTotalWidth:function(i){var l=i.columnCount,c=i.columnWidth;return c*l},getOffsetForColumnAndAlignment:function(i,l,c,w,_,x){var j=i.columnCount,E=i.columnWidth,W=i.width,K=Math.max(0,j*E-W),$=Math.min(K,l*E),O=Math.max(0,l*E-W+x+E);switch(c==="smart"&&(w>=O-W&&w<=$+W?c="auto":c="center"),c){case"start":return $;case"end":return O;case"center":var le=Math.round(O+($-O)/2);return le<Math.ceil(W/2)?0:le>K+Math.floor(W/2)?K:le;case"auto":default:return w>=O&&w<=$?w:O>$||w<O?O:$}},getOffsetForRowAndAlignment:function(i,l,c,w,_,x){var j=i.rowHeight,E=i.height,W=i.rowCount,K=Math.max(0,W*j-E),$=Math.min(K,l*j),O=Math.max(0,l*j-E+x+j);switch(c==="smart"&&(w>=O-E&&w<=$+E?c="auto":c="center"),c){case"start":return $;case"end":return O;case"center":var le=Math.round(O+($-O)/2);return le<Math.ceil(E/2)?0:le>K+Math.floor(E/2)?K:le;case"auto":default:return w>=O&&w<=$?w:O>$||w<O?O:$}},getColumnStartIndexForOffset:function(i,l){var c=i.columnWidth,w=i.columnCount;return Math.max(0,Math.min(w-1,Math.floor(l/c)))},getColumnStopIndexForStartIndex:function(i,l,c){var w=i.columnWidth,_=i.columnCount,x=i.width,j=l*w,E=Math.ceil((x+c-j)/w);return Math.max(0,Math.min(_-1,l+E-1))},getRowStartIndexForOffset:function(i,l){var c=i.rowHeight,w=i.rowCount;return Math.max(0,Math.min(w-1,Math.floor(l/c)))},getRowStopIndexForStartIndex:function(i,l,c){var w=i.rowHeight,_=i.rowCount,x=i.height,j=l*w,E=Math.ceil((x+c-j)/w);return Math.max(0,Math.min(_-1,l+E-1))},initInstanceProps:function(i){},shouldResetStyleCacheOnItemSizeChange:!0,validateProps:function(i){var l=i.columnWidth,c=i.rowHeight}}),tr=fn({getItemOffset:function(i,l){var c=i.itemSize;return l*c},getItemSize:function(i,l){var c=i.itemSize;return c},getEstimatedTotalSize:function(i){var l=i.itemCount,c=i.itemSize;return c*l},getOffsetForIndexAndAlignment:function(i,l,c,w,_,x){var j=i.direction,E=i.height,W=i.itemCount,K=i.itemSize,$=i.layout,O=i.width,le=j==="horizontal"||$==="horizontal",oe=le?O:E,P=Math.max(0,W*K-oe),re=Math.min(P,l*K),ce=Math.max(0,l*K-oe+K+x);switch(c==="smart"&&(w>=ce-oe&&w<=re+oe?c="auto":c="center"),c){case"start":return re;case"end":return ce;case"center":{var ge=Math.round(ce+(re-ce)/2);return ge<Math.ceil(oe/2)?0:ge>P+Math.floor(oe/2)?P:ge}case"auto":default:return w>=ce&&w<=re?w:w<ce?ce:re}},getStartIndexForOffset:function(i,l){var c=i.itemCount,w=i.itemSize;return Math.max(0,Math.min(c-1,Math.floor(l/w)))},getStopIndexForStartIndex:function(i,l,c){var w=i.direction,_=i.height,x=i.itemCount,j=i.itemSize,E=i.layout,W=i.width,K=w==="horizontal"||E==="horizontal",$=l*j,O=K?W:_,le=Math.ceil((O+c-$)/j);return Math.max(0,Math.min(x-1,l+le-1))},initInstanceProps:function(i){},shouldResetStyleCacheOnItemSizeChange:!0,validateProps:function(i){var l=i.itemSize}});function Oo(e,i){for(var l in e)if(!(l in i))return!0;for(var c in i)if(e[c]!==i[c])return!0;return!1}var nr=null,sr=null;function or(e,i){var l=e.style,c=_objectWithoutPropertiesLoose(e,nr),w=i.style,_=_objectWithoutPropertiesLoose(i,sr);return!Oo(l,w)&&!Oo(c,_)}function Br(e,i){return!or(this.props,e)||Oo(this.state,i)}let dn;typeof window<"u"?dn=window:typeof self<"u"?dn=self:dn=n.g;let Po=null,Do=null;const Ho=20,Ro=dn.clearTimeout,Vo=dn.setTimeout,Bo=dn.cancelAnimationFrame||dn.mozCancelAnimationFrame||dn.webkitCancelAnimationFrame,Zo=dn.requestAnimationFrame||dn.mozRequestAnimationFrame||dn.webkitRequestAnimationFrame;Bo==null||Zo==null?(Po=Ro,Do=function(i){return Vo(i,Ho)}):(Po=function(i){let[l,c]=i;Bo(l),Ro(c)},Do=function(i){const l=Zo(function(){Ro(c),i()}),c=Vo(function(){Bo(l),i()},Ho);return[l,c]});function rr(e){let i,l,c,w,_,x,j;const E=typeof document<"u"&&document.attachEvent;if(!E){x=function(ce){const ge=ce.__resizeTriggers__,he=ge.firstElementChild,ye=ge.lastElementChild,H=he.firstElementChild;ye.scrollLeft=ye.scrollWidth,ye.scrollTop=ye.scrollHeight,H.style.width=he.offsetWidth+1+"px",H.style.height=he.offsetHeight+1+"px",he.scrollLeft=he.scrollWidth,he.scrollTop=he.scrollHeight},_=function(ce){return ce.offsetWidth!==ce.__resizeLast__.width||ce.offsetHeight!==ce.__resizeLast__.height},j=function(ce){if(ce.target.className&&typeof ce.target.className.indexOf=="function"&&ce.target.className.indexOf("contract-trigger")<0&&ce.target.className.indexOf("expand-trigger")<0)return;const ge=this;x(this),this.__resizeRAF__&&Po(this.__resizeRAF__),this.__resizeRAF__=Do(function(){_(ge)&&(ge.__resizeLast__.width=ge.offsetWidth,ge.__resizeLast__.height=ge.offsetHeight,ge.__resizeListeners__.forEach(function(H){H.call(ge,ce)}))})};let O=!1,le="";c="animationstart";const oe="Webkit Moz O ms".split(" ");let P="webkitAnimationStart animationstart oAnimationStart MSAnimationStart".split(" "),re="";{const ce=document.createElement("fakeelement");if(ce.style.animationName!==void 0&&(O=!0),O===!1){for(let ge=0;ge<oe.length;ge++)if(ce.style[oe[ge]+"AnimationName"]!==void 0){re=oe[ge],le="-"+re.toLowerCase()+"-",c=P[ge],O=!0;break}}}l="resizeanim",i="@"+le+"keyframes "+l+" { from { opacity: 0; } to { opacity: 0; } } ",w=le+"animation: 1ms "+l+"; "}const W=function(O){if(!O.getElementById("detectElementResize")){const le=(i||"")+".resize-triggers { "+(w||"")+'visibility: hidden; opacity: 0; } .resize-triggers, .resize-triggers > div, .contract-trigger:before { content: " "; display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; z-index: -1; } .resize-triggers > div { background: #eee; overflow: auto; } .contract-trigger:before { width: 200%; height: 200%; }',oe=O.head||O.getElementsByTagName("head")[0],P=O.createElement("style");P.id="detectElementResize",P.type="text/css",e!=null&&P.setAttribute("nonce",e),P.styleSheet?P.styleSheet.cssText=le:P.appendChild(O.createTextNode(le)),oe.appendChild(P)}};return{addResizeListener:function(O,le){if(E)O.attachEvent("onresize",le);else{if(!O.__resizeTriggers__){const oe=O.ownerDocument,P=dn.getComputedStyle(O);P&&P.position==="static"&&(O.style.position="relative"),W(oe),O.__resizeLast__={},O.__resizeListeners__=[],(O.__resizeTriggers__=oe.createElement("div")).className="resize-triggers";const re=oe.createElement("div");re.className="expand-trigger",re.appendChild(oe.createElement("div"));const ce=oe.createElement("div");ce.className="contract-trigger",O.__resizeTriggers__.appendChild(re),O.__resizeTriggers__.appendChild(ce),O.appendChild(O.__resizeTriggers__),x(O),O.addEventListener("scroll",j,!0),c&&(O.__resizeTriggers__.__animationListener__=function(he){he.animationName===l&&x(O)},O.__resizeTriggers__.addEventListener(c,O.__resizeTriggers__.__animationListener__))}O.__resizeListeners__.push(le)}},removeResizeListener:function(O,le){if(E)O.detachEvent("onresize",le);else if(O.__resizeListeners__.splice(O.__resizeListeners__.indexOf(le),1),!O.__resizeListeners__.length){O.removeEventListener("scroll",j,!0),O.__resizeTriggers__.__animationListener__&&(O.__resizeTriggers__.removeEventListener(c,O.__resizeTriggers__.__animationListener__),O.__resizeTriggers__.__animationListener__=null);try{O.__resizeTriggers__=!O.removeChild(O.__resizeTriggers__)}catch(oe){}}}}}class ir extends s.Component{constructor(){super(...arguments),this.state={height:this.props.defaultHeight||0,width:this.props.defaultWidth||0},this._autoSizer=null,this._detectElementResize=null,this._didLogDeprecationWarning=!1,this._parentNode=null,this._resizeObserver=null,this._timeoutId=null,this._onResize=()=>{this._timeoutId=null;const{disableHeight:i,disableWidth:l,onResize:c}=this.props;if(this._parentNode){const w=window.getComputedStyle(this._parentNode)||{},_=parseFloat(w.paddingLeft||"0"),x=parseFloat(w.paddingRight||"0"),j=parseFloat(w.paddingTop||"0"),E=parseFloat(w.paddingBottom||"0"),W=this._parentNode.getBoundingClientRect(),K=W.height-j-E,$=W.width-_-x;if(!i&&this.state.height!==K||!l&&this.state.width!==$){this.setState({height:K,width:$});const O=()=>{this._didLogDeprecationWarning||(this._didLogDeprecationWarning=!0,console.warn("scaledWidth and scaledHeight parameters have been deprecated; use width and height instead"))};typeof c=="function"&&c({height:K,width:$,get scaledHeight(){return O(),K},get scaledWidth(){return O(),$}})}}},this._setRef=i=>{this._autoSizer=i}}componentDidMount(){const{nonce:i}=this.props,l=this._autoSizer?this._autoSizer.parentNode:null;if(l!=null&&l.ownerDocument&&l.ownerDocument.defaultView&&l instanceof l.ownerDocument.defaultView.HTMLElement){this._parentNode=l;const c=l.ownerDocument.defaultView.ResizeObserver;c!=null?(this._resizeObserver=new c(()=>{this._timeoutId=setTimeout(this._onResize,0)}),this._resizeObserver.observe(l)):(this._detectElementResize=rr(i),this._detectElementResize.addResizeListener(l,this._onResize)),this._onResize()}}componentWillUnmount(){this._parentNode&&(this._detectElementResize&&this._detectElementResize.removeResizeListener(this._parentNode,this._onResize),this._timeoutId!==null&&clearTimeout(this._timeoutId),this._resizeObserver&&this._resizeObserver.disconnect())}render(){const{children:i,defaultHeight:l,defaultWidth:c,disableHeight:w=!1,disableWidth:_=!1,doNotBailOutOnEmptyChildren:x=!1,nonce:j,onResize:E,style:W={},tagName:K="div",...$}=this.props,{height:O,width:le}=this.state,oe={overflow:"visible"},P={};let re=!1;return w||(O===0&&(re=!0),oe.height=0,P.height=O,P.scaledHeight=O),_||(le===0&&(re=!0),oe.width=0,P.width=le,P.scaledWidth=le),x&&(re=!1),(0,s.createElement)(K,{ref:this._setRef,style:{...oe,...W},...$},!re&&i(P))}}function Fr(e){return e&&e.disableHeight!==!0&&e.disableWidth!==!0}function zr(e){return e&&e.disableHeight!==!0&&e.disableWidth===!0}function Ur(e){return e&&e.disableHeight===!0&&e.disableWidth!==!0}const ar=(0,s.memo)(e=>{let{className:i,itemCount:l,itemSize:c,itemData:w,renderItem:_,onItemCountChange:x,onListRef:j}=e;const E=s.createRef();return(0,s.useEffect)(()=>{E.current&&x&&x(E)},[l,E,x]),(0,s.useEffect)(()=>{E.current&&j&&j(E)},[E,j]),(0,r.jsx)(ir,{children:W=>{let{width:K,height:$=0}=W;return(0,r.jsx)(tr,{ref:E,className:i,itemCount:l,itemSize:c,itemData:w,height:$,width:K,children:_})}})}),lr=e=>{const{theme:i,caption:l,captionExtra:c,className:w,permissionScope:_,memberList:x,isOnlyOneManager:j,readOnly:E,readOnlyTooltip:W,expandable:K,defaultExpanded:$=!0,isResetPermission:O=!1,children:le,onPermissionChange:oe,onChangeHeight:P,isMemberList:re,onlyTitle:ce,isUseVirtualizedRender:ge=!1,onClickInviteButton:he,isShowInviteButton:ye=!1,currentOrg:H}=e,[xe,_e]=(0,s.useState)($),be=(0,s.useCallback)(()=>{_e(We=>!We),P&&P()},[P]),Oe=(0,s.useCallback)(We=>{var Qe;const{avatar:ot,name:at}=We;return ot&&!ot.includes("/images/avatar.png")?(0,r.jsx)("img",{className:"avatar",src:We.avatar,alt:We.name}):(0,r.jsx)("div",{className:"avatar avater-name",children:at==null||(Qe=at.slice(0,1))==null?void 0:Qe.toUpperCase()})},[]),Ae=(We,Qe)=>(0,r.jsxs)("div",{className:"item",style:Qe,children:[(0,r.jsxs)("span",{className:"title",children:[Oe(We),(0,r.jsx)("span",{className:"name",children:We.name})]}),(0,r.jsx)("span",{className:"account",children:We.email||We.mobile}),(0,r.jsx)($n,{readOnly:E,readOnlyTooltip:W,member:We,isReset:O,isOnlyOneManager:j,permissionScope:_,currentOrg:H,onPermissionChange:oe})]},We.user_cid),Ke=We=>{let{data:Qe,index:ot,style:at}=We;const{memberList:lt}=Qe;return Ae(lt[ot],at)};return(0,r.jsxs)(fs,{className:te()("member-list",i,w&&w,ge&&"use-virtualized-list"),"data-expanded":xe,children:[K&&(0,r.jsxs)("h5",{className:"caption",children:[(0,r.jsx)("span",{children:l}),ye&&!(!ce&&K&&!re)&&(0,r.jsxs)("div",{className:"invite-item",onClick:he,children:[(0,r.jsx)(Re.C,{name:"sharing/invite_member"}),I18N.imockSharing.add_collaborator]}),!ce&&K&&!re&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("span",{children:x.length>0&&"\xB7"+x.length}),(0,r.jsx)("span",{className:te()("btn-toggle-expand"),onClick:be,children:xe?I18N.BasicWidgetsNav.share_collapse:I18N.BasicWidgetsNav.share_view})]}),c]}),le,!!x.length&&(0,r.jsx)("div",{className:"members",children:ge?(0,r.jsx)(ar,{className:"virtualized-list",itemSize:48,itemCount:x.length,itemData:{memberList:x},renderItem:Ke}):x.map(We=>Ae(We))})]})},Fo=(0,s.memo)(lr),cr=A.Ay.div.withConfig({displayName:"style__StyledSearchBox",componentId:"sc-f6syk1-0"})(["flex:1;position:relative;.icon-search{position:absolute;top:12px;left:12px;width:16px;height:17px;color:#666;}.autoCompleteInput{position:absolute;width:1px;height:1px;top:-2000px;}input{width:100%;height:36px;padding:0 12px 0 12px;border-radius:4px;outline:none;color:",";border:1px solid ",";font-size:14px;&:hover,&:focus{border-color:#298df8;border:1px solid #1883FB;}}"],e=>e.theme.color_text_L1,e=>e.theme.color_bg_border_02),dr=e=>{const{value:i,onChange:l,onKeyPress:c}=e,w=x=>{l(x.currentTarget.value)},_=x=>{x.key==="Enter"&&c(x.currentTarget.value)};return(0,r.jsx)(cr,{className:"search-box",children:(0,r.jsx)("input",{className:"search-input",placeholder:I18N.imockSharing.search_member,type:"text",value:i,onChange:w,onKeyPress:_})})},ur=(0,s.memo)(dr);var pr=n(15628),Ko=n(51582);function hr(e){const{theme:i,caption:l,outerMembers:c,canInvite:w,isSharing:_,handleClickInviteMember:x}=e,j=()=>{const K="\u54C8\u55BD\uFF0C\u7BA1\u7406\u5458\u60A8\u597D\uFF0C\u7533\u8BF7\u5C06"+(c[0].mobile||c[0].email)+"\u52A0\u5165\u300C\u58A8\u5200\u5E73\u53F0-"+l+"\u300D\uFF0C\u52A0\u5165\u540E\u6211\u5C31\u53EF\u4EE5\u548CTA\u4E00\u8D77\u534F\u4F5C\u4E86\u54E6~";(0,wn.$)(K)},E=!c||c.length<1;return _?(0,r.jsxs)(fs,{className:"member-list sharing "+i,children:[(0,r.jsxs)("div",{className:"members invite",children:[!E&&c.map(W=>(0,r.jsxs)("div",{className:"item",children:[(0,r.jsxs)("span",{className:"title",children:[(0,r.jsx)("img",{className:"avatar",src:W.avatar,alt:W.name}),(0,r.jsxs)("span",{className:"name",children:[W.name,(0,r.jsx)("span",{className:"register",children:W.id?I18N.imockSharing.external:I18N.imockSharing.unregistered})]})]}),(0,r.jsx)("span",{className:"account",children:W.email||W.mobile}),!n.g.ENV.IS_ON_PREMISES&&(w?(0,r.jsx)("span",{className:"inviteJoin",onClick:x,children:I18N.imockSharing.invite_h}):(0,r.jsxs)("div",{className:"addOuter",children:[(0,r.jsx)("span",{className:"add",children:I18N.imockSharing.submit}),(0,r.jsx)(hs.A,{opener:(0,r.jsx)(Ko.A,{name:"question"}),mode:"dark",menuX:"right",shouldOpenOnHover:!0,hoverDelay:100,menuClassName:"add-outer-member-tip",menu:(0,r.jsxs)("p",{className:"desc",children:["\u590D\u5236\u5E10\u53F7\uFF0C\u63D0\u9192\u7BA1\u7406\u5458\u628ATA\u52A0\u5165\u4F01\u4E1A\uFF0C\u5C31\u53EF\u4EE5\u4E00\u8D77\u534F\u4F5C\u4E86\u54E6~",(0,r.jsx)("a",{className:"copy-text",onClick:j,children:I18N.imockSharing.copy})]})})]}))]},W.cid)),E&&(0,r.jsx)("div",{className:"enterTip",children:(0,r.jsx)("span",{children:n.g.ENV.IS_ON_PREMISES?(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{children:"\u60A8\u627E\u7684\u6210\u5458\u4E0D\u5728\u4F01\u4E1A\u4E2D\uFF0C"}),(0,r.jsx)("br",{}),(0,r.jsx)("span",{children:"\u8BF7\u786E\u8BA4\u300C\u90AE\u7BB1/\u624B\u673A\u53F7\u300D\u91CD\u65B0\u641C\u7D22~"})]}):(0,r.jsx)("div",{dangerouslySetInnerHTML:{__html:I18N.imockSharing.member_search_not_in_the_team}})})})]}),(0,r.jsx)(Vs,{})]}):(r.Fragment,(0,r.jsxs)(fs,{className:"member-list "+i,children:[(0,r.jsxs)("div",{className:"members invite",children:[!E&&c.map(W=>(0,r.jsxs)("div",{className:"item",children:[(0,r.jsxs)("span",{className:"title",children:[(0,r.jsx)("img",{className:"avatar",src:W.avatar,alt:W.name}),(0,r.jsxs)("span",{className:"name",children:[W.name,(0,r.jsx)("span",{className:"register",children:W.id?I18N.imockSharing.external:I18N.imockSharing.unregistered})]})]}),(0,r.jsx)("span",{className:"account",children:W.email||W.mobile}),!n.g.ENV.IS_ON_PREMISES&&(w?(0,r.jsx)("span",{className:"inviteJoin",onClick:x,children:I18N.imockSharing.invite_h}):(0,r.jsxs)("div",{className:"addOuter",children:[(0,r.jsx)("span",{className:"add",children:I18N.imockSharing.submit}),(0,r.jsx)(hs.A,{opener:(0,r.jsx)(Ko.A,{name:"question"}),mode:"dark",menuX:"right",shouldOpenOnHover:!0,hoverDelay:100,menuClassName:"add-outer-member-tip",menu:(0,r.jsxs)("p",{className:"desc",children:["\u590D\u5236\u5E10\u53F7\uFF0C\u63D0\u9192\u7BA1\u7406\u5458\u628ATA\u52A0\u5165\u4F01\u4E1A\uFF0C\u5C31\u53EF\u4EE5\u4E00\u8D77\u534F\u4F5C\u4E86\u54E6~",(0,r.jsx)("a",{className:"copy-text",onClick:j,children:I18N.imockSharing.copy})]})})]}))]},W.cid)),E&&(0,r.jsx)("div",{className:"enterTip",children:(0,r.jsx)("span",{children:n.g.ENV.IS_ON_PREMISES?(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{children:"\u60A8\u627E\u7684\u6210\u5458\u4E0D\u5728\u4F01\u4E1A\u4E2D\uFF0C"}),(0,r.jsx)("br",{}),(0,r.jsx)("span",{children:"\u8BF7\u786E\u8BA4\u300C\u90AE\u7BB1/\u624B\u673A\u53F7\u300D\u91CD\u65B0\u641C\u7D22~"})]}):(0,r.jsx)("div",{dangerouslySetInnerHTML:{__html:I18N.imockSharing.member_search_not_in_the_team}})})})]}),(0,r.jsx)(Vs,{})]}))}const mr=(0,s.memo)(hr),Go=()=>!!Number(sessionStorage.getItem("inClowdz"));function gr(e){let i="file_editarea-proto-v8-add",l="\u7F16\u8F91\u533A_V8-\u539F\u578B-\u6210\u5458\u7BA1\u7406-\u6DFB\u52A0";return i=e?"file_editarea-proto-v8-input-add":"file_editarea-proto-v8-add-direct",l=e?"\u7F16\u8F91\u533A_V8-\u539F\u578B-\u6210\u5458\u7BA1\u7406-\u8F93\u5165\u6846-\u6DFB\u52A0":"\u7F16\u8F91\u533A_V8-\u539F\u578B-\u6210\u5458\u7BA1\u7406-\u6DFB\u52A0\u534F\u4F5C\u8005-\u6DFB\u52A0",{trackSourceId:i,trackSource:l}}function fr(e,i){i===void 0&&(i=!1);let l="file_editarea-proto-v8-invite",c="\u7F16\u8F91\u533A_V8-\u539F\u578B-\u6210\u5458\u7BA1\u7406-\u9080\u8BF7\u6210\u5458";return i?(l="file_editarea-proto-v8-input-inviteTA",c="\u7F16\u8F91\u533A_V8-\u539F\u578B-\u6210\u5458\u7BA1\u7406-\u8F93\u5165\u6846-\u9080\u8BF7TA"):(l=e?"file_editarea-proto-v8-input-invite":"file_editarea-proto-v8-add-invite",c=e?"\u7F16\u8F91\u533A_V8-\u539F\u578B-\u6210\u5458\u7BA1\u7406-\u8F93\u5165\u6846-\u9080\u8BF7\u6210\u5458":"\u7F16\u8F91\u533A_V8-\u539F\u578B-\u6210\u5458\u7BA1\u7406-\u6DFB\u52A0\u534F\u4F5C\u8005-\u9080\u8BF7\u6210\u5458"),{trackSourceId:l,trackSource:c}}function Yo(e){if(!e)return"";let i="";return e==="org_owner"?i="\u4F01\u4E1A\u6240\u6709\u8005":e==="org_manager"?i="\u8D85\u7EA7\u7BA1\u7406\u5458":e==="org_admin"||e!=null&&e.includes("manager")?i="\u7BA1\u7406\u5458":e!=null&&e.includes("member")?i="\u534F\u4F5C\u6210\u5458":e!=null&&e.includes("viewer")&&(i="\u5BA1\u9605\u6210\u5458"),i}const $o=(e,i,l)=>{try{const{source_id:c,source:w,step:_,option:x=null}=l;if(!i||!e||ENV.IS_ON_PREMISES||ENV.IS_MO)return;if((!x||(x==null?void 0:x.results)!==!1)&&c)try{(0,us.Ds)("/api/dashboard/v5/org/invitation_records",{invitation_record:{user_id:e,org_cid:i,source:c,step:_}})}catch(j){console.log(j.message)}if(_===0)(0,G.kH)("invite_members_entrance",{source:w});else if(_===2&&x){const j=Yo(x==null?void 0:x.invitor_role),E=Yo(x==null?void 0:x.invitee_role);(0,G.kH)("invite_members_via_add",{source:w,join_space_num:1,has_department:!1,invitor_role:j,invitee_role:E,results:(x==null?void 0:x.results)||!0,error_type:(x==null?void 0:x.error_type)||""})}}catch(c){console.log(c.message)}},Zs=function(e,i,l,c,w){w===void 0&&(w=null);const{trackSourceId:_,trackSource:x}=gr(l);$o(e,i,{source_id:_,source:x,step:c,option:w})},yr=function(e,i,l,c){c===void 0&&(c=!1);const{trackSourceId:w,trackSource:_}=fr(l,c),x={trackSourceId:w,trackSource:_},j="/workspace/"+i+"/admin/member?openInviteByLinkModal=true&invite_track="+(0,It._)(x);if($o(e,i,{source_id:w,source:_,step:0}),Go()){location.pathname=j;return}(0,dt.JW)(j)},xr=(e,i,l)=>{const[c]=(0,s.useState)(l),w=(0,s.useRef)(0);return(0,s.useEffect)(()=>{c&&w.current>=1||w.current>=2||(Zs(e,i,l,0),w.current+=1)},[!!l]),c||l},br=A.Ay.div.withConfig({displayName:"styles__StyledInviteMemberOverlay",componentId:"sc-six6tj-0"})(["z-index:3;height:100%;width:100%;display:flex;flex-direction:column;align-items:stretch;.overlay-content{flex:1;padding:0 4px;overflow:auto;position:relative;height:calc(100% - ","px);overflow-x:hidden;&::-webkit-scrollbar{display:block;width:4px;height:4px;}.member-list.use-virtualized-list{height:calc(100% - 10px);width:410px;.members{height:100%;.virtualized-list{&::-webkit-scrollbar{display:block;width:4px;height:4px;}}}}}.overlay-content.no-members{.member-list{height:90%;.invite{height:90%;.enterTip{height:100%;display:flex;align-items:center;justify-content:center;&:lang(en){span{display:flex;justify-content:center;div{width:80%;text-align:center;line-height:20px;}}}}}}}.collaboration-remind{position:absolute;bottom:57px;left:0;width:100%;height:29px;color:#FFFFFF;background:#298DF8;padding:0 23px;font-size:12px;line-height:17px;display:flex;justify-content:space-between;align-items:center;.collaboration-remind-close{width:16px;height:16px;cursor:pointer;path{fill:#FFFFFF;}}}.overlay-footer{display:flex;align-items:center;justify-content:space-between;height:","px;padding:0 24px;border-top:1px solid ",";.seats{color:",";font-size:12px;}}"],fe.gE,fe.gE,e=>e.theme.color_bg_border_02,e=>e.theme.color_text_L1),vr=e=>{const{theme:i,keyword:l,source:c,caption:w,permissionScope:_,assignedMembers:x,unassignedMembers:j,outerMember:E,onPermissionChange:W,hostType:K,handleClose:$}=e,O=(0,y.d4)(Ie.wA),le=(0,y.d4)(Ie.cb),oe=(0,y.d4)(Ie.WR),{settings:P,cid:re}=O,{seatsTaken:ce,totalSeats:ge}=(0,pr.TF)(O)||{},he=xr(oe,re,l);let ye=!1;(P.invite_permission&&P.invite_permission[0]==="all"||le.isManager)&&(ye=!0);const H=()=>{const Ke={mode:"org",orgCid:O.cid,payEntrance:"\u7F16\u8F91\u533A-v8_\u7248\u672C\u7BA1\u7406_\u4E2A\u4EBA\u5347\u4F01\u4E1A",checkoutPlace:"workspace-v8_org_mem_limit",checkoutArea:"proto"};if(K==="proto")MB.global.popupHelper.chargeAsync(Ke),$&&$();else{const We="/workspace/"+O.cid+"/admin/order?payment_param="+(0,It._)(Ke);if(Go()){location.pathname=We;return}(0,dt.JW)(We)}},xe=(0,s.useMemo)(()=>j.filter(Ke=>Ke.name&&Ke.name.includes(l)||Ke.mobile&&Ke.mobile.includes(l)||Ke.email&&Ke.email.includes(l)),[l,j]),_e=()=>{ye&&yr(oe,re,he,!0)},be=(Ke,We)=>{W(Ke,We),Zs(oe,re,he,1),E&&Zs(oe,re,he,2,{invitor_role:le==null?void 0:le.roleName,invitee_role:We}),Zs(oe,re,he,3)},Oe=!xe||xe.length<1,Ae=E?[E]:[];return(0,r.jsxs)(br,{className:"overlay-adding-member sharing",children:[(0,r.jsxs)("div",{className:te()("overlay-content",!E&&Oe&&"no-members"),children:[!Oe&&(0,r.jsx)(Fo,{theme:i,caption:l?null:I18N.imockSharing.unjoined,expandable:!1,className:te()(l&&"invite"),permissionScope:_,currentOrg:O,memberList:xe,isResetPermission:!0,onPermissionChange:be,isUseVirtualizedRender:!0},"filtered-unassigned-members"),Oe&&(0,r.jsx)(mr,{theme:i,caption:w,outerMembers:Ae,canInvite:ye,isSharing:!0,handleClickInviteMember:_e})]}),(0,r.jsxs)("footer",{className:"overlay-footer",children:[(0,r.jsxs)("span",{className:"seats",children:["\u5DF2\u5360\u7528\u5E2D\u4F4D/\u4F01\u4E1A\u603B\u5E2D\u4F4D\u6570\uFF1A",ce,"/",ge]}),!n.g.ENV.IS_ON_PREMISES&&(0,r.jsx)(un.Oc,{type:"primary",size:"tiny",corner:"soft",onClick:H,children:I18N.imockSharing.add_team_seat})]})]})},_r=(0,s.memo)(vr),wr=A.Ay.div.withConfig({displayName:"styles__StyledProjectCollaborators",componentId:"sc-th5siy-0"})(["position:relative;display:flex;flex-direction:column;width:500px;height:100%;border-radius:8px;&.sharing{width:100%;&.dark{background:#252626;&.isInviteOverlayOpen{.overlay-adding-member{background:#252626;.overlay-header{.btn-back > svg > path{stroke:rgba(255,255,255,0.9);}.caption{color:rgba(255,255,255,0.9);}}.overlay-content{.member-list > .members > .item{.title{.name{color:rgba(255,255,255,0.9);}}.account{color:rgba(255,255,255,0.9);}label{button > span{color:rgba(255,255,255,0.9);}.caret svg{border-color:transparent transparent rgba(255,255,255,0.9) rgba(255,255,255,0.9);}}.read-only-option > span > span{color:rgba(255,255,255,0.9);}}}}}.nav-header > .title-left{label > button > svg > path{fill:#B8BCBF;}}.modal-content{.collaborators{.member-list > .members > .item{.title{.name{color:rgba(255,255,255,0.9);}}.account{color:rgba(255,255,255,0.9);}label{button > span{color:rgba(255,255,255,0.9);}.caret svg{border-color:transparent transparent rgba(255,255,255,0.9) rgba(255,255,255,0.9);}}.read-only-option > span > span{color:rgba(255,255,255,0.9);}}.inherited-members{.caption > span{color:",";&:last-child{color:#1684FC;}}.members > .item{.title{.name{color:rgba(255,255,255,0.9);}}.account{color:rgba(255,255,255,0.9);}label{button > span{color:rgba(255,255,255,0.9);}.caret svg{border-color:transparent transparent rgba(255,255,255,0.9) rgba(255,255,255,0.9);}}.read-only-option > span > span{color:rgba(255,255,255,0.9);}}}}}}&.isInviteOverlayOpen{.overlay-adding-member{.overlay-header{height:50px;.btn-back{left:20px;}.caption{font-size:14px;font-weight:500;color:",";left:82px;&:lang(en){left:100px;}}}}}& > .blank{height:86px;&.noSearch{height:18px;}}.modal-content{.blank{height:55px;}.collaborators{overflow-y:overlay;.member-list{.caption{padding:10px 20px;& > span{font-weight:500;font-size:12px;}.btn-toggle-expand{color:",";&:hover{color:",";}}.btn-add-collaborator{right:20px;}}.members{margin-top:0;.item{padding:7px 20px;height:48px;.title{flex:none;width:150px;.avatar{width:28px;height:28px;}.name{width:105px;font-weight:400;font-size:14px;line-height:initial;color:#333;}}.account{overflow:hidden;white-space:nowrap;text-overflow:ellipsis;}}}}}}}.nav-header{display:flex;padding-left:10px;font-weight:500;font-size:16px;color:",";height:","px;align-items:center;border-bottom:1px solid ",";justify-content:space-between;.title-left{display:flex;align-items:center;.title-left-back{cursor:pointer;display:flex;align-items:center;}.member-manager{cursor:default;margin-left:10px;}svg{margin-top:2px;}.nav-title{color:"," !important;font-size:14px;margin-top:1px;}}.title-close{margin-right:20px;cursor:pointer;.svg-icon{color:",";&:hover{color:",";}&:active{color:",";}}}}.modal-content{display:flex;flex:1;flex-direction:column;align-items:stretch;height:calc(100% - ","px);padding-top:10px;&.modal-content-show-search{height:calc(100% - 116px);}&.in-invite-overlay{padding-top:20px;}.collaborators{padding:0 4px 20px 4px;height:100%;overflow:hidden auto;&::-webkit-scrollbar{display:block;width:4px;height:4px;}}}.search{display:flex;align-items:center;position:relative;margin:0px 20px;padding-top:20px;}"],e=>e.theme.color_text_L1,e=>e.theme.color_text_L1,e=>e.theme.color_text_link_normal,e=>e.theme.color_text_link_hover,e=>e.theme.color_text_L1,fe.gE,e=>e.theme.color_bg_border_02,e=>e.theme.color_text_L1,e=>e.theme.color_text_L2,e=>e.theme.color_text_L1,e=>e.theme.color_text_L1,fe.gE),Sr=e=>{const{theme:i,from:l,caption:c,targetCid:w,permissionScope:_,captionTipType:x,isFolder:j=!1,isAllowSetCollaborators:E,isShowInheritedCollaborators:W=!1,handleBackSharingHandel:K,onChangeMembersAccess:$,handleClose:O,hostType:le,isOnlyMemberManager:oe=!1,currentOrg:P}=e,[re,ce]=(0,s.useState)(""),[ge,he]=(0,s.useState)(null),[ye,H]=(0,s.useState)(!1),{currentMembers:xe,inheritedMembers:_e,joinedMembers:be,unjoinedMembers:Oe,assignedMembers:Ae,unassignedMembers:Ke,userCurrentScopePermisson:We,isOnlyOneManager:Qe}=bt(_,w),ot=xt(_,w,l),at=async(vt,on)=>{await ot(vt,on),$&&$(vt,on)};let lt=xe,Ct=Ae,Et=Ke;const At=We.isMember,Pt=E&&At,Ht=!ye&&At;E&&!W&&(lt=be,Ct=be,Et=Oe);const gt=(0,s.useCallback)(()=>{H(!1),ce(""),he(null)},[]),kt=(0,s.useCallback)(vt=>{ce(vt),he(null),vt&&H(!0)},[]),Ot=(0,s.useCallback)(async vt=>{if(!n.g.ENV.IS_ON_PREMISES&&(ce(vt),vt)){const on=Et.find(Yt=>Yt.email===vt.trim()||Yt.mobile===vt.trim()),Jn=Ct.find(Yt=>Yt.email===vt.trim()||Yt.mobile===vt.trim());if(on||Jn)return;const Xn=Yn.test(vt.trim()),vn=On.test(vt.trim());let rn=null;if(Xn?rn=await ps(vt.trim()):vn&&(rn=await ps(null,vt.trim())),rn){let Yt=null;rn.user?(Yt=rn.user,Yt.name=I18N.imockSharing.to_be_invited,Yt.cid="outer"):Yt={avatar:"/images/avatar.png",cid:vt,email:vt,isNotRegister:!0,name:I18N.imockSharing.to_be_invited},he(Yt)}}},[]),Jt=(0,s.useCallback)(()=>{if(!(oe&&!ye)){if(ce(""),he(null),ye){H(!1);return}K()}},[ye,H,K]),ft=(0,s.useCallback)(()=>{H(!0)},[H]);return(0,r.jsxs)(wr,{className:te()("ProjectCollaborators sharing",""+i,{isInviteOverlayOpen:!0}),children:[(0,r.jsxs)("div",{className:"nav-header",children:[(0,r.jsxs)("div",{className:"title-left",children:[(0,r.jsxs)("div",{className:te()("title-left-back",{"member-manager":oe&&!ye}),onClick:Jt,children:[oe?ye&&(0,r.jsx)(Re.C,{name:"sharing/nav_back",size:32}):(0,r.jsx)(Re.C,{name:"sharing/nav_back",size:32}),(0,r.jsx)("div",{className:"nav-title",children:ye?I18N.imockSharing.add_collaborator:I18N.imockSharing.team_collaborator})]}),!ye&&(0,r.jsx)(Mo,{tipType:x,position:"left",isOnlyMemberManager:oe})]}),oe&&(0,r.jsx)("div",{className:"title-close",onClick:O,children:(0,r.jsx)(Re.C,{size:24,name:"sharing/close"})})]}),Pt&&(0,r.jsx)("div",{className:te()("search"),children:(0,r.jsx)(ur,{value:re,onChange:kt,onKeyPress:Ot})}),(0,r.jsx)("div",{className:te()("modal-content",Pt&&"modal-content-show-search"),children:ye?(0,r.jsx)(_r,{theme:i,permissionScope:_,currentOrg:P,unassignedMembers:Et,assignedMembers:Ct,outerMember:ge,keyword:re,caption:c,onClose:gt,onPermissionChange:at,handleClose:O,hostType:le}):(0,r.jsxs)("div",{className:te()("collaborators",ye&&"in-invite-overlay"),children:[E&&(0,r.jsx)(Fo,{theme:i,caption:I18N.imockSharing.project_collaborators,permissionScope:_,currentOrg:P,memberList:lt,isOnlyOneManager:Qe,isMemberList:!1,expandable:!0,onlyTitle:!0,onPermissionChange:at,onClickInviteButton:ft,isShowInviteButton:Ht},"current-collaborators"),W&&(0,r.jsx)(Fo,{theme:i,caption:I18N.imockSharing.parent_folder_collaborator,expandable:!0,defaultExpanded:j,readOnly:!0,permissionScope:_,currentOrg:P,memberList:_e,onPermissionChange:at,className:"inherited-members",onClickInviteButton:ft,isShowInviteButton:Ht},"inherited-collaborators")]})}),(0,r.jsx)(Io,{})]})},Cr=(0,s.memo)(Sr);function Mr(e){const{theme:i,targetCid:l,isSharing:c,handleBackSharingHandel:w,onChangeMembersAccess:_,handleClose:x,hostType:j,isOnlyMemberManager:E,currentOrg:W}=e,$=(0,y.d4)(Ie._B).get(l),O=nt($==null?void 0:$.team_cid);return!$||O<0?null:(0,r.jsx)(Cr,{theme:i,targetCid:l,caption:$.name,isAllowSetCollaborators:!0,isShowInheritedCollaborators:O>=1,captionTipType:je.p.Project,currentOrg:W,permissionScope:je.W.Project,isSharing:c,handleBackSharingHandel:w,onChangeMembersAccess:_,handleClose:x,hostType:j,isOnlyMemberManager:E})}const Nr=(0,s.memo)(Mr);var Ir=n(12211);const jr=e=>{const{user:i,initData:l,currentProject:c,members:w,dispatch:_}=e,x=c==null?void 0:c.cid;return(0,s.useEffect)(()=>{(async E=>{_({type:"entry:projectAccess:initProjectData",payload:{initData:l,members:w}})})(x)},[_,l,w,x,i]),i!=null&&i.id?(0,r.jsx)(Nr,{targetCid:x,isSharing:!0,...e}):null},Er=(0,Ir.Mz)([],()=>({})),kr=(0,y.Ng)(e=>Er(e))(jr);var Tr=n(65825),Qo=n(5743),Lr=n(33236);function Ar(e){const{getIframeContentHeight:i,handleChangeMembersAccess:l,handleClose:c}=e,w=(0,y.wA)(),_=(0,y.d4)(u.query.getProject),x=(0,y.d4)(u.query.getMembers),j=(0,y.d4)(u.query.getTheme),E=(0,y.d4)(u.query.getTopPageIndex),W=(0,y.d4)(u.query.getHostType),K=(0,y.d4)(u.query.getTabIndex),$=(0,y.d4)(u.query.getMainPage),O=(0,y.d4)(u.query.getLoading),le=(0,y.d4)(u.query.getInitData),oe=(0,y.d4)(u.query.getOrg),P=(0,y.d4)(u.query.getUser),re=(0,y.d4)(u.query.getIsEditMode),ce=(0,y.d4)(u.query.getIsOnlyMemberManager),[ge,he]=(0,s.useState)(!1);(0,s.useEffect)(()=>{const be=(0,sn.fV)();if(be){const{mdWMMktList:Oe,mtWMMktList:Ae,noWMMktList:Ke}=be,We=[...Oe,...Ae,...Ke];We.length&&(0,bs.q)(We).then(Qe=>{if(Qe.mdWMMktList.length>0||Qe.mtWMMktList.length>0){if(!(0,Un._5)())return;he(!0)}})}},[]);const[ye,H]=(0,s.useState)(282);(0,s.useEffect)(()=>{let be=619;$!=="access"&&(K===0&&E==="edit"?be=212:(E==="embed"||E==="qrCode"||K===0&&E==="setting")&&(be=380)),ge&&(be+=37),H(be),W!=="proto"&&i(be)},[W,K,E,$,i,re,ge]);const xe=(0,s.useCallback)(()=>{w({type:u.entryKey["sharing:init"],payload:{mainPage:"share"}})},[w]);(0,s.useEffect)(()=>{w({type:u.entryKey["sharing:projectAccess:init"]})},[$,w]);const _e=(0,s.useCallback)(async(be,Oe)=>{l&&l(be,Oe)},[l]);return O?(0,r.jsx)(Qo.A,{className:te()("sharingBoxV2",""+j,"loading"),children:(0,r.jsx)(Tr.A,{})}):(0,r.jsxs)(Qo.A,{className:te()("sharingBoxV2",""+j,W==="iframe"&&"in-iframe"),style:{height:ye+"px"},id:"v8-share-page",children:[$==="share"?(0,r.jsx)(bn,{}):(0,r.jsx)(kr,{theme:j,user:P,currentProject:_,members:x,initData:le,currentOrg:oe,handleBackSharingHandel:xe,onChangeMembersAccess:_e,hostType:W,handleClose:c,isOnlyMemberManager:ce}),(0,r.jsx)(Lr.r,{})]})}var Or=n(34860);const Pr=e=>{let{theme:i,org:l=null,user:c,project:w,flatKey:_,members:x=[],hostType:j="proto",screenMetaList:E,hostSharingData:W,projShareToEdit:K="",handleClose:$,isOnlyMemberManager:O=!1,hostCurrentScreen:le}=e;const oe=X();let P=!0;j!=="iframe"&&(P=(0,Or.OB)());const re=K?1:0;oe.dispatch({type:u.entryKey["sharing:init"],payload:{project:w,theme:i,user:c,org:l,flatKey:_,hostType:j,members:x,screenMetaList:E,hostSharingData:W,isEditMode:P,tabIndex:re,projShareToEdit:K,hostCurrentScreen:le}});const ce=(0,s.useCallback)(he=>{window.top.postMessage(JSON.stringify({sharingV2Message:"sharing:height",payload:{height:he}}),"*")},[]),ge=(0,s.useCallback)((he,ye)=>{window.top.postMessage(JSON.stringify({sharingV2Message:"sharing:changeMembersAccess",payload:{member:he,value:ye}}),"*")},[]);return j==="iframe"&&O&&(oe.dispatch({type:u.entryKey["sharing:init"],payload:{mainPage:"access",isOnlyMemberManager:!0}}),ce(585)),(0,s.useEffect)(()=>{if(j==="iframe"&&!O&&ce(212),!w)return;const{cid:he}=w;(async()=>{if(!w)return;const{result:{result:H},statusOk:xe}=await(0,B.QC)(he);xe&&oe.dispatch({type:u.entryKey["sharing:init"],payload:{canEditByUser:H}})})()},[j,ce,w,oe]),(0,r.jsx)(y.Kq,{store:oe,children:(0,r.jsx)(A.NP,{theme:ee.A[i],children:(0,r.jsx)(se.$,{children:(0,r.jsx)(Ar,{getIframeContentHeight:ce,handleChangeMembersAccess:ge,handleClose:$})})})})}},76241:(Ce,ae,n)=>{"use strict";n.d(ae,{A:()=>M});var s=n(95549);function p(d,D){var Q=Object.keys(d);if(Object.getOwnPropertySymbols){var z=Object.getOwnPropertySymbols(d);D&&(z=z.filter(function(R){return Object.getOwnPropertyDescriptor(d,R).enumerable})),Q.push.apply(Q,z)}return Q}function M(d){for(var D=1;D<arguments.length;D++){var Q=arguments[D]!=null?arguments[D]:{};D%2?p(Object(Q),!0).forEach(function(z){(0,s.A)(d,z,Q[z])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(Q)):p(Object(Q)).forEach(function(z){Object.defineProperty(d,z,Object.getOwnPropertyDescriptor(Q,z))})}return d}},76844:(Ce,ae,n)=>{"use strict";n.d(ae,{CF:()=>I,CZ:()=>d,Cj:()=>N,Rc:()=>G,Sc:()=>z,oE:()=>F,ox:()=>Q,pf:()=>V,sq:()=>ie});var s=n(19481),p=n(12603);const M=function(v,S,g){return g===void 0&&(g=!1),{level:v,roleName:S,isInherited:g,isOwner:v>=s.zB.OWNER,isSuperManager:v>=s.zB.SUPERMANAGER,isManager:v>=s.zB.MANAGER,isMember:v>=s.zB.MEMBER,isViewer:v>=s.zB.VIEWER,isLimiter:v===s.zB.LIMITER,isBanned:v===s.zB.BANNED,isUnknown:v===s.zB.UNKNOWN}},d=M(s.zB.UNKNOWN),D=M(s.zB.UNJOINED),Q=(v,S)=>{if(!S||S.length<=0)return null;const g=S.find(f=>{let{user_id:h,unsign_remark:b}=f;return Number(h)===Number(v)||b===v});return g||null},z=v=>v?M(s.p_[v.role],v.role):M(s.zB.UNKNOWN),R=(v,S)=>{if(!v)return[];let g=[],f=v,h=S.get(f);for(;h&&!h.root_project;)g=g.concat(h.permissions),f=h.parent_cid,h=S.get(f);return g},q=(v,S,g)=>{let f=R(v,S);return f=f.concat(g).reverse(),f=f.filter(h=>h.role!=="space_limiter"),f.map(h=>{const b=folderInheritePermissionRoleFixMap[h.role];return b?{...h,role:b,inherited:!0}:{...h,inherited:!0}})},N=(v,S,g)=>{let f=R(v,S);return f=f.concat(g).reverse(),f=f.filter(h=>h.role!=="space_limiter"),f.map(h=>{const b=s.OO[h.role];return b?{...h,role:b,inherited:!0}:{...h,inherited:!0}})},F=v=>{const{orgPermissions:S,userId:g}=v;if(!g||!S||S.length<1)return M(s.zB.UNKNOWN);const f=Q(g,S);return f?M(s.p_[f.role],f.role):M(s.zB.UNKNOWN)},ie=v=>{const{spacePermissions:S,userId:g}=v;if(!g||!S||S.length<1)return M(s.zB.UNKNOWN);const f=Q(g,S);return f?M(s.FU[f.role],f.role):M(s.zB.UNKNOWN)},B=v=>{const{userId:S,orgPermissions:g,spacePermissions:f,currentFolder:h,folderListMap:b}=v;if(!S||!h)return M(permissionLevels.UNKNOWN);const{org_cid:C,space_cid:L}=h;if(!C&&!L)return M(permissionLevels.OWNER,"team_owner");if(!f||f.length<1)return M(permissionLevels.UNKNOWN);const{isRoot:Z,root_project:u}=h;if(Z||u){const A=ie({spacePermissions:f,userId:S});return A.roleName==="space_limiter"?{...F({orgPermissions:g,userId:S}),isLimiter:!0}:A}const k=h.permissions||[],T=q(h.parent_cid,b,f),X=Object.values(Object.fromEntries([...T,...k].map(A=>[A.user_id,A]))),y=Q(S,X);return y?M(folderPermissionLevelsMap[y.role],y.role,y.inherited):M(permissionLevels.UNKNOWN)},pe=v=>{const{userId:S,spacePermissions:g,currentProject:f,folderListMap:h}=v;if(!S||!f)return M(permissionLevels.UNKNOWN);const{space_cid:b}=f;if(!b)return M(permissionLevels.OWNER,"project_owner");if(!g||g.length<1)return M(permissionLevels.UNKNOWN);const C=f.permissions||[],L=N(f.team_cid,h,g),Z=Object.values(Object.fromEntries([...L,...C].map(k=>[k.user_id,k]))),u=Q(S,Z);return u?M(projectPermissionLevelsMap[u.role],u.role,u.inherited):M(permissionLevels.UNKNOWN)},V=function(v,S,g){return g===void 0&&(g=!1),S?typeof S[v]<"u"?M(S[v],v,g):M(s.zB.UNJOINED):M(s.zB.UNKNOWN)},G=v=>!v||v.length<1?new Map:v.reduce((S,g)=>S.set(Number(g.user_id),g),new Map),I=v=>{const{permissionsMap:S,userId:g,permissionScope:f}=v;if(!g||!S||S.size<1)return M(s.zB.UNKNOWN);const{role:h,inherited:b}=S.get(Number(g))||{};if(!h)return M(s.zB.UNKNOWN);let C=null;switch(f){case p.W.Org:C=s.p_;break;case p.W.OrgSpace:C=s.FU;break;case p.W.Folder:C=s.lY;break;case p.W.Project:C=s.au;break;default:break}return V(h,C,b)}},79186:(Ce,ae,n)=>{"use strict";n.d(ae,{eB:()=>y,Ay:()=>X});var s=n(38502),p=n(69623),M=n(25582),d=n.n(M),D=n(27992),Q=n(28322),z=n.n(Q),R=n(89775),q=n.n(R),N=n(63986),F=n.n(N),ie=n(37862),B=n.n(ie),pe=n(51582),V=n(68677),G=n(69368),I=n(35603),v=n(67787);const S=v.Ay.label.withConfig({displayName:"styles__StyledSelectLabel",componentId:"sc-grbgid-0"})(["display:inline-flex;justify-content:space-between;align-items:center;max-width:100%;min-width:3em;height:34px;color:#5b6b73;cursor:pointer;transition:all 0.2s ease-out;button{flex:1;width:calc(100% - 2em);height:100%;text-align:start;cursor:inherit;}.caret{margin:0 0.75em 0 1em;line-height:0;color:#8d9ea7;svg{display:block;width:6px;height:4px;fill:currentColor;fill-rule:evenodd;transform:rotate(180deg);transition:all 0.3s ease-out;}}&:not(.unstyled){padding-left:.5em;background-color:#f6f7f8;border:1px solid #f2f2f3;border-radius:2px;}&.small{height:22px;font-size:12px;.caret{margin-right:0.5em;}}&:not(.is-disabled):not(.readonly):not(.unstyled):hover,&:not(.unstyled).is-open{border-color:#298df8;}&.is-open{&:not(.unstyled){background-color:#fff;box-shadow:0 0 6px 0 rgba(41,141,248,.5);}.caret svg{transform:rotate(0deg);}}&.is-disabled{cursor:not-allowed;opacity:0.6;}&.readonly{cursor:default}&.CoreSelect:not(.unstyled){background-color:#fff;border:1px solid #c8cdd1;}"]),g=v.Ay.div.withConfig({displayName:"styles__StyledSelectMenuBase",componentId:"sc-grbgid-1"})(["position:fixed;pointer-events:none;z-index:1100;"]),f=v.Ay.ul.withConfig({displayName:"styles__StyledSelectMenu",componentId:"sc-grbgid-2"})(["position:absolute;margin:2px 0;padding:0;display:block;max-width:20em;min-width:100%;min-height:30px;max-height:300px;overflow-x:hidden;overflow-y:auto;pointer-events:none;font-size:12px;list-style:none;background-color:#fff;border-radius:3px;box-shadow:0 2px 10px 0 rgba(39,54,78,0.08),4px 12px 40px 0 rgba(39,54,78,0.1);color:#5b6b73;transition:0.2s ease-out;transition-property:transform,opacity;transform-origin:50% 0;&::-webkit-scrollbar{display:block;width:4px;height:4px;}&::-webkit-scrollbar-thumb{background-color:#ccc;border-radius:2px;}&::-webkit-scrollbar-track{background-color:rgba(255,255,255,0.5);}&.is-empty{width:-moz-fit-content;width:-webkit-fit-content;width:fit-content;}&:not(.is-open){opacity:0;transform:scale(0.8);}&.x-center{left:50%;transform:translateX(-50%);&:not(.is-open){transform:scale(0.8) translateX(-50%);}}&.x-right{right:0;}&.is-downward{top:100%;bottom:initial;}&.is-upward{transform-origin:50% 100%;top:initial;bottom:100%;}&.is-open{opacity:1;pointer-events:initial;}&.cant-select .SelectOption{cursor:default;}.SelectGroup{> .title{padding:0 0.75em;width:100%;height:30px;line-height:30px;font-weight:bold;}> ul{margin:0;padding:0;}}.SelectOption{display:flex;align-items:center;height:30px;line-height:30px;cursor:pointer;> .Ellipsis{padding:0 0.75em;}> .svg-icon{margin-left:auto;margin-right:0.75em;&.check path{fill:#5b6b73;}}&.is-disabled{cursor:not-allowed;opacity:0.5;}&.is-active{color:#298df8;}&:not(.empty-msg):not(.is-disabled):hover,&.is-active{background-color:#f6f7f8;}&.empty-msg{padding:0 0.5em;color:#8d9ea7;cursor:not-allowed;}}&.CheckSelectMenu{&:not(.is-empty){padding:6px 0;}.SelectOption{height:32px;.Ellipsis{padding:0 16px;}.Ellipsis + .icon{margin-right:10px;}&:hover,&.is-active:hover{color:#298df8;}&.is-active{background:none;color:inherit;}}}&.CoreSelectMenu{margin:4px 0;&:not(.is-empty){padding:8px;min-height:48px;max-height:336px;}.SelectGroup > .title,.SelectOption{height:32px;line-height:32px;border-radius:2px;}}"]);var h=n(72214);function b(ee,ne,te){return(ne=C(ne))in ee?Object.defineProperty(ee,ne,{value:te,enumerable:!0,configurable:!0,writable:!0}):ee[ne]=te,ee}function C(ee){var ne=L(ee,"string");return typeof ne=="symbol"?ne:ne+""}function L(ee,ne){if(typeof ee!="object"||!ee)return ee;var te=ee[Symbol.toPrimitive];if(te!==void 0){var fe=te.call(ee,ne||"default");if(typeof fe!="object")return fe;throw new TypeError("@@toPrimitive must return a primitive value.")}return(ne==="string"?String:Number)(ee)}const Z="IBOT_SELECT_MENU_ROOT",u={"zh-CN":{select_placeholder:"\u9009\u62E9\u4E00\u4E2A...",select_empty_msg:"\u6682\u65E0\u5185\u5BB9..."},en:{select_placeholder:"Choose one\u2026",select_empty_msg:"Nothing to display\u2026"}},k=document.getElementById(Z)||Object.assign(document.createElement("div"),{id:Z}),T=document.body;T.contains(k)||T.appendChild(k);class X extends s.PureComponent{constructor(){super(...arguments),b(this,"state",{isOpen:!1,prevProps:this.props,value:this.props.value}),b(this,"set$select",ne=>this.setState({$select:ne})),b(this,"open",()=>this.setState({isOpen:!0})),b(this,"close",()=>this.setState({isOpen:!1})),b(this,"toggle",()=>this.setState({isOpen:!this.state.isOpen})),b(this,"onResizeWindow",()=>this.state.isOpen&&this.close()),b(this,"onChange",async ne=>{const{onChange:te,beforeOnChange:fe}=this.props,De=()=>{this.close(),te(ne)};if(!fe){this.setState({value:ne},De);return}if(await fe(ne)){this.setState({value:ne},De);return}De()}),b(this,"onSelect",async ne=>{let{currentTarget:te}=ne;const{value:fe}=this.props,{canSelect:De}=this;await this.onChange(De?te.dataset.value:fe)})}static getDerivedStateFromProps(ne,te){let{prevProps:fe,value:De}=te;return F()(fe,ne)?null:{prevProps:ne,value:ne.value}}componentDidMount(){window.addEventListener("resize",this.onResizeWindow)}componentWillUnmount(){window.removeEventListener("resize",this.onResizeWindow)}get isDisabled(){const{isDisabled:ne,disabled:te}=this.props;return ne||te}get readOnly(){return this.props.readOnly}get canSelect(){const{isDisabled:ne,readOnly:te}=this;return!ne&&!te}get displayText(){const{optionList:ne,placeholder:te,optionLabelProp:fe}=this.props,{value:De}=this.state,je=(ne.find(Re=>q()(Re)&&Re.slice(0).some(mt=>(0,G.o3)(mt,De)))||ne).find(Re=>!q()(Re)&&(0,G.o3)(Re,De));return je?(0,G.Oi)(je,fe):te||u[this.props.lang].select_placeholder}render(){const{size:ne,theme:te,unstyled:fe,className:De,menuX:Ye}=this.props,{isOpen:je,$select:Re,value:mt}=this.state,{isDisabled:Pe,readOnly:J,canSelect:Y}=this,me=(0,G.Hn)([te==="core"?"CoreSelect":"Select",ne,fe&&"unstyled",De,je&&"is-open",Pe&&"is-disabled",J&&"readonly"]);return(0,h.jsxs)(S,{className:me,role:"listbox",ref:this.set$select,children:[(0,h.jsx)("button",{type:"button",onClick:this.toggle,disabled:Pe,children:(0,h.jsx)(V.A,{children:this.displayText})}),typeof this.props.arrowSvg=="string"?(0,h.jsx)("span",{className:"caret",dangerouslySetInnerHTML:{__html:this.props.arrowSvg}}):(0,h.jsx)("span",{className:"caret",children:this.props.arrowSvg}),(0,h.jsx)(y,{isOpen:je,...this.props,value:mt,$select:Re,canSelect:Y,onChange:this.onSelect,onClose:this.close,menuX:Ye})]})}}b(X,"propTypes",{size:d().oneOf(["regular","small"]),theme:d().oneOf(["core","plain"]),menuTheme:d().oneOf(["core","plain","check"]),unstyled:d().bool,className:d().string,menuClassName:d().string,lang:d().string,placeholder:d().string,optionList:d().arrayOf(d().oneOfType([d().node,d().shape({label:d().node,value:d().any,isDisabled:d().bool}),d().arrayOf(d().oneOfType([d().node,d().shape({label:d().node,value:d().any,isDisabled:d().bool})]))])).isRequired,value:d().oneOfType([d().number,d().string]),isDisabled:d().bool,disabled:d().bool,readOnly:d().bool,onChange:d().func,menuX:d().oneOf(["left","center","right"]),optionLabelProp:d().string,arrowSvg:d().oneOfType([d().string,d().node])}),b(X,"defaultProps",{size:"regular",theme:"plain",menuTheme:"plain",className:"",menuClassName:"",lang:"zh-CN",optionList:[],isDisabled:!1,onChange:()=>null,menuX:"left",arrowSvg:G.t4.rH});class y extends s.PureComponent{constructor(){super(...arguments),b(this,"state",{isDownward:!0}),b(this,"portal",(0,G.ep)(k,"SelectMenuPortal")),b(this,"menuBaseRef",(0,s.createRef)()),b(this,"position",ne=>{const{$select:te,menuX:fe}=this.props,{menuBaseRef:{current:De}}=this;if(ne){const je=z()(ne,"target");if(je&&B()(je)&&je.matches(".SelectMenu"))return}const{isDownward:Ye}=(0,I.d)({$menuBase:De,$opener:te,menuX:fe,shouldSetMaxHeight:!0});this.setState({isDownward:Ye})}),b(this,"onChange",ne=>{const{onChange:te}=this.props,{isDownward:fe}=this.state,De=ne.currentTarget,Ye=De.closest(".SelectMenu, .CoreSelectMenu, .CheckSelectMenu");if(!De||!Ye)return this.onlose();const{top:je,bottom:Re}=De.getBoundingClientRect(),{top:mt,bottom:Pe}=Ye.getBoundingClientRect();return fe&&je>=mt||!fe&&Re<=Pe?De.classList.contains("title")?void 0:te(ne):this.onClose()}),b(this,"onClose",()=>{const{onClose:ne}=this.props;ne()}),b(this,"scrollIntoActive",()=>{const{menuBaseRef:{current:ne}}=this,te=(0,G.$)("li[role=option].is-active",ne);te&&te.scrollIntoView({block:"start"})}),b(this,"onClickOutside",ne=>{let{target:te}=ne;const{$select:fe}=this.props,De=!k.contains(te),Ye=te.closest("label"),je=Ye&&Ye.contains(fe);De&&!je&&this.onClose()})}componentDidMount(){const{menuBaseRef:{current:ne}}=this;(0,G.sA)((0,G.$)(".SelectMenu",ne))}componentDidUpdate(ne){let{isOpen:te}=ne;const{isOpen:fe}=this.props;!te&&fe&&(this.position(),this.scrollIntoActive())}componentWillUnmount(){this.portal&&this.portal.remove()}render(){return(0,p.createPortal)(this.menu,this.portal)}get menu(){const{isOpen:ne,isDisabled:te,menuTheme:fe,menuClassName:De,menuX:Ye,optionList:je,lang:Re,emptyMsg:mt,value:Pe,canSelect:J}=this.props,{isDownward:Y}=this.state,me=je.length===0,Ne=(0,G.Hn)([fe==="core"?"CoreSelectMenu":fe==="check"?"CheckSelectMenu":"SelectMenu",De,"x-"+Ye,ne&&"is-open",Y?"is-downward":"is-upward",te&&"is-disabled",me&&"is-empty",J?"can-select":"cant-select"]);return(0,h.jsx)(g,{ref:this.menuBaseRef,className:"SelectMenuBase",children:(0,h.jsxs)(f,{className:Ne,onTransitionEnd:this.onTransitionEnd,children:[me?(0,h.jsx)("li",{className:"SelectOption empty-msg",children:mt||u[Re].select_empty_msg}):je.map((ke,Ge)=>q()(ke)?(0,h.jsx)(A,{menuTheme:fe,optionList:ke,value:Pe,onChange:this.onChange},Ge):(0,h.jsx)(se,{menuTheme:fe,isActive:(0,G.o3)(ke,Pe),option:ke,isDisabled:ke.isDisabled,onChange:this.onChange},Ge)),ne&&(0,h.jsx)(D.A,{target:document,onClick:(0,D.t)(this.onClickOutside,{capture:!0})}),ne&&(0,h.jsx)(D.A,{target:document,onScroll:(0,D.t)(this.position,{capture:!0})})]})})}}b(y,"propTypes",{...X.propTypes,isOpen:d().bool,canSelect:d().bool,onChange:d().func,onClose:d().func,$select:d().instanceOf(Element)}),b(y,"defaultProps",{isOpen:!1});function A(ee){let{value:ne,optionList:[te,...fe],menuTheme:De,onChange:Ye}=ee;return(0,h.jsxs)("li",{className:"SelectGroup",children:[(0,h.jsx)(V.A,{className:"title",onClick:Ye,children:te}),(0,h.jsx)("ul",{children:fe.map((je,Re)=>(0,h.jsx)(se,{menuTheme:De,option:je,isActive:(0,G.o3)(je,ne),isDisabled:je.isDisabled,onChange:Ye},Re))})]})}A.propTypes={optionList:d().array,onChange:d().func,menuTheme:d().string,value:d().string};function se(ee){let{option:ne,isActive:te,isDisabled:fe,menuTheme:De,onChange:Ye}=ee;const je=(0,G.Hn)(["SelectOption",te&&"is-active",fe&&"is-disabled"]),Re=(0,G.Oi)(ne),mt=(0,G.nE)(ne);return(0,h.jsxs)("li",{role:"option","data-value":mt,className:je,onClick:fe?void 0:Ye,children:[(0,h.jsx)(V.A,{children:Re}),De==="check"&&te&&(0,h.jsx)(pe.A,{name:"check"})]})}se.propTypes={option:d().oneOfType([d().node,d().object]),isActive:d().bool,isDisabled:d().bool,menuTheme:d().string,onChange:d().func}},79458:(Ce,ae,n)=>{"use strict";n.d(ae,{Os:()=>N,Tw:()=>F,ft:()=>ie});var s=n(38502),p=n(72214);const M="/mb-static/2308/loading.gif",d="/mb-static/2308/loading-mo.gif",D=(B,pe)=>pe?"."+B:B,Q=B=>(0,p.jsx)("img",{className:B.className,alt:"Loading...",src:D(B.isMockitt?d:M,B.isHtmlZip)}),z=B=>(0,p.jsx)("img",{className:B.className,alt:"Loading...",src:D(ENV.IS_WONDER_SHARE?d:M,B.isHtmlZip)}),R=B=>(0,p.jsx)("img",{className:B.className,alt:"Loading...",src:D(d,B.isHtmlZip)});var q=n(68818);const N=n.j!=15?(0,s.memo)(B=>(0,p.jsx)(Q,{...B,isHtmlZip:(0,q.FM)()})):null,F=n.j!=15?(0,s.memo)(B=>(0,p.jsx)(z,{...B,isHtmlZip:(0,q.FM)()})):null,ie=(0,s.memo)(B=>(0,p.jsx)(R,{...B,isHtmlZip:(0,q.FM)()}))},83414:(Ce,ae,n)=>{"use strict";n.d(ae,{gE:()=>p,nM:()=>s,nQ:()=>M});const s="local_sharing_copy_url_v8_1",p=50,M={public:"share_anyone_view",restricted:"org_members_only"}},83557:(Ce,ae,n)=>{"use strict";n.d(ae,{GT:()=>D,Nc:()=>M,lq:()=>d});var s=n(62732),p=n(55338);const M=async(Q,z,R)=>{const[q,N]=await(0,s.Vz)(p.r,Q),F="/flpak/w-paknewft?"+new URLSearchParams({upperType:"project-basic",type:"proto2",teamCid:z,treLen:String(N.byteLength),treRawLen:String(q)}),ie=await fetch(F,{method:"POST",body:N,headers:{"mb-client-opt":encodeURIComponent(JSON.stringify(R))}});if(!ie.ok)throw Object.assign(new Error("failed to create new flpak: "+F),{message:await ie.text(),status:ie.status});return ie.json()},d=async(Q,z,R)=>{const[q,N]=await(0,s.Vz)(p.r,Q),F="/flpak/w-pakfcgmkt?"+new URLSearchParams({upperType:"combo-group",upperAction:"create-reviewable-project",type:"proto2",teamCid:z,treLen:String(N.byteLength),treRawLen:String(q)}),ie=await fetch(F,{method:"POST",body:N,headers:{"mb-client-opt":encodeURIComponent(JSON.stringify(R))}});if(!ie.ok)throw Object.assign(new Error("failed to create new fcgmkt: "+F),{message:await ie.text(),status:ie.status});return ie.json()},D=async(Q,z,R)=>{const[q,N]=await(0,s.Vz)(p.r,Q),F="/flpak/w-paksclibft?"+new URLSearchParams({upperType:"project-basic",type:"proto2",teamCid:z,upperCid:R,treLen:String(N.byteLength),treRawLen:String(q)}),ie=await fetch(F,{method:"POST",body:N,headers:{"mb-client-opt":encodeURIComponent(JSON.stringify({}))}});if(!ie.ok)throw Object.assign(new Error("failed to create new sclib: "+F),{message:await ie.text(),status:ie.status});return ie.json()}},84934:(Ce,ae,n)=>{var s=n(24469),p=n(59696),M=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,d="\\u0300-\\u036f",D="\\ufe20-\\ufe2f",Q="\\u20d0-\\u20ff",z=d+D+Q,R="["+z+"]",q=RegExp(R,"g");function N(F){return F=p(F),F&&F.replace(M,s).replace(q,"")}Ce.exports=N},84957:(Ce,ae,n)=>{"use strict";n.d(ae,{_:()=>s});const s=M=>encodeURIComponent(JSON.stringify(M)),p=M=>JSON.parse(decodeURIComponent(M))},85378:(Ce,ae,n)=>{var s=n(45308),p=n(62783),M=n(59483);function d(D){return M(p(D,void 0,s),D+"")}Ce.exports=d},88856:(Ce,ae,n)=>{"use strict";n.d(ae,{eY:()=>h,At:()=>g,pU:()=>f,DV:()=>b,Ay:()=>S});var s=n(95549),p=n(38502);if(n.j!=15)var M=n(37342);var d=n(18381),D=n(67787);const Q=(0,D.DU)(["div.notice-tips-container{z-index:9999;.notice-tips{min-height:38px;p{color:",";}:not(.pure-svg-icon).svg-icon{fill:",";}&.success{.tip-svg{path:nth-child(1){fill:",";}}}&.warning{.tip-svg{path:nth-child(1){fill:",";}}}&.error{.tip-svg{circle{fill:",";}}.button-a{cursor:pointer;}.button-p{margin-left:0;}}&.super{background-color:",";p{margin:0 16px 0 4px;}.times-icon{path{fill:",";}}}}}"],C=>C.theme.color_text_btn,C=>C.theme.color_text_btn,C=>C.theme.color_success,C=>C.theme.color_warning,C=>C.theme.color_error,C=>C.theme.color_error,C=>C.theme.color_text_btn);var z=n(58315),R=n(51582),q=n(29523);const N=D.Ay.div.withConfig({displayName:"styles__StyledNoticeTips",componentId:"sc-1ehf3rt-0"})([".notice-tips{width:100%;height:100%;min-height:38px;padding:8px 16px;display:flex;align-items:center;font-size:14px;color:",";box-shadow:0 2px 8px 0 rgba(0,0,0,0.05),0 4px 12px 0 rgba(0,0,0,0.15);border-radius:6px;p{margin:0 0 0 4px;}&.info{background-color:",";p{margin:0 4px;}a{margin-left:12px;color:#80BCFF;&:hover{color:#A6D2FF;}}}&.success{background:",";box-shadow:0 3px 6px -4px rgba(0,0,0,0.12),0 6px 16px rgba(0,0,0,0.08),0 9px 28px 8px rgba(0,0,0,0.05);border-radius:6px;}&.warning{background-color:",";}&.error{background-color:",";}&.super{background-color:",";}&.loading{background-color:",";.tip-svg{animation:design-ani-spinning 1s infinite linear;fill:rgb(69,70,71);}}@keyframes design-ani-spinning{0%{transform:rotate(0deg);}100%{transform:rotate(359deg);}}.times-icon{width:20px;display:flex;flex-shrink:0;opacity:1;cursor:pointer;transition:opacity 0.15s ease-out;margin-left:16px;align-self:center;&:hover{opacity:1;}}.tip-svg{width:20px;height:20px;}}a{text-decoration:underline;color:",";&:hover{color:",";}}.fade{&-enter{transform:translateY(-50%);opacity:0;}&-enter-active{opacity:1;transform:translateY(0);transition:all 0.15s ease-out;}&-exit{opacity:1;}&-exit-active{opacity:0;transition:opacity 0.25s ease-in-out;}&-exit-done{opacity:0;}}"],q.f.color_bg_white.value_light,q.f.color_btn_secondary_active.value_dark,q.f.color_btn_secondary_active.value_dark,q.f.color_btn_secondary_active.value_dark,q.f.color_btn_secondary_active.value_dark,q.f.color_error.value_light,q.f.color_btn_secondary_active.value_dark,q.f.color_text_link_normal.value_dark,q.f.color_text_link_hover.value_dark);var F=n(72214);const ie={success:"design/toast/success",error:"design/toast/error",warning:"design/toast/warning",super:"design/toast/offline",loading:"design/toast/loading"};class B extends p.PureComponent{render(){const{isShow:L,type:Z,text:u,showClose:k,isReactDom:T,CustomChildComponent:X,svgName:y,onDisappear:A}=this.props;return(0,F.jsx)(N,{children:(0,F.jsx)(z.A,{in:L,timeout:2500,classNames:"fade",unmountOnExit:!0,children:(0,F.jsxs)("div",{className:"notice-tips "+Z,children:[y&&(0,F.jsx)(R.C,{name:y,className:"tip-svg",isColorPure:!0}),!y&&Z&&ie[Z]&&(0,F.jsx)(R.C,{name:ie[Z],className:"tip-svg",isColorPure:!0}),(0,F.jsxs)(p.Fragment,{children:[T?u:(0,F.jsxs)(F.Fragment,{children:[(0,F.jsx)("p",{dangerouslySetInnerHTML:{__html:u}}),(typeof X=="function"||typeof X=="object")&&(0,F.jsx)(X,{})]}),k&&(0,F.jsx)(R.C,{className:"times-icon",name:"general/times",onClick:A})]})]})})})}}(0,s.A)(B,"defaultProps",{isShow:!1,type:"info",showClose:!1,isReactDom:!1,svgName:""});const pe=D.Ay.div.withConfig({displayName:"styles__StyledNoticeTipsContainer",componentId:"sc-1ewb7bf-0"})(["position:fixed;left:50%;top:56px;max-width:480px;transform:translateX(-50%);z-index:1052;"]);var V=n(69623);class G extends p.PureComponent{constructor(L){super(L),(0,s.A)(this,"timerId",null),(0,s.A)(this,"handleDisappear",()=>{typeof this.props.closeCallback=="function"&&this.props.closeCallback()}),this.el=document.createElement("div")}componentDidMount(){document.body.appendChild(this.el),this.props.isShow&&this.updateTimer()}componentDidUpdate(L,Z,u){const{isShow:k,id:T}=this.props,{isShow:X,id:y}=L;(T!==y&&k||k&&k!==X)&&this.updateTimer()}updateTimer(){this.timerId&&clearTimeout(this.timerId);const{duration:L}=this.props;this.timerId=L&&setTimeout(this.handleDisappear,L)}componentWillUnmount(){this.el&&document.body.contains(this.el)&&document.body.removeChild(this.el),this.timerId&&clearTimeout(this.timerId)}render(){const{isShow:L,type:Z,text:u,showClose:k,isReactDom:T,CustomChildComponent:X,svgName:y,className:A}=this.props;return(0,V.createPortal)(L&&(0,F.jsx)(pe,{className:A,children:(0,F.jsx)(B,{isShow:L,type:Z,showClose:k,onDisappear:this.handleDisappear,isReactDom:T,text:u,CustomChildComponent:X,svgName:y})}),this.el)}}(0,s.A)(G,"defaultProps",{text:"",isShow:!1,type:"info",showClose:!1,isReactDom:!1,CustomChildComponent:void 0,svgName:"",id:"",duration:2e3,closeCallback:()=>null});const I=G,v={isShow:!1,text:"",type:"info",showClose:!1,isReactDom:!1,CustomChildComponent:void 0,svgName:"",duration:2e3,id:""};class S extends p.PureComponent{constructor(L){super(L),(0,s.A)(this,"closeCallback",null),(0,s.A)(this,"handleDisappear",()=>{this.setState({isShow:!1}),typeof this.closeCallback=="function"&&this.closeCallback(),this.priority=0}),this.state=v,this.priority=0}componentDidMount(){MB.notice&&(this.prevNotice=MB.notice),MB.notice=L=>{let{text:Z,type:u="info",CustomChildComponent:k=void 0,duration:T=2e3,showClose:X=!1,isReactDom:y=!1,closeCallback:A=null,priority:se=0,svgName:ee="",id:ne=Math.random().toString(36).slice(2),isShow:te=!0}=L;this.priority>se||(clearTimeout(this.timer),this.setState({isShow:te,text:Z,type:u,showClose:X,id:ne,isReactDom:y,CustomChildComponent:k,svgName:ee,duration:T}),this.closeCallback=A,this.priority=se)}}componentWillUnmount(){this.setState({isShow:!1}),this.prevNotice&&(MB.notice=this.prevNotice)}render(){const{isShow:L,type:Z,duration:u,text:k,showClose:T,id:X,isReactDom:y,CustomChildComponent:A,svgName:se}=this.state;return(0,F.jsxs)(F.Fragment,{children:[(0,F.jsx)(I,{className:"notice-tips-container",isShow:L,type:Z,text:k,id:X,duration:u,showClose:T,isReactDom:y,CustomChildComponent:A,svgName:se,closeCallback:this.handleDisappear}),(0,F.jsx)(Q,{})]})}}const g=C=>(0,p.memo)(()=>{const L=()=>(0,M.JW)("/hc/articles/393","_blank","noreferrer");return(0,F.jsx)("a",{style:{cursor:"pointer"},onClick:L,children:C})}),f=n.j!=15?(0,p.memo)(()=>{const C=(0,d.wA)(),L=()=>C({type:"toolbar:sharingManager:open"});return(0,F.jsx)("a",{onClick:L,children:I18N.ScreenPanel.share_panel})}):null,h=C=>(0,p.memo)(()=>{const L=()=>(0,M.JW)(I18N.link.link_article_business_font_state,"_blank","noreferrer");return(0,F.jsx)("a",{className:"button-a",onClick:L,children:C})}),b=C=>{let{onClick:L}=C;return(0,p.memo)(()=>{const Z=(0,d.wA)(),u=()=>{L&&L(Z)};return(0,F.jsxs)(F.Fragment,{children:[(0,F.jsx)("a",{className:"button-a",onClick:u,children:I18N.dModule.network_api_error_2}),(0,F.jsx)("p",{className:"button-p",children:I18N.dModule.network_api_error_3})]})})}},89022:function(Ce){(function(ae,n){Ce.exports=n()})(this,function(){"use strict";return function(ae,n,s){n.prototype.isBetween=function(p,M,d,D){var Q=s(p),z=s(M),R=(D=D||"()")[0]==="(",q=D[1]===")";return(R?this.isAfter(Q,d):!this.isBefore(Q,d))&&(q?this.isBefore(z,d):!this.isAfter(z,d))||(R?this.isBefore(Q,d):!this.isAfter(Q,d))&&(q?this.isAfter(z,d):!this.isBefore(z,d))}}})},89208:(Ce,ae,n)=>{"use strict";n.d(ae,{n:()=>F,A:()=>ie});var s=n(38502),p=n(53732),M=n.n(p),d=n(17307),D=n(83199),Q=n(71272),z=n(67787);const R=z.Ay.ol.withConfig({displayName:"styles__StyledNewSlideNav",componentId:"sc-17e9w47-0"})(["display:flex;height:48px;.nav-label{position:relative;height:100%;padding:0 3px;display:flex;align-items:center;justify-content:center;white-space:nowrap;}.nav-item{position:relative;display:flex;flex:none;justify-content:center;align-items:center;color:",";padding:0 3px;cursor:pointer;.nav-underline{position:absolute;display:none;bottom:0;width:70%;border-bottom:2px solid ",";}&:lang(ja){font-size:10px;}&.active{color:",";&:not(:first-child:nth-last-child(1)){.nav-underline{display:inline;}}&.background_active{background-color:transparent;}&.line_active::after{content:'';position:absolute;bottom:0;width:30px;height:2px;background:",";}}&.disabled{color:",";cursor:not-allowed;}&:not(:first-child){}.tabNewIcon{position:absolute;width:30px;top:0;right:3px;path:first-child{fill:#1684fc;}path:last-child{fill:#fff;}}}.nav-item-small:lang(en){font-size:10px;}min-height:48px;padding:0 6px;.nav-item{font-size:13px;&.active{font-weight:bold;}}"],B=>B.theme.color_text_L3,B=>B.theme.color_text_L1,B=>B.theme.color_text_L1,B=>B.theme.color_text_L1,B=>B.theme.color_text_disabled01);var q=n(72214);const N=(0,s.memo)(B=>{let{activeIndex:pe=0,className:V,children:G,onTabChange:I}=B;return(0,q.jsx)(R,{className:M()(V),children:s.Children.map(G,(v,S)=>{const g={index:S,active:S===pe,onClick:I};return s.cloneElement(v,g)})})}),F=(0,s.memo)(B=>{let{className:pe,index:V,active:G,onClick:I,label:v,tooltip:S,isNew:g,disabled:f,tempDisabled:h,canMouseEnterChange:b=!1}=B;const C=(0,s.useRef)(null),L=()=>{if(f)return h&&MB.notice({text:I18N.Common.feature_is_not_available,type:"warning"}),null;I(V)},Z=()=>{b&&(C.current&&clearTimeout(C.current),C.current=setTimeout(()=>{L==null||L()},Q.w))},u=()=>{b&&C.current&&(clearTimeout(C.current),C.current=null)},k=(0,q.jsxs)("li",{className:M()("nav-item",{active:G},{disabled:f},pe),onClick:L,onMouseEnter:Z,onMouseLeave:u,children:[v&&(0,q.jsxs)("span",{className:"nav-label",children:[v,S&&S]}),g&&(0,q.jsx)(d.C,{name:"design/tab/new",className:"tabNewIcon"})]});return f?(0,q.jsx)(D.A,{content:"\u6682\u4E0D\u5F00\u653E",direction:"down",children:k}):k}),ie=N},90108:(Ce,ae,n)=>{"use strict";n.d(ae,{A:()=>v});var s=n(38502),p=n(67787),M=n(25582),d=n.n(M),D=n(63986),Q=n.n(D),z=n(69368);const R=p.Ay.label.withConfig({displayName:"styled__StyledLabel",componentId:"sc-1pwp3tx-0"})(["position:relative;display:inline-flex;align-items:baseline;line-height:1.5;cursor:pointer;color:#5b6b73;> input[type=radio]{position:absolute;opacity:0;}&.regular{font-size:14px;}&.small{font-size:12px;.Check-state{transform:translateY(2px);}}&.readonly{cursor:default;}&.is-disabled{cursor:not-allowed;&::after{content:'';position:absolute;left:0;top:0;width:100%;height:100%;background-color:rgba(255,255,255,0.5);}}.Check-state{position:relative;flex:0 0 1em;margin-right:0.33333em;width:1em;height:1em;transform:translateY(1px);font-size:12px;background-color:#f6f7f8;border:1px solid #8d9ea7;border-radius:2px;color:#fff;.svg-icon.check{position:absolute;top:-1px;left:-1px;opacity:0;}}&.small .Check-state{transform:translateY(2px);}&.CoreRadio,&.Radio{&.is-checked{.Check-state{background-color:#298df8;border-color:transparent;color:#fff;.svg-icon.check{transform:scale(0.833);}}}}&:not(.is-checked) .Check-state .icon{speak:none;opacity:0;}&.CoreRadio{.Check-state{background-color:#fff;border-color:#bacdd6;}&.is-checked .Check-state{background-color:#eb5648;}}"]),q=(0,p.Ay)(R).withConfig({displayName:"styled__StyledRadio",componentId:"sc-1pwp3tx-1"})([".Check-state{padding:1px;border-radius:50%;&:after{content:'';position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);display:block;width:4px;height:4px;background-color:#fff;border-radius:50%;}}.is-checked .Check-state{position:relative;}"]),N=p.Ay.span.withConfig({displayName:"styled__StyledRadioGroup",componentId:"sc-1pwp3tx-2"})(["position:relative;display:flex;flex-wrap:wrap;&.is-disabled{cursor:not-allowed;}.Radio,.CoreRadio{margin-right:.5em;min-height:2em;}"]);var F=n(72214);function ie(S,g,f){return(g=B(g))in S?Object.defineProperty(S,g,{value:f,enumerable:!0,configurable:!0,writable:!0}):S[g]=f,S}function B(S){var g=pe(S,"string");return typeof g=="symbol"?g:g+""}function pe(S,g){if(typeof S!="object"||!S)return S;var f=S[Symbol.toPrimitive];if(f!==void 0){var h=f.call(S,g||"default");if(typeof h!="object")return h;throw new TypeError("@@toPrimitive must return a primitive value.")}return(g==="string"?String:Number)(S)}class V extends s.PureComponent{constructor(){super(...arguments),ie(this,"state",{prevProps:this.props,isChecked:this.props.isChecked}),ie(this,"onToggle",()=>{const{name:g,value:f,label:h,onToggle:b,onChange:C}=this.props,{isChecked:L}=this.state,{canToggle:Z}=this,u=Z?!0:L;this.setState({isChecked:u}),b(u,g,f||h),C(g,f||h,u)})}static getDerivedStateFromProps(g,f){let{prevProps:h,isChecked:b}=f;return Q()(h,g)?null:{prevProps:g,isChecked:g.isChecked}}get isDisabled(){const{isDisabled:g,disabled:f}=this.props;return g||f}get readOnly(){return this.props.readOnly}get canToggle(){const{isDisabled:g,readOnly:f}=this;return!g&&!f}render(){const{size:g,theme:f,className:h,label:b,name:C}=this.props,{isChecked:L}=this.state,{isDisabled:Z,readOnly:u}=this;return(0,F.jsxs)(q,{className:(0,z.Hn)([f==="core"?"CoreRadio":"Radio",g,h,L&&"is-checked",Z&&"is-disabled",u&&"readonly"]),children:[(0,F.jsx)("input",{type:"radio",defaultChecked:L,disabled:Z,name:C,onClick:this.onToggle}),(0,F.jsx)("span",{className:"Check-state"}),(0,F.jsx)("span",{className:"Check-label",children:b})]})}}ie(V,"propTypes",{size:d().oneOf(["regular","small"]),theme:d().oneOf(["core","plain"]),className:d().string,label:d().any,name:d().string,value:d().any,isChecked:d().bool,isDisabled:d().bool,disabled:d().bool,readOnly:d().bool,onChange:d().func.isRequired,onToggle:d().func.isRequired}),ie(V,"defaultProps",{size:"regular",theme:"plain",isChecked:!1,label:"",className:"",onChange:()=>null,onToggle:()=>null});class G extends s.PureComponent{constructor(){super(...arguments),ie(this,"name",this.props.name||Math.random().toString(36).substring(2,15)),ie(this,"state",{prevProps:this.props,value:this.props.value}),ie(this,"createOnChangeHandler",(g,f,h)=>()=>{const{onToggle:b,onChange:C}=this.props,{value:L}=this.state,{canToggle:Z}=this,u=Z?f:L;this.setState({value:u}),b(u,g),C({name:g,value:u,idx:h})})}static getDerivedStateFromProps(g,f){let{prevProps:h,value:b}=f;return Q()(h,g)?null:{prevProps:g,value:g.value}}get isDisabled(){const{isDisabled:g,disabled:f}=this.props;return g||f}get readOnly(){return this.props.readOnly}get canToggle(){const{isDisabled:g,readOnly:f}=this;return!g&&!f}render(){const{size:g,theme:f,className:h,optionList:b}=this.props,{value:C}=this.state,{name:L,isDisabled:Z,readOnly:u}=this,k=(0,z.Hn)([f==="core"?"CoreRadioGroup":"RadioGroup",g,h,Z&&"is-disabled",u&&"readonly"]);return(0,F.jsx)(N,{className:k,children:b.map((T,X)=>T&&(0,F.jsx)(V,{name:L,size:g,theme:f,label:(0,z.Oi)(T),type:"radio",isChecked:(0,z.o3)(T,C),isDisabled:Z||T.isDisabled,readOnly:u,onChange:Z||T.isDisabled?void 0:this.createOnChangeHandler(L,(0,z.nE)(T),X)},X))})}}ie(G,"propTypes",{size:d().oneOf(["regular","small"]),theme:d().oneOf(["core","plain"]),className:d().string,name:d().string,optionList:d().arrayOf(d().oneOfType([d().string,d().number,d().shape({label:d().any,value:d().any,isDisabled:d().bool})])).isRequired,value:d().oneOfType([d().number,d().string]),isDisabled:d().bool,disabled:d().bool,readOnly:d().bool,onChange:d().func.isRequired,onToggle:d().func.isRequired}),ie(G,"defaultProps",{size:"regular",theme:"plain",className:"",optionList:[],onChange:()=>null,onToggle:()=>null});const I=(0,p.Ay)(G).withConfig({displayName:"styles__StyledRadioGroup",componentId:"sc-1x96wso-0"})([".Radio{color:",';input[type="radio"]{cursor:pointer;}&.is-checked{color:',";.Check-state{background:",";&::after{background:#fff;}}}&:not(.is-checked){.Check-state{background:",";border:1px solid ",";&::after{background:",";}}}&.is-disabled::after{background-color:",";opacity:0.5;}}"],S=>S.theme.color_text_L2,S=>S.theme.color_text_L1,S=>S.theme.color_proto,S=>S.theme.color_bg_white,S=>S.theme.color_text_disabled01,S=>S.theme.color_bg_white,S=>S.theme.color_bg_white);class v extends s.PureComponent{render(){return(0,F.jsx)(I,{...this.props})}}},91752:(Ce,ae,n)=>{"use strict";n.d(ae,{Ay:()=>V});var s=n(38502),p=n(25582),M=n.n(p),d=n(45525),D=n.n(d),Q=n(51582),z=n(69368),R=n(67787);const q=R.Ay.button.withConfig({displayName:"styled__StyledButton",componentId:"sc-1p06iev-0"})(["&.RegularButton,&.PrimaryButton,&.PrimaryCoreButton,&.RegularCoreButton,&.SecondaryCoreButton,&.TertiaryCoreButton{padding:0 0.5em;height:2.125rem;font-size:0.875rem;border:1px solid;border-radius:2px;cursor:pointer;transition:all 0.2s ease-out;&:not(button){display:inline-flex;justify-content:center;align-items:center;}&:disabled{cursor:not-allowed;opacity:0.6;}.icon{margin-right:0.125em;}&.small{height:2em;font-size:0.75rem;}.svg-icon.loading{margin-right:0.5em;vertical-align:-.15em;animation:ibot-ani-spinning 1.5s infinite ease-out;}}&.PrimaryCoreButton,&.RegularCoreButton,&.SecondaryCoreButton,&.TertiaryCoreButton{padding:0 1em;height:2.375rem;&.small{height:2em;}&:disabled{background-color:#f6f7f8;border-color:#dedee4;color:#c8cdd1;opacity:1;}}&.PrimaryCoreButton{background-color:#eb5648;&,&:link,&:visited{border-color:transparent;color:#fff;}&:enabled:hover,a&:hover{background-color:#ef776c;color:#fff;}&:enabled:active,a&:active{background-color:#bc4439;color:#e4b4b0;}}&.RegularCoreButton,&.SecondaryCoreButton{background-color:#fff;&,&:link,&:visited{color:#eb5648;}&:enabled:hover,a&:hover{border-color:#ffa39e;color:#ef776c;}&:enabled:active,a&:active{border-color:#e84030;color:#bc4439;}}&.TertiaryCoreButton{background-color:#fff;border-color:#c8cdd1;&,&:link,&:visited{color:#415058;}&:enabled:hover,a&:hover{background-color:#8d9ea7;border-color:#7d8694;color:#fff;}&:enabled:active,a&:active{background-color:#5b6b73;border-color:#415058;}}&.RegularButton{&,&:link,&:visited{color:#8d9ea7;}&:enabled:hover,a&:hover{color:#5b6b73;}&:disabled{opacity:0.6;}}&.PrimaryButton{background-color:#8d9ea7;border-color:transparent;&,&:link,&:visited{color:#fff;}&:enabled:hover,a&:hover{background-color:#5b6b73;color:#fff;}&:enabled:active,a&:active{color:rgba(255,255,255,0.6);}}&.TextButton,&.TextCoreButton{transition:all 0.1s ease-out;&,&:link,&:visited{color:#298df8;}&:disabled{cursor:not-allowed;opacity:0.6;}&:enabled:hover,a&:hover{color:#0d7ef7;text-decoration:underline;}.svg-icon.loading{margin-right:0.25em;vertical-align:-.15em;animation:ibot-ani-spinning 1.5s infinite ease-out;}.icon{margin-right:0.125em;}&.small{height:2em;font-size:0.75rem;}}&.TextCoreButton{&,&:link,&:visited{color:#eb5648;}&:enabled:hover,a&:hover{color:#ef776c;text-decoration:none;}&:enabled:active,a&:active{color:#bc4439;}}"]);var N=n(72214);function F(S,g,f){return(g=ie(g))in S?Object.defineProperty(S,g,{value:f,enumerable:!0,configurable:!0,writable:!0}):S[g]=f,S}function ie(S){var g=B(S,"string");return typeof g=="symbol"?g:g+""}function B(S,g){if(typeof S!="object"||!S)return S;var f=S[Symbol.toPrimitive];if(f!==void 0){var h=f.call(S,g||"default");if(typeof h!="object")return h;throw new TypeError("@@toPrimitive must return a primitive value.")}return(g==="string"?String:Number)(S)}const pe={primary:"Primary",regular:"Regular",secondary:"Regular",tertiary:"Tertiary",text:"Text"};class V extends s.PureComponent{get className(){const{type:g,theme:f,size:h,className:b}=this.props,{isDisabled:C,isLoading:L}=this;return(0,z.Hn)(["Button",""+pe[g]+(f==="core"?"CoreButton":"Button"),h!=="regular"&&h,L&&"is-loading",C&&"is-disabled",b])}get isDisabled(){const{isDisabled:g,disabled:f}=this.props;return g||f}get isLoading(){const{isLoading:g,loading:f}=this.props;return g||f}render(){const{className:g,isLoading:f,isDisabled:h}=this,{iconType:b,icon:C,children:L,...Z}=this.props;return(0,N.jsx)(q,{className:g,disabled:h,onClick:u=>h&&u.preventDefault(),type:"button",...D()(Z,["className","type","theme","isDisabled","disabled","isLoading","loading"]),children:(0,N.jsxs)(N.Fragment,{children:[f&&(0,N.jsx)(Q.A,{name:"loading"}),C&&b==="svg"&&(0,N.jsx)(Q.A,{name:C}),L]})})}}F(V,"propTypes",{type:M().oneOf(["primary","regular","secondary","tertiary","text"]),size:M().oneOf(["regular","small"]),theme:M().oneOf(["core","plain"]),iconType:M().oneOf(["svg","dora","mb","icon","fa","md"]),icon:M().string,className:M().string,isDisabled:M().bool,disabled:M().bool,isLoading:M().bool,loading:M().bool,children:M().any,html:M().string}),F(V,"defaultProps",{type:"regular",size:"regular",theme:"plain",icon:"",className:"",isDisabled:!1});function G(S){return _jsx(V,{...S,theme:"core"})}function I(S){return _jsx(G,{...S,type:"primary"})}function v(S){return _jsx(G,{...S,type:"tertiary"})}},92114:(Ce,ae,n)=>{"use strict";n.d(ae,{A:()=>V});var s=n(38502),p=n(67787),M=n(25582),d=n.n(M),D=n(63986),Q=n.n(D),z=n(69368);const R=p.Ay.label.withConfig({displayName:"styled__StyledSwitch",componentId:"sc-16h4tgy-0"})(["position:relative;display:inline-block;margin:0 10px;width:28px;height:10px;vertical-align:text-bottom;background:rgba(22,132,252,0.4);border-radius:100px;cursor:pointer;transform:matrix(-1,0,0,1,0,0);transition:all 0.2s ease-in;transition-delay:0.15s;&.readonly{cursor:default;}> button{position:absolute;top:-20%;left:0;display:flex;justify-content:center;align-items:center;width:14px;height:14px;font-size:14px;border-radius:50%;background:#1684FC;box-shadow:0px 1px 1px rgba(0,0,0,0.15),0px 0px 2px rgba(0,0,0,0.12);transform:matrix(-1,0,0,1,0,0);cursor:inherit;transition:all 0.2s cubic-bezier(0.55,0.06,0.68,0.19);}&.small{width:28px;height:10px;vertical-align:baseline;> button{width:14px;height:14px;border-width:1px;}}&.is-checked{background:#dbdbdb;> button{transform:translate(14px,0%);cursor:inherit;background-color:#fff;box-shadow:0px 1px 1px rgba(0,0,0,0.15),0px 0px 2px rgba(0,0,0,0.12);}&.small > button{transform:translate(14px,0);background-color:#999;}&.small{background-color:#59515c;}}&.is-disabled{background-color:#dedee4;cursor:not-allowed;&.is-checked{background-color:rgba(22,132,252,0.4);}button{background-color:#f6f7f8;}}&.Switch-IOS{background:#1684fc;transform:matrix(1,0,0,1,0,0);transition:all 0.2s ease-in;> button{top:1px;left:1px;background:#fff;transform:matrix(1,0,0,1,0,0);}&.small{width:24px;height:12px;border-radius:6px;> button{width:10px;height:10px;border-width:0;}}&.is-checked{&.small > button{transform:translate(12px,0);background-color:#fff;}&.small{background-color:#ccc;}}}&.Switch-IOS-NoTransform{background:#1684fc;transition:all 0.2s ease-in;> button{top:1px;left:1px;background:#fff;transform:matrix(1,0,0,1,0,0);}&.small{width:24px;height:12px;border-radius:6px;> button{width:10px;height:10px;border-width:0;}}&.is-checked{&.small > button{transform:translate(12px,0);background-color:#fff;}&.small{background-color:#ccc;}}}"]);var q=n(72214);function N(G,I,v){return(I=F(I))in G?Object.defineProperty(G,I,{value:v,enumerable:!0,configurable:!0,writable:!0}):G[I]=v,G}function F(G){var I=ie(G,"string");return typeof I=="symbol"?I:I+""}function ie(G,I){if(typeof G!="object"||!G)return G;var v=G[Symbol.toPrimitive];if(v!==void 0){var S=v.call(G,I||"default");if(typeof S!="object")return S;throw new TypeError("@@toPrimitive must return a primitive value.")}return(I==="string"?String:Number)(G)}class B extends s.PureComponent{constructor(){super(...arguments),N(this,"state",{prevProps:this.props,isChecked:this.props.isChecked}),N(this,"toggle",I=>{let{target:v}=I;const{onChange:S}=this.props,{isChecked:g}=this.state,{isDisabled:f,canToggle:h}=this,b=h?!g:g;return v.blur(),this.setState({isChecked:b}),!f&&S(b)})}static getDerivedStateFromProps(I,v){let{prevProps:S}=v;return Q()(S,I)?null:{prevProps:I,isChecked:I.isChecked}}get isDisabled(){const{isDisabled:I,disabled:v}=this.props;return I||v}get readOnly(){return this.props.readOnly}get canToggle(){const{isDisabled:I,readOnly:v}=this;return!I&&!v}render(){const{size:I,readOnly:v,className:S,children:g,isIOS:f,isIOSReverse:h}=this.props,{isChecked:b}=this.state,{isDisabled:C}=this;return(0,q.jsxs)(R,{className:(0,z.Hn)(["Switch",f&&"Switch-IOS",h&&"Switch-IOS-NoTransform",I,b?"is-checked":"isnt-checked",C&&"is-disabled",v&&"readonly",S]),children:[(0,q.jsx)("button",{type:"button",disabled:C,onClick:this.toggle}),g]})}}N(B,"propTypes",{className:d().string,size:d().oneOf(["regular","small"]),isChecked:d().bool,isDisabled:d().bool,disabled:d().bool,readOnly:d().bool,isIOS:d().bool,isIOSReverse:d().bool,onChange:d().func,children:d().any}),N(B,"defaultProps",{className:"",size:"regular",isChecked:!1,isDisabled:!1,disabled:!1,readOnly:!1,isIOS:!1,isIOSReverse:!1,onChange:()=>null});const pe=(0,p.Ay)(B).withConfig({displayName:"styles__StyledSwitch",componentId:"sc-1wltq4q-0"})(["&.Switch-IOS{background:",";transform:matrix(1,0,0,-1,0,0);margin:0;button{border:unset;background:",";}&.regular{width:30px;height:14px;button{height:12px;width:12px;}}&.is-checked{&.small,&.regular{background:",";button{background:",";}}&.regular  button{transform:translate(15px,0);}}}"],G=>G.theme.color_text_disabled01,G=>G.theme.color_text_btn,G=>G.theme.color_proto,G=>G.theme.color_text_btn);class V extends s.PureComponent{render(){return(0,q.jsx)(pe,{...this.props})}}},94827:(Ce,ae,n)=>{"use strict";n.d(ae,{A:()=>s});function s(p){if(p===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p}},96411:Ce=>{var ae="\\ud800-\\udfff",n="\\u0300-\\u036f",s="\\ufe20-\\ufe2f",p="\\u20d0-\\u20ff",M=n+s+p,d="\\u2700-\\u27bf",D="a-z\\xdf-\\xf6\\xf8-\\xff",Q="\\xac\\xb1\\xd7\\xf7",z="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",R="\\u2000-\\u206f",q=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",N="A-Z\\xc0-\\xd6\\xd8-\\xde",F="\\ufe0e\\ufe0f",ie=Q+z+R+q,B="['\u2019]",pe="["+ie+"]",V="["+M+"]",G="\\d+",I="["+d+"]",v="["+D+"]",S="[^"+ae+ie+G+d+D+N+"]",g="\\ud83c[\\udffb-\\udfff]",f="(?:"+V+"|"+g+")",h="[^"+ae+"]",b="(?:\\ud83c[\\udde6-\\uddff]){2}",C="[\\ud800-\\udbff][\\udc00-\\udfff]",L="["+N+"]",Z="\\u200d",u="(?:"+v+"|"+S+")",k="(?:"+L+"|"+S+")",T="(?:"+B+"(?:d|ll|m|re|s|t|ve))?",X="(?:"+B+"(?:D|LL|M|RE|S|T|VE))?",y=f+"?",A="["+F+"]?",se="(?:"+Z+"(?:"+[h,b,C].join("|")+")"+A+y+")*",ee="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",ne="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",te=A+y+se,fe="(?:"+[I,b,C].join("|")+")"+te,De=RegExp([L+"?"+v+"+"+T+"(?="+[pe,L,"$"].join("|")+")",k+"+"+X+"(?="+[pe,L+u,"$"].join("|")+")",L+"?"+u+"+"+T,L+"+"+X,ne,ee,G,fe].join("|"),"g");function Ye(je){return je.match(De)||[]}Ce.exports=Ye},96582:(Ce,ae,n)=>{"use strict";n.d(ae,{Ay:()=>V});var s=n(8509),p=n(18941),M=n(38502),d=n(69623);const D={disabled:!1},Q=M.createContext(null);var z=n(99129),R="unmounted",q="exited",N="entering",F="entered",ie="exiting",B=function(G){(0,p.A)(I,G);function I(S,g){var f;f=G.call(this,S,g)||this;var h=g,b=h&&!h.isMounting?S.enter:S.appear,C;return f.appearStatus=null,S.in?b?(C=q,f.appearStatus=N):C=F:S.unmountOnExit||S.mountOnEnter?C=R:C=q,f.state={status:C},f.nextCallback=null,f}I.getDerivedStateFromProps=function(g,f){var h=g.in;return h&&f.status===R?{status:q}:null};var v=I.prototype;return v.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},v.componentDidUpdate=function(g){var f=null;if(g!==this.props){var h=this.state.status;this.props.in?h!==N&&h!==F&&(f=N):(h===N||h===F)&&(f=ie)}this.updateStatus(!1,f)},v.componentWillUnmount=function(){this.cancelNextCallback()},v.getTimeouts=function(){var g=this.props.timeout,f,h,b;return f=h=b=g,g!=null&&typeof g!="number"&&(f=g.exit,h=g.enter,b=g.appear!==void 0?g.appear:h),{exit:f,enter:h,appear:b}},v.updateStatus=function(g,f){if(g===void 0&&(g=!1),f!==null)if(this.cancelNextCallback(),f===N){if(this.props.unmountOnExit||this.props.mountOnEnter){var h=this.props.nodeRef?this.props.nodeRef.current:d.findDOMNode(this);h&&(0,z.F)(h)}this.performEnter(g)}else this.performExit();else this.props.unmountOnExit&&this.state.status===q&&this.setState({status:R})},v.performEnter=function(g){var f=this,h=this.props.enter,b=this.context?this.context.isMounting:g,C=this.props.nodeRef?[b]:[d.findDOMNode(this),b],L=C[0],Z=C[1],u=this.getTimeouts(),k=b?u.appear:u.enter;if(!g&&!h||D.disabled){this.safeSetState({status:F},function(){f.props.onEntered(L)});return}this.props.onEnter(L,Z),this.safeSetState({status:N},function(){f.props.onEntering(L,Z),f.onTransitionEnd(k,function(){f.safeSetState({status:F},function(){f.props.onEntered(L,Z)})})})},v.performExit=function(){var g=this,f=this.props.exit,h=this.getTimeouts(),b=this.props.nodeRef?void 0:d.findDOMNode(this);if(!f||D.disabled){this.safeSetState({status:q},function(){g.props.onExited(b)});return}this.props.onExit(b),this.safeSetState({status:ie},function(){g.props.onExiting(b),g.onTransitionEnd(h.exit,function(){g.safeSetState({status:q},function(){g.props.onExited(b)})})})},v.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},v.safeSetState=function(g,f){f=this.setNextCallback(f),this.setState(g,f)},v.setNextCallback=function(g){var f=this,h=!0;return this.nextCallback=function(b){h&&(h=!1,f.nextCallback=null,g(b))},this.nextCallback.cancel=function(){h=!1},this.nextCallback},v.onTransitionEnd=function(g,f){this.setNextCallback(f);var h=this.props.nodeRef?this.props.nodeRef.current:d.findDOMNode(this),b=g==null&&!this.props.addEndListener;if(!h||b){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var C=this.props.nodeRef?[this.nextCallback]:[h,this.nextCallback],L=C[0],Z=C[1];this.props.addEndListener(L,Z)}g!=null&&setTimeout(this.nextCallback,g)},v.render=function(){var g=this.state.status;if(g===R)return null;var f=this.props,h=f.children,b=f.in,C=f.mountOnEnter,L=f.unmountOnExit,Z=f.appear,u=f.enter,k=f.exit,T=f.timeout,X=f.addEndListener,y=f.onEnter,A=f.onEntering,se=f.onEntered,ee=f.onExit,ne=f.onExiting,te=f.onExited,fe=f.nodeRef,De=(0,s.A)(f,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return M.createElement(Q.Provider,{value:null},typeof h=="function"?h(g,De):M.cloneElement(M.Children.only(h),De))},I}(M.Component);B.contextType=Q,B.propTypes={};function pe(){}B.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:pe,onEntering:pe,onEntered:pe,onExit:pe,onExiting:pe,onExited:pe},B.UNMOUNTED=R,B.EXITED=q,B.ENTERING=N,B.ENTERED=F,B.EXITING=ie;const V=B},97974:(Ce,ae,n)=>{"use strict";n.d(ae,{in:()=>pe,Yr:()=>V,hE:()=>G});var s=n(67787),p=n(65609),M=n(95549),d=n(38502),D=n(53732),Q=n.n(D),z=n(72214);function R(I){let{className:v,renderIconList:S}=I;return(0,z.jsx)("span",{className:Q()("btn-icon",v),children:S.map((g,f)=>(0,z.jsx)("span",{className:"btn-icon-container",children:(0,z.jsx)(z.Fragment,{children:g})},f))})}const q=R;var N=n(22460);class F extends d.PureComponent{constructor(v){super(v),(0,M.A)(this,"getClassName",()=>{const{className:S,type:g,size:f,corner:h,disabled:b,icon:C,children:L}=this.props;return Q()(S,"button-root",{["type-"+g]:g,["size-"+f]:f,["corner-"+h]:h,"is-disabled":b,"has-icon":C&&L,"only-icon":C&&L===void 0})}),(0,M.A)(this,"onButtonClick",S=>{if(this.props.disabled){S.preventDefault();return}const{onClick:g}=this.props;g&&g(S)}),(0,M.A)(this,"getIconNode",()=>(0,z.jsx)(q,{renderIconList:this.state.iconList,className:this.props.className})),(0,M.A)(this,"getChildrenNode",()=>(0,z.jsx)("span",{className:"btn-text",children:this.props.children})),this.state={iconList:this.props.icon?[this.props.icon]:[]}}componentDidUpdate(v){let{icon:S}=v;const{icon:g}=this.props;S!==g&&this.setState({iconList:g?[this.props.icon]:[]})}render(){const v=this.getClassName(),S=this.getIconNode(),g=this.getChildrenNode();return(0,z.jsx)(N.O,{className:v,onClick:this.onButtonClick,children:(0,z.jsxs)("div",{className:Q()("btn-icon-text-container"),children:[S,g]})})}}(0,M.A)(F,"defaultProps",{type:"linear",disabled:!1,size:"common",corner:"smooth"});var ie=n(60719);const B=(I,v)=>{const S=I.forceTheme;return S?ie.f[v]["value_"+S]:I.theme[v]},pe=(0,s.AH)(["line-height:18px;&[class*='type-primary']{color:",";background:",";border:1px solid transparent;&:hover:not([class*='is-disabled']){background:",";border:1px solid transparent;}&:active:not([class*='is-disabled']){background:",";border:1px solid transparent;}&[class*='is-disabled']{color:",";background:",";border:1px solid transparent;}}&[class*='type-secondary']{color:",";background:",";border:1px solid ",";&:hover:not([class*='is-disabled']){background:",";border:1px solid ",";}&:active:not([class*='is-disabled']){background:",";border:1px solid ",";}&[class*='is-disabled']{color:",";background:",";border:1px solid ",";}}&[class*='type-danger']{color:",";background:",";border:1px solid transparent;&:hover:not([class*='is-disabled']){background:",";border:1px solid transparent;}&:active:not([class*='is-disabled']){background:",";border:1px solid transparent;}&[class*='is-disabled']{color:",";background:",";border:1px solid transparent;}}&[class*='type-text']{color:",";background:transparent;border:1px solid transparent;&:hover:not([class*='is-disabled']){background:",";border:1px solid transparent;}&:active:not([class*='is-disabled']){background:",";border:1px solid transparent;}&[class*='is-disabled']{color:",";background:transparent;border:1px solid transparent;}}&[class*='size-tiny']{max-height:28px;font-size:12px;line-height:14px;padding:6px 8px;.btn-icon-text-container{min-width:46px;}}&[class*='size-common']{max-height:32px;font-size:13px;padding:6px 10px;.btn-icon-text-container{min-width:58px;}}&[class*='size-medium']{max-height:32px;font-size:13px;padding:6px 12px;.btn-icon-text-container{min-width:70px;}}&[class*='is-disabled']{opacity:1;}"],I=>B(I,"color_text_btn"),I=>B(I,"color_btn_primary_normal"),I=>B(I,"color_btn_primary_hover"),I=>B(I,"color_btn_primary_clicked"),I=>B(I,"color_text_disabled02"),I=>B(I,"color_btn_primary_disabled"),I=>B(I,"color_text_L1"),I=>B(I,"color_bg_white"),I=>B(I,"color_bg_border_02"),I=>B(I,"color_btn_secondary_hover"),I=>B(I,"color_bg_border_02"),I=>B(I,"color_btn_secondary_active"),I=>B(I,"color_bg_border_02"),I=>B(I,"color_text_disabled01"),I=>B(I,"color_bg_white"),I=>B(I,"color_bg_border_02"),I=>B(I,"color_text_btn"),I=>B(I,"color_btn_danger_normal"),I=>B(I,"color_btn_danger_hover"),I=>B(I,"color_btn_danger_clicked"),I=>B(I,"color_text_disabled02"),I=>B(I,"color_btn_danger_disabled"),I=>B(I,"color_text_L1"),I=>B(I,"color_btn_secondary_hover"),I=>B(I,"color_btn_secondary_active"),I=>B(I,"color_text_disabled01")),V=(0,s.Ay)(p.A).withConfig({displayName:"styles__StyledProtoButton",componentId:"sc-1pmgkeq-0"})(["",";"],pe),G=(0,s.Ay)(F).withConfig({displayName:"styles__StyledProtoIconButton",componentId:"sc-1pmgkeq-1"})(["",";"],pe)},99129:(Ce,ae,n)=>{"use strict";n.d(ae,{F:()=>s});var s=function(M){return M.scrollTop}}}]);

//# sourceMappingURL=4.n9fxu-vendor-c6d8b49a4bdcf3c95aeb.js.map